"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _mithril=require("mithril"),_mithril2=_interopRequireDefault(_mithril),_github=require("app/app/github"),_github2=_interopRequireDefault(_github),_mithrilInfinite=require("mithril-infinite"),_mithrilInfinite2=_interopRequireDefault(_mithrilInfinite),_styler=require("app/app/styler"),_styler2=_interopRequireDefault(_styler),_horizontalStyle=require("./horizontal-style"),_horizontalStyle2=_interopRequireDefault(_horizontalStyle);_styler2.default.add("horizontal",_horizontalStyle2.default);var IMG_URL="http://arthurclemens.github.io/assets/mithril-infinite-scroll/thumbs/",vm={seen:{}},fadeInImage=function(t,r){var e=IMG_URL+r,i=function(){t.style.backgroundImage="url("+e+")",t.style.opacity=1,vm.seen[e]=1};if(vm.seen[e])i();else{var n=new Image;n.onload=function(){i()},n.src=e}},item=function(e){return(0,_mithril2.default)("a.grid-item",(0,_mithril2.default)(".image-holder",(0,_mithril2.default)(".image",{config:function(t,n,i){i.inited||_mithrilInfinite2.default.isElementInViewport({el:t})&&(fadeInImage(t,e.src),i.inited=!0)}})))},component={};component.view=function(){return[_mithril2.default.component(_mithrilInfinite2.default,{maxPages:16,item:item,pageUrl:function(e){return"app/horizontal/data/page-"+e+".json"},class:"horizontal",axis:"x",pageSize:function(e){return 218*(e.length||12)},pageChange:function(e){console&&console.log("page",e)}}),(0,_github2.default)()]},exports.default=component;