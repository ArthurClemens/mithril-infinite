{"version":3,"file":"mithril-infinite-standalone.js","sources":["../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","../node_modules/j2c/dist/j2c.commonjs.js","../node_modules/mithril/mithril.js","../src/classes.js","../node_modules/verge/verge.js","../src/util.js","../node_modules/mithril/stream/stream.js","../src/page.js","../src/placeholder.js","../src/styler.js","../src/css.js","../src/index.js"],"sourcesContent":["/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\n/* eslint-disable require-jsdoc, valid-jsdoc */\nvar MapShim = (function () {\n    if (typeof Map !== 'undefined') {\n        return Map;\n    }\n\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\n    function getIndex(arr, key) {\n        var result = -1;\n\n        arr.some(function (entry, index) {\n            if (entry[0] === key) {\n                result = index;\n\n                return true;\n            }\n\n            return false;\n        });\n\n        return result;\n    }\n\n    return (function () {\n        function anonymous() {\n            this.__entries__ = [];\n        }\n\n        var prototypeAccessors = { size: { configurable: true } };\n\n        /**\r\n         * @returns {boolean}\r\n         */\n        prototypeAccessors.size.get = function () {\n            return this.__entries__.length;\n        };\n\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\n        anonymous.prototype.get = function (key) {\n            var index = getIndex(this.__entries__, key);\n            var entry = this.__entries__[index];\n\n            return entry && entry[1];\n        };\n\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\n        anonymous.prototype.set = function (key, value) {\n            var index = getIndex(this.__entries__, key);\n\n            if (~index) {\n                this.__entries__[index][1] = value;\n            } else {\n                this.__entries__.push([key, value]);\n            }\n        };\n\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\n        anonymous.prototype.delete = function (key) {\n            var entries = this.__entries__;\n            var index = getIndex(entries, key);\n\n            if (~index) {\n                entries.splice(index, 1);\n            }\n        };\n\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\n        anonymous.prototype.has = function (key) {\n            return !!~getIndex(this.__entries__, key);\n        };\n\n        /**\r\n         * @returns {void}\r\n         */\n        anonymous.prototype.clear = function () {\n            this.__entries__.splice(0);\n        };\n\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\n        anonymous.prototype.forEach = function (callback, ctx) {\n            var this$1 = this;\n            if ( ctx === void 0 ) ctx = null;\n\n            for (var i = 0, list = this$1.__entries__; i < list.length; i += 1) {\n                var entry = list[i];\n\n                callback.call(ctx, entry[1], entry[0]);\n            }\n        };\n\n        Object.defineProperties( anonymous.prototype, prototypeAccessors );\n\n        return anonymous;\n    }());\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\nvar global$1 = (function () {\n    if (typeof global !== 'undefined' && global.Math === Math) {\n        return global;\n    }\n\n    if (typeof self !== 'undefined' && self.Math === Math) {\n        return self;\n    }\n\n    if (typeof window !== 'undefined' && window.Math === Math) {\n        return window;\n    }\n\n    // eslint-disable-next-line no-new-func\n    return Function('return this')();\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\nvar requestAnimationFrame$1 = (function () {\n    if (typeof requestAnimationFrame === 'function') {\n        // It's required to use a bounded function because IE sometimes throws\n        // an \"Invalid calling object\" error if rAF is invoked without the global\n        // object on the left hand side.\n        return requestAnimationFrame.bind(global$1);\n    }\n\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\n})();\n\n// Defines minimum timeout before adding a trailing call.\nvar trailingTimeout = 2;\n\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\nvar throttle = function (callback, delay) {\n    var leadingCall = false,\n        trailingCall = false,\n        lastCallTime = 0;\n\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\n    function resolvePending() {\n        if (leadingCall) {\n            leadingCall = false;\n\n            callback();\n        }\n\n        if (trailingCall) {\n            proxy();\n        }\n    }\n\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\n    function timeoutCallback() {\n        requestAnimationFrame$1(resolvePending);\n    }\n\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\n    function proxy() {\n        var timeStamp = Date.now();\n\n        if (leadingCall) {\n            // Reject immediately following calls.\n            if (timeStamp - lastCallTime < trailingTimeout) {\n                return;\n            }\n\n            // Schedule new call to be in invoked when the pending one is resolved.\n            // This is important for \"transitions\" which never actually start\n            // immediately so there is a chance that we might miss one if change\n            // happens amids the pending invocation.\n            trailingCall = true;\n        } else {\n            leadingCall = true;\n            trailingCall = false;\n\n            setTimeout(timeoutCallback, delay);\n        }\n\n        lastCallTime = timeStamp;\n    }\n\n    return proxy;\n};\n\n// Minimum delay before invoking the update of observers.\nvar REFRESH_DELAY = 20;\n\n// A list of substrings of CSS properties used to find transition events that\n// might affect dimensions of observed elements.\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\n\n// Check if MutationObserver is available.\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\n\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\nvar ResizeObserverController = function() {\n    this.connected_ = false;\n    this.mutationEventsAdded_ = false;\n    this.mutationsObserver_ = null;\n    this.observers_ = [];\n\n    this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\n    this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\n};\n\n/**\r\n * Adds observer to observers list.\r\n *\r\n * @param {ResizeObserverSPI} observer - Observer to be added.\r\n * @returns {void}\r\n */\n\n\n/**\r\n * Holds reference to the controller's instance.\r\n *\r\n * @private {ResizeObserverController}\r\n */\n\n\n/**\r\n * Keeps reference to the instance of MutationObserver.\r\n *\r\n * @private {MutationObserver}\r\n */\n\n/**\r\n * Indicates whether DOM listeners have been added.\r\n *\r\n * @private {boolean}\r\n */\nResizeObserverController.prototype.addObserver = function (observer) {\n    if (!~this.observers_.indexOf(observer)) {\n        this.observers_.push(observer);\n    }\n\n    // Add listeners if they haven't been added yet.\n    if (!this.connected_) {\n        this.connect_();\n    }\n};\n\n/**\r\n * Removes observer from observers list.\r\n *\r\n * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n * @returns {void}\r\n */\nResizeObserverController.prototype.removeObserver = function (observer) {\n    var observers = this.observers_;\n    var index = observers.indexOf(observer);\n\n    // Remove observer if it's present in registry.\n    if (~index) {\n        observers.splice(index, 1);\n    }\n\n    // Remove listeners if controller has no connected observers.\n    if (!observers.length && this.connected_) {\n        this.disconnect_();\n    }\n};\n\n/**\r\n * Invokes the update of observers. It will continue running updates insofar\r\n * it detects changes.\r\n *\r\n * @returns {void}\r\n */\nResizeObserverController.prototype.refresh = function () {\n    var changesDetected = this.updateObservers_();\n\n    // Continue running updates if changes have been detected as there might\n    // be future ones caused by CSS transitions.\n    if (changesDetected) {\n        this.refresh();\n    }\n};\n\n/**\r\n * Updates every observer from observers list and notifies them of queued\r\n * entries.\r\n *\r\n * @private\r\n * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n *  dimensions of it's elements.\r\n */\nResizeObserverController.prototype.updateObservers_ = function () {\n    // Collect observers that have active observations.\n    var activeObservers = this.observers_.filter(function (observer) {\n        return observer.gatherActive(), observer.hasActive();\n    });\n\n    // Deliver notifications in a separate cycle in order to avoid any\n    // collisions between observers, e.g. when multiple instances of\n    // ResizeObserver are tracking the same element and the callback of one\n    // of them changes content dimensions of the observed target. Sometimes\n    // this may result in notifications being blocked for the rest of observers.\n    activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\n\n    return activeObservers.length > 0;\n};\n\n/**\r\n * Initializes DOM listeners.\r\n *\r\n * @private\r\n * @returns {void}\r\n */\nResizeObserverController.prototype.connect_ = function () {\n    // Do nothing if running in a non-browser environment or if listeners\n    // have been already added.\n    if (!isBrowser || this.connected_) {\n        return;\n    }\n\n    // Subscription to the \"Transitionend\" event is used as a workaround for\n    // delayed transitions. This way it's possible to capture at least the\n    // final state of an element.\n    document.addEventListener('transitionend', this.onTransitionEnd_);\n\n    window.addEventListener('resize', this.refresh);\n\n    if (mutationObserverSupported) {\n        this.mutationsObserver_ = new MutationObserver(this.refresh);\n\n        this.mutationsObserver_.observe(document, {\n            attributes: true,\n            childList: true,\n            characterData: true,\n            subtree: true\n        });\n    } else {\n        document.addEventListener('DOMSubtreeModified', this.refresh);\n\n        this.mutationEventsAdded_ = true;\n    }\n\n    this.connected_ = true;\n};\n\n/**\r\n * Removes DOM listeners.\r\n *\r\n * @private\r\n * @returns {void}\r\n */\nResizeObserverController.prototype.disconnect_ = function () {\n    // Do nothing if running in a non-browser environment or if listeners\n    // have been already removed.\n    if (!isBrowser || !this.connected_) {\n        return;\n    }\n\n    document.removeEventListener('transitionend', this.onTransitionEnd_);\n    window.removeEventListener('resize', this.refresh);\n\n    if (this.mutationsObserver_) {\n        this.mutationsObserver_.disconnect();\n    }\n\n    if (this.mutationEventsAdded_) {\n        document.removeEventListener('DOMSubtreeModified', this.refresh);\n    }\n\n    this.mutationsObserver_ = null;\n    this.mutationEventsAdded_ = false;\n    this.connected_ = false;\n};\n\n/**\r\n * \"Transitionend\" event handler.\r\n *\r\n * @private\r\n * @param {TransitionEvent} event\r\n * @returns {void}\r\n */\nResizeObserverController.prototype.onTransitionEnd_ = function (ref) {\n        var propertyName = ref.propertyName; if ( propertyName === void 0 ) propertyName = '';\n\n    // Detect whether transition may affect dimensions of an element.\n    var isReflowProperty = transitionKeys.some(function (key) {\n        return !!~propertyName.indexOf(key);\n    });\n\n    if (isReflowProperty) {\n        this.refresh();\n    }\n};\n\n/**\r\n * Returns instance of the ResizeObserverController.\r\n *\r\n * @returns {ResizeObserverController}\r\n */\nResizeObserverController.getInstance = function () {\n    if (!this.instance_) {\n        this.instance_ = new ResizeObserverController();\n    }\n\n    return this.instance_;\n};\n\nResizeObserverController.instance_ = null;\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\nvar defineConfigurable = (function (target, props) {\n    for (var i = 0, list = Object.keys(props); i < list.length; i += 1) {\n        var key = list[i];\n\n        Object.defineProperty(target, key, {\n            value: props[key],\n            enumerable: false,\n            writable: false,\n            configurable: true\n        });\n    }\n\n    return target;\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\nvar getWindowOf = (function (target) {\n    // Assume that the element is an instance of Node, which means that it\n    // has the \"ownerDocument\" property from which we can retrieve a\n    // corresponding global object.\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\n\n    // Return the local global object if it's not possible extract one from\n    // provided element.\n    return ownerGlobal || global$1;\n});\n\n// Placeholder of an empty content rectangle.\nvar emptyRect = createRectInit(0, 0, 0, 0);\n\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\nfunction toFloat(value) {\n    return parseFloat(value) || 0;\n}\n\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\nfunction getBordersSize(styles) {\n    var positions = [], len = arguments.length - 1;\n    while ( len-- > 0 ) positions[ len ] = arguments[ len + 1 ];\n\n    return positions.reduce(function (size, position) {\n        var value = styles['border-' + position + '-width'];\n\n        return size + toFloat(value);\n    }, 0);\n}\n\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\nfunction getPaddings(styles) {\n    var positions = ['top', 'right', 'bottom', 'left'];\n    var paddings = {};\n\n    for (var i = 0, list = positions; i < list.length; i += 1) {\n        var position = list[i];\n\n        var value = styles['padding-' + position];\n\n        paddings[position] = toFloat(value);\n    }\n\n    return paddings;\n}\n\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\nfunction getSVGContentRect(target) {\n    var bbox = target.getBBox();\n\n    return createRectInit(0, 0, bbox.width, bbox.height);\n}\n\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\nfunction getHTMLElementContentRect(target) {\n    // Client width & height properties can't be\n    // used exclusively as they provide rounded values.\n    var clientWidth = target.clientWidth;\n    var clientHeight = target.clientHeight;\n\n    // By this condition we can catch all non-replaced inline, hidden and\n    // detached elements. Though elements with width & height properties less\n    // than 0.5 will be discarded as well.\n    //\n    // Without it we would need to implement separate methods for each of\n    // those cases and it's not possible to perform a precise and performance\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\n    // gives wrong results for elements with width & height less than 0.5.\n    if (!clientWidth && !clientHeight) {\n        return emptyRect;\n    }\n\n    var styles = getWindowOf(target).getComputedStyle(target);\n    var paddings = getPaddings(styles);\n    var horizPad = paddings.left + paddings.right;\n    var vertPad = paddings.top + paddings.bottom;\n\n    // Computed styles of width & height are being used because they are the\n    // only dimensions available to JS that contain non-rounded values. It could\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\n    var width = toFloat(styles.width),\n        height = toFloat(styles.height);\n\n    // Width & height include paddings and borders when the 'border-box' box\n    // model is applied (except for IE).\n    if (styles.boxSizing === 'border-box') {\n        // Following conditions are required to handle Internet Explorer which\n        // doesn't include paddings and borders to computed CSS dimensions.\n        //\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\n        // properties then it's either IE, and thus we don't need to subtract\n        // anything, or an element merely doesn't have paddings/borders styles.\n        if (Math.round(width + horizPad) !== clientWidth) {\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\n        }\n\n        if (Math.round(height + vertPad) !== clientHeight) {\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\n        }\n    }\n\n    // Following steps can't be applied to the document's root element as its\n    // client[Width/Height] properties represent viewport area of the window.\n    // Besides, it's as well not necessary as the <html> itself neither has\n    // rendered scroll bars nor it can be clipped.\n    if (!isDocumentElement(target)) {\n        // In some browsers (only in Firefox, actually) CSS width & height\n        // include scroll bars size which can be removed at this step as scroll\n        // bars are the only difference between rounded dimensions + paddings\n        // and \"client\" properties, though that is not always true in Chrome.\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\n\n        // Chrome has a rather weird rounding of \"client\" properties.\n        // E.g. for an element with content width of 314.2px it sometimes gives\n        // the client width of 315px and for the width of 314.7px it may give\n        // 314px. And it doesn't happen all the time. So just ignore this delta\n        // as a non-relevant.\n        if (Math.abs(vertScrollbar) !== 1) {\n            width -= vertScrollbar;\n        }\n\n        if (Math.abs(horizScrollbar) !== 1) {\n            height -= horizScrollbar;\n        }\n    }\n\n    return createRectInit(paddings.left, paddings.top, width, height);\n}\n\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\nvar isSVGGraphicsElement = (function () {\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\n    // interface.\n    if (typeof SVGGraphicsElement !== 'undefined') {\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\n    }\n\n    // If it's so, then check that element is at least an instance of the\n    // SVGElement and that it has the \"getBBox\" method.\n    // eslint-disable-next-line no-extra-parens\n    return function (target) { return target instanceof getWindowOf(target).SVGElement && typeof target.getBBox === 'function'; };\n})();\n\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\nfunction isDocumentElement(target) {\n    return target === getWindowOf(target).document.documentElement;\n}\n\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\nfunction getContentRect(target) {\n    if (!isBrowser) {\n        return emptyRect;\n    }\n\n    if (isSVGGraphicsElement(target)) {\n        return getSVGContentRect(target);\n    }\n\n    return getHTMLElementContentRect(target);\n}\n\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\nfunction createReadOnlyRect(ref) {\n    var x = ref.x;\n    var y = ref.y;\n    var width = ref.width;\n    var height = ref.height;\n\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\n    var rect = Object.create(Constr.prototype);\n\n    // Rectangle's properties are not writable and non-enumerable.\n    defineConfigurable(rect, {\n        x: x, y: y, width: width, height: height,\n        top: y,\n        right: x + width,\n        bottom: height + y,\n        left: x\n    });\n\n    return rect;\n}\n\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\nfunction createRectInit(x, y, width, height) {\n    return { x: x, y: y, width: width, height: height };\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\nvar ResizeObservation = function(target) {\n    this.broadcastWidth = 0;\n    this.broadcastHeight = 0;\n    this.contentRect_ = createRectInit(0, 0, 0, 0);\n\n    this.target = target;\n};\n\n/**\r\n * Updates content rectangle and tells whether it's width or height properties\r\n * have changed since the last broadcast.\r\n *\r\n * @returns {boolean}\r\n */\n\n\n/**\r\n * Reference to the last observed content rectangle.\r\n *\r\n * @private {DOMRectInit}\r\n */\n\n\n/**\r\n * Broadcasted width of content rectangle.\r\n *\r\n * @type {number}\r\n */\nResizeObservation.prototype.isActive = function () {\n    var rect = getContentRect(this.target);\n\n    this.contentRect_ = rect;\n\n    return rect.width !== this.broadcastWidth || rect.height !== this.broadcastHeight;\n};\n\n/**\r\n * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n * from the corresponding properties of the last observed content rectangle.\r\n *\r\n * @returns {DOMRectInit} Last observed content rectangle.\r\n */\nResizeObservation.prototype.broadcastRect = function () {\n    var rect = this.contentRect_;\n\n    this.broadcastWidth = rect.width;\n    this.broadcastHeight = rect.height;\n\n    return rect;\n};\n\nvar ResizeObserverEntry = function(target, rectInit) {\n    var contentRect = createReadOnlyRect(rectInit);\n\n    // According to the specification following properties are not writable\n    // and are also not enumerable in the native implementation.\n    //\n    // Property accessors are not being used as they'd require to define a\n    // private WeakMap storage which may cause memory leaks in browsers that\n    // don't support this type of collections.\n    defineConfigurable(this, { target: target, contentRect: contentRect });\n};\n\nvar ResizeObserverSPI = function(callback, controller, callbackCtx) {\n    this.activeObservations_ = [];\n    this.observations_ = new MapShim();\n\n    if (typeof callback !== 'function') {\n        throw new TypeError('The callback provided as parameter 1 is not a function.');\n    }\n\n    this.callback_ = callback;\n    this.controller_ = controller;\n    this.callbackCtx_ = callbackCtx;\n};\n\n/**\r\n * Starts observing provided element.\r\n *\r\n * @param {Element} target - Element to be observed.\r\n * @returns {void}\r\n */\n\n\n/**\r\n * Registry of the ResizeObservation instances.\r\n *\r\n * @private {Map<Element, ResizeObservation>}\r\n */\n\n\n/**\r\n * Public ResizeObserver instance which will be passed to the callback\r\n * function and used as a value of it's \"this\" binding.\r\n *\r\n * @private {ResizeObserver}\r\n */\n\n/**\r\n * Collection of resize observations that have detected changes in dimensions\r\n * of elements.\r\n *\r\n * @private {Array<ResizeObservation>}\r\n */\nResizeObserverSPI.prototype.observe = function (target) {\n    if (!arguments.length) {\n        throw new TypeError('1 argument required, but only 0 present.');\n    }\n\n    // Do nothing if current environment doesn't have the Element interface.\n    if (typeof Element === 'undefined' || !(Element instanceof Object)) {\n        return;\n    }\n\n    if (!(target instanceof getWindowOf(target).Element)) {\n        throw new TypeError('parameter 1 is not of type \"Element\".');\n    }\n\n    var observations = this.observations_;\n\n    // Do nothing if element is already being observed.\n    if (observations.has(target)) {\n        return;\n    }\n\n    observations.set(target, new ResizeObservation(target));\n\n    this.controller_.addObserver(this);\n\n    // Force the update of observations.\n    this.controller_.refresh();\n};\n\n/**\r\n * Stops observing provided element.\r\n *\r\n * @param {Element} target - Element to stop observing.\r\n * @returns {void}\r\n */\nResizeObserverSPI.prototype.unobserve = function (target) {\n    if (!arguments.length) {\n        throw new TypeError('1 argument required, but only 0 present.');\n    }\n\n    // Do nothing if current environment doesn't have the Element interface.\n    if (typeof Element === 'undefined' || !(Element instanceof Object)) {\n        return;\n    }\n\n    if (!(target instanceof getWindowOf(target).Element)) {\n        throw new TypeError('parameter 1 is not of type \"Element\".');\n    }\n\n    var observations = this.observations_;\n\n    // Do nothing if element is not being observed.\n    if (!observations.has(target)) {\n        return;\n    }\n\n    observations.delete(target);\n\n    if (!observations.size) {\n        this.controller_.removeObserver(this);\n    }\n};\n\n/**\r\n * Stops observing all elements.\r\n *\r\n * @returns {void}\r\n */\nResizeObserverSPI.prototype.disconnect = function () {\n    this.clearActive();\n    this.observations_.clear();\n    this.controller_.removeObserver(this);\n};\n\n/**\r\n * Collects observation instances the associated element of which has changed\r\n * it's content rectangle.\r\n *\r\n * @returns {void}\r\n */\nResizeObserverSPI.prototype.gatherActive = function () {\n        var this$1 = this;\n\n    this.clearActive();\n\n    this.observations_.forEach(function (observation) {\n        if (observation.isActive()) {\n            this$1.activeObservations_.push(observation);\n        }\n    });\n};\n\n/**\r\n * Invokes initial callback function with a list of ResizeObserverEntry\r\n * instances collected from active resize observations.\r\n *\r\n * @returns {void}\r\n */\nResizeObserverSPI.prototype.broadcastActive = function () {\n    // Do nothing if observer doesn't have active observations.\n    if (!this.hasActive()) {\n        return;\n    }\n\n    var ctx = this.callbackCtx_;\n\n    // Create ResizeObserverEntry instance for every active observation.\n    var entries = this.activeObservations_.map(function (observation) {\n        return new ResizeObserverEntry(observation.target, observation.broadcastRect());\n    });\n\n    this.callback_.call(ctx, entries, ctx);\n    this.clearActive();\n};\n\n/**\r\n * Clears the collection of active observations.\r\n *\r\n * @returns {void}\r\n */\nResizeObserverSPI.prototype.clearActive = function () {\n    this.activeObservations_.splice(0);\n};\n\n/**\r\n * Tells whether observer has active observations.\r\n *\r\n * @returns {boolean}\r\n */\nResizeObserverSPI.prototype.hasActive = function () {\n    return this.activeObservations_.length > 0;\n};\n\n// Registry of internal observers. If WeakMap is not available use current shim\n// for the Map collection as it has all required methods and because WeakMap\n// can't be fully polyfilled anyway.\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\n\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\nvar ResizeObserver = function(callback) {\n    if (!(this instanceof ResizeObserver)) {\n        throw new TypeError('Cannot call a class as a function.');\n    }\n    if (!arguments.length) {\n        throw new TypeError('1 argument required, but only 0 present.');\n    }\n\n    var controller = ResizeObserverController.getInstance();\n    var observer = new ResizeObserverSPI(callback, controller, this);\n\n    observers.set(this, observer);\n};\n\n// Expose public methods of ResizeObserver.\n['observe', 'unobserve', 'disconnect'].forEach(function (method) {\n    ResizeObserver.prototype[method] = function () {\n        return (ref = observers.get(this))[method].apply(ref, arguments);\n        var ref;\n    };\n});\n\nvar index = (function () {\n    // Export existing implementation if available.\n    if (typeof global$1.ResizeObserver !== 'undefined') {\n        return global$1.ResizeObserver;\n    }\n\n    return ResizeObserver;\n})();\n\nexport default index;\n","'use strict';\n\nvar emptyArray = [];\nvar emptyObject = {};\nvar type = emptyObject.toString;\nvar ARRAY =  type.call(emptyArray);\nvar OBJECT = type.call(emptyObject);\nvar STRING = type.call('');\nvar FUNCTION = type.call(type);\nvar own =  emptyObject.hasOwnProperty;\nvar freeze = Object.freeze || function(o) {return o};\n\n\nfunction defaults(target, source) {\n  for (var k in source) if (own.call(source, k)) {\n    if (k.indexOf('$') && !(k in target)) target[k] = source[k];\n  }\n  return target\n}\n\nfunction cartesian(a,b) {\n  var res = [], i, j;\n  for (j in b) if(own.call(b, j))\n    for (i in a) if(own.call(a, i))\n      res.push(a[i] + b[j]);\n  return res\n}\n\n// \"Tokenizes\" the selectors into parts relevant for the next function.\n// Strings and comments are matched, but ignored afterwards.\n// This is not a full tokenizers. It only recognizes comas, parentheses,\n// strings and comments.\n// regexp generated by scripts/regexps.js then trimmed by hand\nvar selectorTokenizer = /[(),]|\"(?:\\\\.|[^\"\\n])*\"|'(?:\\\\.|[^'\\n])*'|\\/\\*[\\s\\S]*?\\*\\//g;\n\n\n/**\n * This will split a coma-separated selector list into individual selectors,\n * ignoring comas in strings, comments and in :pseudo-selectors(parameter, lists).\n *\n * @param {string} selector\n * @return {string[]}\n */\n\nfunction splitSelector(selector) {\n  var indices = [], res = [], inParen = 0, o;\n  /*eslint-disable no-cond-assign*/\n  while (o = selectorTokenizer.exec(selector)) {\n  /*eslint-enable no-cond-assign*/\n    switch (o[0]) {\n    case '(': inParen++; break\n    case ')': inParen--; break\n    case ',': if (inParen) break; indices.push(o.index);\n    }\n  }\n  for (o = indices.length; o--;){\n    res.unshift(selector.slice(indices[o] + 1));\n    selector = selector.slice(0, indices[o]);\n  }\n  res.unshift(selector);\n  return res\n}\n\n// Like the `selectorTokenizer`, but for the `&` operator\nvar ampersandTokenizer = /&|\"(?:\\\\.|[^\"\\n])*\"|'(?:\\\\.|[^'\\n])*'|\\/\\*[\\s\\S]*?\\*\\//g;\n\nfunction ampersand (selector, parents) {\n  var indices = [], split = [], res, o;\n  /*eslint-disable no-cond-assign*/\n  while (o = ampersandTokenizer.exec(selector)) {\n  /*eslint-enable no-cond-assign*/\n    if (o[0] == '&') indices.push(o.index);\n  }\n  for (o = indices.length; o--;){\n    split.unshift(selector.slice(indices[o] + 1));\n    selector = selector.slice(0, indices[o]);\n  }\n  split.unshift(selector);\n  if (split.length === 1) split.unshift('');\n  res = [split[0]];\n  for (o = 1; o < split.length; o++) {\n    res = cartesian(res, cartesian(parents, [split[o]]));\n  }\n  return res.join(',')\n}\n\nfunction flatIter (f) {\n  return function iter(arg) {\n    if (type.call(arg) === ARRAY) for (var i= 0 ; i < arg.length; i ++) iter(arg[i]);\n    else f(arg);\n  }\n}\n\nfunction decamelize(match) {\n  return '-' + match.toLowerCase()\n}\n\n/**\n * Handles the property:value; pairs.\n *\n * @param {object} state - holds the localizer- and walker-related methods\n *                         and state\n * @param {object} emit - the contextual emitters to the final buffer\n * @param {string} prefix - the current property or a prefix in case of nested\n *                          sub-properties.\n * @param {array|object|string} o - the declarations.\n * @param {boolean} local - are we in @local or in @global scope.\n */\n\nfunction declarations(state, emit, prefix, o, local) {\n  var k, v, kk;\n  if (o==null) return\n\n  switch ( type.call(o = o.valueOf()) ) {\n  case ARRAY:\n    for (k = 0; k < o.length; k++)\n\n      declarations(state, emit, prefix, o[k], local);\n\n    break\n  case OBJECT:\n    // prefix is falsy iif it is the empty string, which means we're at the root\n    // of the declarations list.\n    prefix = (prefix && prefix + '-');\n    for (k in o) if (own.call(o, k)){\n      v = o[k];\n      if (/\\$/.test(k)) {\n        for (kk in (k = k.split('$'))) if (own.call(k, kk)) {\n\n          declarations(state, emit, prefix + k[kk], v, local);\n\n        }\n      } else {\n\n        declarations(state, emit, prefix + k, v, local);\n\n      }\n    }\n    break\n  default:\n    // prefix is falsy when it is \"\", which means that we're\n    // at the top level.\n    // `o` is then treated as a `property:value` pair, or a\n    // semi-colon-separated list thereof.\n    // Otherwise, `prefix` is the property name, and\n    // `o` is the value.\n\n    // restore the dashes\n    k = prefix.replace(/_/g, '-').replace(/[A-Z]/g, decamelize);\n\n    if (local && (k == 'animation-name' || k == 'animation' || k == 'list-style')) {\n      // no need to tokenize here a plain `.split(',')` has all bases covered.\n      // We may 'localize' a comment, but it's not a big deal.\n      o = o.split(',').map(function (o) {\n\n        return o.replace(/^\\s*(?:(var\\([^)]+\\))|:?global\\(\\s*([_A-Za-z][-\\w]*)\\s*\\)|()(-?[_A-Za-z][-\\w]*))/, state.localizeReplacer)\n\n      }).join(',');\n    }\n\n    emit.decl(k, o);\n\n  }\n}\n\n/**\n * Handles a single at-rules\n *\n * @param {object} state - holds the localizer- and walker-related methods\n *                         and state\n * @param {object} emit - the contextual emitters to the final buffer\n * @param {array} k - The parsed at-rule, including the parameters,\n *                    if takes both parameters and a block.\n *                    k == [match, fullAtRule, atRuleType, params?]\n *                    So in `@-webkit-keyframes foo`, we have\n *                     - match = \"@-webkit-keyframes foo\"\n *                     - fullAtRule = \"@-webkit-keyframes\"\n *                     - atRuleType = \"keyframes\"\n *                     - params = \"foo\"\n * @param {string|string[]|object|object[]} v - Either parameters for\n *                                              block-less rules or\n *                                              their block\n *                                              for the others.\n * @param {string} prefix - the current selector or the selector prefix\n *                          in case of nested rules\n * @param {boolean} local - are we in @local or in @global scope?\n * @param {string} nestingDepth - are we nested in an at-rule or a selector?\n */\n\nfunction atRules(state, emit, k, v, prefix, local, nestingDepth) {\n\n  // First iterate over user-provided at-rules and return if one of them corresponds to the current one\n  for (var i = 0; i < state.$atHandlers.length; i++) {\n\n    if (state.$atHandlers[i](state, emit, k, v, prefix, local, nestingDepth)) return\n\n  }\n\n  // using `/^global$/.test(k[2])` rather that 'global' == k[2] gzips\n  // slightly better thanks to the regexps tests further down.\n  // It is slightly less efficient but this isn't a critical path.\n\n  if (!k[3] && /^global$/.test(k[2])) {\n\n    rules(state, emit, prefix, v, 0, nestingDepth);\n\n\n  } else if (!k[3] && /^local$/.test(k[2])) {\n\n    rules(state, emit, prefix, v, 1, nestingDepth);\n\n\n  } else if (k[3] && /^adopt$/.test(k[2])) {\n\n    if (!local || nestingDepth) return emit.err('@adopt global or nested: ' + k[0])\n\n    if (!/^\\.?[_A-Za-z][-\\w]*$/.test(k[3])) return emit.err('bad adopter ' + JSON.stringify(k[3]) + ' in ' + k[0])\n\n    i = [];\n    flatIter(function(adoptee, asString) {\n\n      if(adoptee == null || !/^\\.?[_A-Za-z][-\\w]*(?:\\s+\\.?[_A-Za-z][-\\w]*)*$/.test(asString = adoptee + '')) emit.err('bad adoptee '+ JSON.stringify(adoptee) + ' in ' + k[0]);\n\n      else i.push(asString.replace(/\\./g, ''));\n\n    })(v);\n\n    // we may end up with duplicate classes but AFAIK it has no consequences on specificity.\n    if (i.length) {\n      state.localize(k[3] = k[3].replace(/\\./g, ''));\n      state.names[k[3]] += (' ' + i.join(' '));\n    }\n\n\n  } else if (!k[3] && /^(?:namespace|import|charset)$/.test(k[2])) {\n    flatIter(function(v) {\n\n      emit.atrule(k[1], k[2], v);\n\n    })(v);\n\n\n  } else if (!k[3] && /^(?:font-face|viewport)$/.test(k[2])) {\n    flatIter(function(v) {\n\n      emit.atrule(k[1], k[2], k[3], 1);\n\n      declarations(state, emit, '', v, local);\n\n      emit._atrule();\n\n    })(v);\n\n  } else if (k[3] && /^(?:media|supports|page|keyframes)$/.test(k[2])) {\n\n    if (local && 'keyframes' == k[2]) {\n      k[3] = k[3].replace(\n        // generated by script/regexps.js\n        /(var\\([^)]+\\))|:?global\\(\\s*([_A-Za-z][-\\w]*)\\s*\\)|()(-?[_A-Za-z][-\\w]*)/,\n        state.localizeReplacer\n      );\n    }\n\n\n    emit.atrule(k[1], k[2], k[3], 1);\n\n    if ('page' == k[2]) {\n\n      declarations(state, emit, '', v, local);\n\n    } else {\n\n      rules(\n        state, emit,\n        'keyframes' == k[2] ? '' : prefix,\n        v, local, nestingDepth + 1\n      );\n\n    }\n\n    emit._atrule();\n\n  } else {\n\n    emit.err('Unsupported at-rule: ' + k[0]);\n\n  }\n}\n\n/**\n * Add rulesets and other CSS tree to the sheet.\n *\n * @param {object} state - holds the localizer- and walker-related methods\n *                         and state\n * @param {object} emit - the contextual emitters to the final buffer\n * @param {string} prefix - the current selector or a prefix in case of nested rules\n * @param {array|string|object} tree - a source object or sub-object.\n * @param {string} nestingDepth - are we nested in an at-rule?\n * @param {boolean} local - are we in @local or in @global scope?\n */\nfunction rules(state, emit, prefix, tree, local, nestingDepth) {\n  var k, v, inDeclaration, kk;\n\n  switch (type.call(tree)) {\n\n  case OBJECT:\n    for (k in tree) if (own.call(tree, k)) {\n      v = tree[k];\n\n      if (prefix.length > 0 && /^[-\\w$]+$/.test(k)) {\n        if (!inDeclaration) {\n          inDeclaration = 1;\n\n          emit.rule(prefix);\n\n        }\n        if (/\\$/.test(k)) {\n          for (kk in (k = k.split('$'))) if (own.call(k, kk)) {\n\n            declarations(state, emit, k[kk], v, local);\n\n          }\n        } else {\n\n          declarations(state, emit, k, v, local);\n\n        }\n\n      } else if (/^@/.test(k)) {\n        // Handle At-rules\n        inDeclaration = 0;\n\n        atRules(state, emit,\n          /^(.(?:-[\\w]+-)?([_A-Za-z][-\\w]*))\\b\\s*(.*?)\\s*$/.exec(k) || [k,'@','',''],\n          v, prefix, local, nestingDepth\n        );\n\n      } else {\n        // selector or nested sub-selectors\n        inDeclaration = 0;\n\n        rules(\n          state, emit,\n          // build the selector `prefix` for the next iteration.\n          // ugly and full of redundant bits but so far the fastest/shortest.gz\n          /*0 if*/(prefix.length > 0 && (/,/.test(prefix) || /,/.test(k))) ?\n\n            /*0 then*/ (kk = splitSelector(prefix), splitSelector(\n              local ?\n\n                k.replace(\n                  /(\"(?:\\\\.|[^\"\\n])*\"|'(?:\\\\.|[^'\\n])*'|\\/\\*[\\s\\S]*?\\*\\/)|:global\\(\\s*(\\.-?[_A-Za-z][-\\w]*)\\s*\\)|(\\.)(-?[_A-Za-z][-\\w]*)/g,\n                  state.localizeReplacer\n                ) :\n\n                k\n            ).map(function (k) {\n              return /&/.test(k) ? ampersand(k, kk) : kk.map(function(kk) {\n                return kk + k\n              }).join(',')\n            }).join(',')) :\n\n            /*0 else*/ /*1 if*/ /&/.test(k) ?\n\n              /*1 then*/ ampersand(\n                local ?\n\n                  k.replace(\n                    /(\"(?:\\\\.|[^\"\\n])*\"|'(?:\\\\.|[^'\\n])*'|\\/\\*[\\s\\S]*?\\*\\/)|:global\\(\\s*(\\.-?[_A-Za-z][-\\w]*)\\s*\\)|(\\.)(-?[_A-Za-z][-\\w]*)/g,\n                    state.localizeReplacer\n                  ) :\n\n                  k,\n                [prefix]\n              ) :\n\n              /*1 else*/ prefix + (\n                local ?\n\n                  k.replace(\n                    /(\"(?:\\\\.|[^\"\\n])*\"|'(?:\\\\.|[^'\\n])*'|\\/\\*[\\s\\S]*?\\*\\/)|:global\\(\\s*(\\.-?[_A-Za-z][-\\w]*)\\s*\\)|(\\.)(-?[_A-Za-z][-\\w]*)/g,\n                    state.localizeReplacer\n                  ) :\n\n                  k\n                ),\n           v, local, nestingDepth + 1\n        );\n\n      }\n    }\n\n    break\n\n  case ARRAY:\n    for (k = 0; k < tree.length; k++){\n\n      rules(state, emit, prefix, tree[k], local, nestingDepth);\n\n    }\n    break\n\n  case STRING:\n    // CSS hacks or ouptut of `j2c.inline`.\n    if (!prefix.length) emit.err('No selector');\n    emit.rule(prefix || ' ');\n\n    declarations(state, emit, '', tree, local);\n\n  }\n}\n\n// This is the first entry in the filters array, which is\n// actually the last step of the compiler. It inserts\n// closing braces to close normal (non at-) rules (those\n// that start with a selector). Doing it earlier is\n// impossible without passing state around in unrelated code\n// or ending up with duplicated selectors when the source tree\n// contains arrays.\n// There's no `_rule` handler, because the core compiler never\n// calls it.\nfunction closeSelectors(next, inline) {\n  var lastSelector;\n  return inline ? next : {\n    init: function(){lastSelector = 0; next.init();},\n    done: function (raw) {\n      if (lastSelector) {next._rule(); lastSelector = 0;}\n      return next.done(raw)\n    },\n    atrule: function (rule, kind, param, takesBlock) {\n      if (lastSelector) {next._rule(); lastSelector = 0;}\n      next.atrule(rule, kind, param, takesBlock);\n    },\n    _atrule: function (rule) {\n      if (lastSelector) {next._rule(); lastSelector = 0;}\n      next._atrule(rule);\n    },\n    rule: function (selector) {\n      if (selector !== lastSelector){\n        if (lastSelector) next._rule();\n        next.rule(selector);\n        lastSelector = selector;\n      }\n    }\n  }\n}\n\nfunction global(x) {\n  return ':global(' + x + ')'\n}\n\nfunction kv (k, v, o) {\n  o = {};\n  o[k] = v;\n  return o\n}\n\nfunction at (rule, params, block) {\n  if (\n    arguments.length < 3\n  ) {\n    // inner curry!\n    var _at = at.bind.apply(at, [null].concat([].slice.call(arguments,0)));\n    // So that it can be used as a key in an ES6 object literal.\n    _at.toString = function(){return '@' + rule + ' ' + params};\n    return _at\n  }\n  else return kv('@' + rule +' ' + params, block)\n}\n\nfunction j2c() {\n\n  // the buffer that accumulates the output. Initialized in `$sink.i()`\n  var buf, err;\n\n  // the bottom of the 'codegen' stream. Mirrors the `$filter` plugin API.\n  var $sink = {\n    init: function(){buf=[], err=[];},\n    done: function (raw) {\n      if (err.length != 0) throw new Error('j2c error(s): ' + JSON.stringify(err,null,2) + 'in context:\\n' + buf.join(''))\n      return raw ? buf : buf.join('')\n    },\n    err: function(msg) {\n      err.push(msg);\n      buf.push('/* +++ ERROR +++ ' + msg + ' */\\n');\n    },\n    atrule: function (rule, kind, param, takesBlock) {\n      buf.push(rule, param && ' ', param, takesBlock ? ' {' : ';', _instance.endline);\n    },\n    // close atrule\n    _atrule: function () {buf.push('}', _instance.endline);},\n    rule: function (selector) {buf.push(selector, ' {', _instance.endline);},\n    // close rule\n    _rule: function () {buf.push('}', _instance.endline);},\n    decl: function (prop, value) {buf.push(prop, prop && ':', value, ';', _instance.endline);}\n  };\n\n  // holds the `$filter` and `$at` handlers\n  var $filters = [closeSelectors];\n  var $atHandlers = [];\n\n  // the public API (see the main docs)\n  var _instance = {\n    at: at,\n    global: global,\n    kv: kv,\n    names: {},\n    endline: '\\n',\n    suffix: '__j2c-' +\n      // 128 bits of randomness\n      Math.floor(Math.random() * 0x100000000).toString(36) + '-' +\n      Math.floor(Math.random() * 0x100000000).toString(36) + '-' +\n      Math.floor(Math.random() * 0x100000000).toString(36) + '-' +\n      Math.floor(Math.random() * 0x100000000).toString(36),\n    $plugins: [],\n    sheet: function(tree) {\n      var emit = _createOrRetrieveStream(0);\n      emit.init();\n      rules(\n        _walkers[0],\n        emit,\n        '', // prefix\n        tree,\n        1,  // local, by default\n        0   // nesting depth\n      );\n\n      return emit.done()\n    },\n    inline: function (tree, options) {\n      var emit = _createOrRetrieveStream(1);\n      emit.init();\n      declarations(\n        _walkers[1],\n        emit,\n        '', // prefix\n        tree,\n        !(options && options.global)   // local, by default\n      );\n      return emit.done()\n    }\n  };\n\n  // The `state` (for the core functions) / `walker` (for the plugins) tables.\n  var _walkers = [\n    // for j2c.sheet\n    {\n      // helpers for locaizing class and animation names\n      localizeReplacer: _localizeReplacer, // second argument to String.prototype.replace\n      localize: _localize,                 // mangles local names\n      names: _instance.names,              // local => mangled mapping\n      $atHandlers: $atHandlers,            // extra at-rules\n      // The core walker methods, to be provided to plugins\n      atrule: atRules,\n      decl: declarations,\n      rule: rules\n    },\n    // likewise, for j2c.inline (idem with `$a`, `a` and `s` removed)\n    {\n      localizeReplacer: _localizeReplacer,\n      localize: _localize,\n      names: _instance.names,\n      decl: declarations\n    }\n  ];\n\n\n  // inner helpers\n\n  var _use = flatIter(function(plugin) {\n    // `~n` is falsy for `n === -1` and truthy otherwise.\n    // Works well to turn the  result of `a.indexOf(x)`\n    // into a value that reflects the presence of `x` in\n    // `a`.\n    if (~_instance.$plugins.indexOf(plugin)) return\n\n    _instance.$plugins.push(plugin);\n\n    if (type.call(plugin) === FUNCTION) plugin = plugin(_instance);\n\n    if (!plugin) return\n\n    flatIter(function(filter) {\n      $filters.push(filter);\n    })(plugin.$filter || emptyArray);\n\n    flatIter(function(handler) {\n      $atHandlers.push(handler);\n    })(plugin.$at || emptyArray);\n\n    defaults(_instance.names, plugin.$names || emptyObject);\n\n    _use(plugin.$plugins || emptyArray);\n\n    $sink = plugin.$sink || $sink;\n\n    defaults(_instance, plugin);\n  });\n\n\n  var _streams = [];\n  /**\n   * returns the codegen streams, creating them if necessary\n   * @param\n   */\n  function _createOrRetrieveStream(inline) {\n    // build the stream processors if needed\n    if (!_streams.length) {\n      // append the $sink as the ultimate filter\n      $filters.push(function(_, inline) {return inline ? {init:$sink.init, decl:$sink.decl, done:$sink.done, err: $sink.err} : $sink});\n      for(var i = 0; i < 2; i++){ // 0 for j2c.sheet, 1 for j2c.inline\n        for (var j = $filters.length; j--;) {\n          _streams[i] = freeze(\n            defaults(\n              $filters[j](_streams[i], !!i),\n              _streams[i]\n            )\n          );\n        }\n      }\n    }\n    return _streams[inline]\n  }\n\n  /**\n   * Returns a localized version of a given name.\n   * Registers the pair in `instnace.name` if needed.\n   *\n   * @param {string} name - the name to localize\n   * @return {string} - the localized version\n   */\n  function _localize(name) {\n    if (!_instance.names[name]) _instance.names[name] = name + _instance.suffix;\n    return _instance.names[name].match(/^\\S+/)\n  }\n\n  /**\n   * Used as second argument for str.replace(localizeRegex, replacer)\n   * `ignore`, `global` and `(dot, name)` are mutually exclusive\n   *\n   * @param {string} match - the whole match (ignored)\n   * @param {string|null} ignore - a comment or a string literal\n   * @param {string|null} global - a global name\n   * @param {string|null} dot - either '.' for a local class name or the empty string otherwise\n   * @param {string|null} name - the name to localize\n   * @return {string}\n   */\n  function _localizeReplacer(match, ignore, global$$1, dot, name) {\n    return ignore || global$$1 || dot + _localize(name)\n  }\n\n  _use(emptyArray.slice.call(arguments));\n  return _instance\n}\n\nmodule.exports = j2c;\n",";(function() {\n\"use strict\"\nfunction Vnode(tag, key, attrs0, children, text, dom) {\n\treturn {tag: tag, key: key, attrs: attrs0, children: children, text: text, dom: dom, domSize: undefined, state: undefined, _state: undefined, events: undefined, instance: undefined, skip: false}\n}\nVnode.normalize = function(node) {\n\tif (Array.isArray(node)) return Vnode(\"[\", undefined, undefined, Vnode.normalizeChildren(node), undefined, undefined)\n\tif (node != null && typeof node !== \"object\") return Vnode(\"#\", undefined, undefined, node === false ? \"\" : node, undefined, undefined)\n\treturn node\n}\nVnode.normalizeChildren = function normalizeChildren(children) {\n\tfor (var i = 0; i < children.length; i++) {\n\t\tchildren[i] = Vnode.normalize(children[i])\n\t}\n\treturn children\n}\nvar selectorParser = /(?:(^|#|\\.)([^#\\.\\[\\]]+))|(\\[(.+?)(?:\\s*=\\s*(\"|'|)((?:\\\\[\"'\\]]|.)*?)\\5)?\\])/g\nvar selectorCache = {}\nvar hasOwn = {}.hasOwnProperty\nfunction isEmpty(object) {\n\tfor (var key in object) if (hasOwn.call(object, key)) return false\n\treturn true\n}\nfunction compileSelector(selector) {\n\tvar match, tag = \"div\", classes = [], attrs = {}\n\twhile (match = selectorParser.exec(selector)) {\n\t\tvar type = match[1], value = match[2]\n\t\tif (type === \"\" && value !== \"\") tag = value\n\t\telse if (type === \"#\") attrs.id = value\n\t\telse if (type === \".\") classes.push(value)\n\t\telse if (match[3][0] === \"[\") {\n\t\t\tvar attrValue = match[6]\n\t\t\tif (attrValue) attrValue = attrValue.replace(/\\\\([\"'])/g, \"$1\").replace(/\\\\\\\\/g, \"\\\\\")\n\t\t\tif (match[4] === \"class\") classes.push(attrValue)\n\t\t\telse attrs[match[4]] = attrValue === \"\" ? attrValue : attrValue || true\n\t\t}\n\t}\n\tif (classes.length > 0) attrs.className = classes.join(\" \")\n\treturn selectorCache[selector] = {tag: tag, attrs: attrs}\n}\nfunction execSelector(state, attrs, children) {\n\tvar hasAttrs = false, childList, text\n\tvar className = attrs.className || attrs.class\n\tif (!isEmpty(state.attrs) && !isEmpty(attrs)) {\n\t\tvar newAttrs = {}\n\t\tfor(var key in attrs) {\n\t\t\tif (hasOwn.call(attrs, key)) {\n\t\t\t\tnewAttrs[key] = attrs[key]\n\t\t\t}\n\t\t}\n\t\tattrs = newAttrs\n\t}\n\tfor (var key in state.attrs) {\n\t\tif (hasOwn.call(state.attrs, key)) {\n\t\t\tattrs[key] = state.attrs[key]\n\t\t}\n\t}\n\tif (className !== undefined) {\n\t\tif (attrs.class !== undefined) {\n\t\t\tattrs.class = undefined\n\t\t\tattrs.className = className\n\t\t}\n\t\tif (state.attrs.className != null) {\n\t\t\tattrs.className = state.attrs.className + \" \" + className\n\t\t}\n\t}\n\tfor (var key in attrs) {\n\t\tif (hasOwn.call(attrs, key) && key !== \"key\") {\n\t\t\thasAttrs = true\n\t\t\tbreak\n\t\t}\n\t}\n\tif (Array.isArray(children) && children.length === 1 && children[0] != null && children[0].tag === \"#\") {\n\t\ttext = children[0].children\n\t} else {\n\t\tchildList = children\n\t}\n\treturn Vnode(state.tag, attrs.key, hasAttrs ? attrs : undefined, childList, text)\n}\nfunction hyperscript(selector) {\n\t// Because sloppy mode sucks\n\tvar attrs = arguments[1], start = 2, children\n\tif (selector == null || typeof selector !== \"string\" && typeof selector !== \"function\" && typeof selector.view !== \"function\") {\n\t\tthrow Error(\"The selector must be either a string or a component.\");\n\t}\n\tif (typeof selector === \"string\") {\n\t\tvar cached = selectorCache[selector] || compileSelector(selector)\n\t}\n\tif (attrs == null) {\n\t\tattrs = {}\n\t} else if (typeof attrs !== \"object\" || attrs.tag != null || Array.isArray(attrs)) {\n\t\tattrs = {}\n\t\tstart = 1\n\t}\n\tif (arguments.length === start + 1) {\n\t\tchildren = arguments[start]\n\t\tif (!Array.isArray(children)) children = [children]\n\t} else {\n\t\tchildren = []\n\t\twhile (start < arguments.length) children.push(arguments[start++])\n\t}\n\tvar normalized = Vnode.normalizeChildren(children)\n\tif (typeof selector === \"string\") {\n\t\treturn execSelector(cached, attrs, normalized)\n\t} else {\n\t\treturn Vnode(selector, attrs.key, attrs, normalized)\n\t}\n}\nhyperscript.trust = function(html) {\n\tif (html == null) html = \"\"\n\treturn Vnode(\"<\", undefined, undefined, html, undefined, undefined)\n}\nhyperscript.fragment = function(attrs1, children) {\n\treturn Vnode(\"[\", attrs1.key, attrs1, Vnode.normalizeChildren(children), undefined, undefined)\n}\nvar m = hyperscript\n/** @constructor */\nvar PromisePolyfill = function(executor) {\n\tif (!(this instanceof PromisePolyfill)) throw new Error(\"Promise must be called with `new`\")\n\tif (typeof executor !== \"function\") throw new TypeError(\"executor must be a function\")\n\tvar self = this, resolvers = [], rejectors = [], resolveCurrent = handler(resolvers, true), rejectCurrent = handler(rejectors, false)\n\tvar instance = self._instance = {resolvers: resolvers, rejectors: rejectors}\n\tvar callAsync = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\tfunction handler(list, shouldAbsorb) {\n\t\treturn function execute(value) {\n\t\t\tvar then\n\t\t\ttry {\n\t\t\t\tif (shouldAbsorb && value != null && (typeof value === \"object\" || typeof value === \"function\") && typeof (then = value.then) === \"function\") {\n\t\t\t\t\tif (value === self) throw new TypeError(\"Promise can't be resolved w/ itself\")\n\t\t\t\t\texecuteOnce(then.bind(value))\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcallAsync(function() {\n\t\t\t\t\t\tif (!shouldAbsorb && list.length === 0) console.error(\"Possible unhandled promise rejection:\", value)\n\t\t\t\t\t\tfor (var i = 0; i < list.length; i++) list[i](value)\n\t\t\t\t\t\tresolvers.length = 0, rejectors.length = 0\n\t\t\t\t\t\tinstance.state = shouldAbsorb\n\t\t\t\t\t\tinstance.retry = function() {execute(value)}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\trejectCurrent(e)\n\t\t\t}\n\t\t}\n\t}\n\tfunction executeOnce(then) {\n\t\tvar runs = 0\n\t\tfunction run(fn) {\n\t\t\treturn function(value) {\n\t\t\t\tif (runs++ > 0) return\n\t\t\t\tfn(value)\n\t\t\t}\n\t\t}\n\t\tvar onerror = run(rejectCurrent)\n\t\ttry {then(run(resolveCurrent), onerror)} catch (e) {onerror(e)}\n\t}\n\texecuteOnce(executor)\n}\nPromisePolyfill.prototype.then = function(onFulfilled, onRejection) {\n\tvar self = this, instance = self._instance\n\tfunction handle(callback, list, next, state) {\n\t\tlist.push(function(value) {\n\t\t\tif (typeof callback !== \"function\") next(value)\n\t\t\telse try {resolveNext(callback(value))} catch (e) {if (rejectNext) rejectNext(e)}\n\t\t})\n\t\tif (typeof instance.retry === \"function\" && state === instance.state) instance.retry()\n\t}\n\tvar resolveNext, rejectNext\n\tvar promise = new PromisePolyfill(function(resolve, reject) {resolveNext = resolve, rejectNext = reject})\n\thandle(onFulfilled, instance.resolvers, resolveNext, true), handle(onRejection, instance.rejectors, rejectNext, false)\n\treturn promise\n}\nPromisePolyfill.prototype.catch = function(onRejection) {\n\treturn this.then(null, onRejection)\n}\nPromisePolyfill.resolve = function(value) {\n\tif (value instanceof PromisePolyfill) return value\n\treturn new PromisePolyfill(function(resolve) {resolve(value)})\n}\nPromisePolyfill.reject = function(value) {\n\treturn new PromisePolyfill(function(resolve, reject) {reject(value)})\n}\nPromisePolyfill.all = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tvar total = list.length, count = 0, values = []\n\t\tif (list.length === 0) resolve([])\n\t\telse for (var i = 0; i < list.length; i++) {\n\t\t\t(function(i) {\n\t\t\t\tfunction consume(value) {\n\t\t\t\t\tcount++\n\t\t\t\t\tvalues[i] = value\n\t\t\t\t\tif (count === total) resolve(values)\n\t\t\t\t}\n\t\t\t\tif (list[i] != null && (typeof list[i] === \"object\" || typeof list[i] === \"function\") && typeof list[i].then === \"function\") {\n\t\t\t\t\tlist[i].then(consume, reject)\n\t\t\t\t}\n\t\t\t\telse consume(list[i])\n\t\t\t})(i)\n\t\t}\n\t})\n}\nPromisePolyfill.race = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\tlist[i].then(resolve, reject)\n\t\t}\n\t})\n}\nif (typeof window !== \"undefined\") {\n\tif (typeof window.Promise === \"undefined\") window.Promise = PromisePolyfill\n\tvar PromisePolyfill = window.Promise\n} else if (typeof global !== \"undefined\") {\n\tif (typeof global.Promise === \"undefined\") global.Promise = PromisePolyfill\n\tvar PromisePolyfill = global.Promise\n} else {\n}\nvar buildQueryString = function(object) {\n\tif (Object.prototype.toString.call(object) !== \"[object Object]\") return \"\"\n\tvar args = []\n\tfor (var key0 in object) {\n\t\tdestructure(key0, object[key0])\n\t}\n\treturn args.join(\"&\")\n\tfunction destructure(key0, value) {\n\t\tif (Array.isArray(value)) {\n\t\t\tfor (var i = 0; i < value.length; i++) {\n\t\t\t\tdestructure(key0 + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse if (Object.prototype.toString.call(value) === \"[object Object]\") {\n\t\t\tfor (var i in value) {\n\t\t\t\tdestructure(key0 + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse args.push(encodeURIComponent(key0) + (value != null && value !== \"\" ? \"=\" + encodeURIComponent(value) : \"\"))\n\t}\n}\nvar FILE_PROTOCOL_REGEX = new RegExp(\"^file://\", \"i\")\nvar _8 = function($window, Promise) {\n\tvar callbackCount = 0\n\tvar oncompletion\n\tfunction setCompletionCallback(callback) {oncompletion = callback}\n\tfunction finalizer() {\n\t\tvar count = 0\n\t\tfunction complete() {if (--count === 0 && typeof oncompletion === \"function\") oncompletion()}\n\t\treturn function finalize(promise0) {\n\t\t\tvar then0 = promise0.then\n\t\t\tpromise0.then = function() {\n\t\t\t\tcount++\n\t\t\t\tvar next = then0.apply(promise0, arguments)\n\t\t\t\tnext.then(complete, function(e) {\n\t\t\t\t\tcomplete()\n\t\t\t\t\tif (count === 0) throw e\n\t\t\t\t})\n\t\t\t\treturn finalize(next)\n\t\t\t}\n\t\t\treturn promise0\n\t\t}\n\t}\n\tfunction normalize(args, extra) {\n\t\tif (typeof args === \"string\") {\n\t\t\tvar url = args\n\t\t\targs = extra || {}\n\t\t\tif (args.url == null) args.url = url\n\t\t}\n\t\treturn args\n\t}\n\tfunction request(args, extra) {\n\t\tvar finalize = finalizer()\n\t\targs = normalize(args, extra)\n\t\tvar promise0 = new Promise(function(resolve, reject) {\n\t\t\tif (args.method == null) args.method = \"GET\"\n\t\t\targs.method = args.method.toUpperCase()\n\t\t\tvar useBody = (args.method === \"GET\" || args.method === \"TRACE\") ? false : (typeof args.useBody === \"boolean\" ? args.useBody : true)\n\t\t\tif (typeof args.serialize !== \"function\") args.serialize = typeof FormData !== \"undefined\" && args.data instanceof FormData ? function(value) {return value} : JSON.stringify\n\t\t\tif (typeof args.deserialize !== \"function\") args.deserialize = deserialize\n\t\t\tif (typeof args.extract !== \"function\") args.extract = extract\n\t\t\targs.url = interpolate(args.url, args.data)\n\t\t\tif (useBody) args.data = args.serialize(args.data)\n\t\t\telse args.url = assemble(args.url, args.data)\n\t\t\tvar xhr = new $window.XMLHttpRequest(),\n\t\t\t\taborted = false,\n\t\t\t\t_abort = xhr.abort\n\t\t\txhr.abort = function abort() {\n\t\t\t\taborted = true\n\t\t\t\t_abort.call(xhr)\n\t\t\t}\n\t\t\txhr.open(args.method, args.url, typeof args.async === \"boolean\" ? args.async : true, typeof args.user === \"string\" ? args.user : undefined, typeof args.password === \"string\" ? args.password : undefined)\n\t\t\tif (args.serialize === JSON.stringify && useBody && !(args.headers && args.headers.hasOwnProperty(\"Content-Type\"))) {\n\t\t\t\txhr.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\")\n\t\t\t}\n\t\t\tif (args.deserialize === deserialize && !(args.headers && args.headers.hasOwnProperty(\"Accept\"))) {\n\t\t\t\txhr.setRequestHeader(\"Accept\", \"application/json, text/*\")\n\t\t\t}\n\t\t\tif (args.withCredentials) xhr.withCredentials = args.withCredentials\n\t\t\tfor (var key in args.headers) if ({}.hasOwnProperty.call(args.headers, key)) {\n\t\t\t\txhr.setRequestHeader(key, args.headers[key])\n\t\t\t}\n\t\t\tif (typeof args.config === \"function\") xhr = args.config(xhr, args) || xhr\n\t\t\txhr.onreadystatechange = function() {\n\t\t\t\t// Don't throw errors on xhr.abort().\n\t\t\t\tif(aborted) return\n\t\t\t\tif (xhr.readyState === 4) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar response = (args.extract !== extract) ? args.extract(xhr, args) : args.deserialize(args.extract(xhr, args))\n\t\t\t\t\t\tif ((xhr.status >= 200 && xhr.status < 300) || xhr.status === 304 || FILE_PROTOCOL_REGEX.test(args.url)) {\n\t\t\t\t\t\t\tresolve(cast(args.type, response))\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tvar error = new Error(xhr.responseText)\n\t\t\t\t\t\t\tfor (var key in response) error[key] = response[key]\n\t\t\t\t\t\t\treject(error)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\treject(e)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (useBody && (args.data != null)) xhr.send(args.data)\n\t\t\telse xhr.send()\n\t\t})\n\t\treturn args.background === true ? promise0 : finalize(promise0)\n\t}\n\tfunction jsonp(args, extra) {\n\t\tvar finalize = finalizer()\n\t\targs = normalize(args, extra)\n\t\tvar promise0 = new Promise(function(resolve, reject) {\n\t\t\tvar callbackName = args.callbackName || \"_mithril_\" + Math.round(Math.random() * 1e16) + \"_\" + callbackCount++\n\t\t\tvar script = $window.document.createElement(\"script\")\n\t\t\t$window[callbackName] = function(data) {\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\tresolve(cast(args.type, data))\n\t\t\t\tdelete $window[callbackName]\n\t\t\t}\n\t\t\tscript.onerror = function() {\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\treject(new Error(\"JSONP request failed\"))\n\t\t\t\tdelete $window[callbackName]\n\t\t\t}\n\t\t\tif (args.data == null) args.data = {}\n\t\t\targs.url = interpolate(args.url, args.data)\n\t\t\targs.data[args.callbackKey || \"callback\"] = callbackName\n\t\t\tscript.src = assemble(args.url, args.data)\n\t\t\t$window.document.documentElement.appendChild(script)\n\t\t})\n\t\treturn args.background === true? promise0 : finalize(promise0)\n\t}\n\tfunction interpolate(url, data) {\n\t\tif (data == null) return url\n\t\tvar tokens = url.match(/:[^\\/]+/gi) || []\n\t\tfor (var i = 0; i < tokens.length; i++) {\n\t\t\tvar key = tokens[i].slice(1)\n\t\t\tif (data[key] != null) {\n\t\t\t\turl = url.replace(tokens[i], data[key])\n\t\t\t}\n\t\t}\n\t\treturn url\n\t}\n\tfunction assemble(url, data) {\n\t\tvar querystring = buildQueryString(data)\n\t\tif (querystring !== \"\") {\n\t\t\tvar prefix = url.indexOf(\"?\") < 0 ? \"?\" : \"&\"\n\t\t\turl += prefix + querystring\n\t\t}\n\t\treturn url\n\t}\n\tfunction deserialize(data) {\n\t\ttry {return data !== \"\" ? JSON.parse(data) : null}\n\t\tcatch (e) {throw new Error(data)}\n\t}\n\tfunction extract(xhr) {return xhr.responseText}\n\tfunction cast(type0, data) {\n\t\tif (typeof type0 === \"function\") {\n\t\t\tif (Array.isArray(data)) {\n\t\t\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\t\t\tdata[i] = new type0(data[i])\n\t\t\t\t}\n\t\t\t}\n\t\t\telse return new type0(data)\n\t\t}\n\t\treturn data\n\t}\n\treturn {request: request, jsonp: jsonp, setCompletionCallback: setCompletionCallback}\n}\nvar requestService = _8(window, PromisePolyfill)\nvar coreRenderer = function($window) {\n\tvar $doc = $window.document\n\tvar $emptyFragment = $doc.createDocumentFragment()\n\tvar nameSpace = {\n\t\tsvg: \"http://www.w3.org/2000/svg\",\n\t\tmath: \"http://www.w3.org/1998/Math/MathML\"\n\t}\n\tvar onevent\n\tfunction setEventCallback(callback) {return onevent = callback}\n\tfunction getNameSpace(vnode) {\n\t\treturn vnode.attrs && vnode.attrs.xmlns || nameSpace[vnode.tag]\n\t}\n\t//create\n\tfunction createNodes(parent, vnodes, start, end, hooks, nextSibling, ns) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) {\n\t\t\t\tcreateNode(parent, vnode, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t}\n\tfunction createNode(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar tag = vnode.tag\n\t\tif (typeof tag === \"string\") {\n\t\t\tvnode.state = {}\n\t\t\tif (vnode.attrs != null) initLifecycle(vnode.attrs, vnode, hooks)\n\t\t\tswitch (tag) {\n\t\t\t\tcase \"#\": return createText(parent, vnode, nextSibling)\n\t\t\t\tcase \"<\": return createHTML(parent, vnode, nextSibling)\n\t\t\t\tcase \"[\": return createFragment(parent, vnode, hooks, ns, nextSibling)\n\t\t\t\tdefault: return createElement(parent, vnode, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t\telse return createComponent(parent, vnode, hooks, ns, nextSibling)\n\t}\n\tfunction createText(parent, vnode, nextSibling) {\n\t\tvnode.dom = $doc.createTextNode(vnode.children)\n\t\tinsertNode(parent, vnode.dom, nextSibling)\n\t\treturn vnode.dom\n\t}\n\tfunction createHTML(parent, vnode, nextSibling) {\n\t\tvar match1 = vnode.children.match(/^\\s*?<(\\w+)/im) || []\n\t\tvar parent1 = {caption: \"table\", thead: \"table\", tbody: \"table\", tfoot: \"table\", tr: \"tbody\", th: \"tr\", td: \"tr\", colgroup: \"table\", col: \"colgroup\"}[match1[1]] || \"div\"\n\t\tvar temp = $doc.createElement(parent1)\n\t\ttemp.innerHTML = vnode.children\n\t\tvnode.dom = temp.firstChild\n\t\tvnode.domSize = temp.childNodes.length\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tvar child\n\t\twhile (child = temp.firstChild) {\n\t\t\tfragment.appendChild(child)\n\t\t}\n\t\tinsertNode(parent, fragment, nextSibling)\n\t\treturn fragment\n\t}\n\tfunction createFragment(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tif (vnode.children != null) {\n\t\t\tvar children = vnode.children\n\t\t\tcreateNodes(fragment, children, 0, children.length, hooks, null, ns)\n\t\t}\n\t\tvnode.dom = fragment.firstChild\n\t\tvnode.domSize = fragment.childNodes.length\n\t\tinsertNode(parent, fragment, nextSibling)\n\t\treturn fragment\n\t}\n\tfunction createElement(parent, vnode, hooks, ns, nextSibling) {\n\t\tvar tag = vnode.tag\n\t\tvar attrs2 = vnode.attrs\n\t\tvar is = attrs2 && attrs2.is\n\t\tns = getNameSpace(vnode) || ns\n\t\tvar element = ns ?\n\t\t\tis ? $doc.createElementNS(ns, tag, {is: is}) : $doc.createElementNS(ns, tag) :\n\t\t\tis ? $doc.createElement(tag, {is: is}) : $doc.createElement(tag)\n\t\tvnode.dom = element\n\t\tif (attrs2 != null) {\n\t\t\tsetAttrs(vnode, attrs2, ns)\n\t\t}\n\t\tinsertNode(parent, element, nextSibling)\n\t\tif (vnode.attrs != null && vnode.attrs.contenteditable != null) {\n\t\t\tsetContentEditable(vnode)\n\t\t}\n\t\telse {\n\t\t\tif (vnode.text != null) {\n\t\t\t\tif (vnode.text !== \"\") element.textContent = vnode.text\n\t\t\t\telse vnode.children = [Vnode(\"#\", undefined, undefined, vnode.text, undefined, undefined)]\n\t\t\t}\n\t\t\tif (vnode.children != null) {\n\t\t\t\tvar children = vnode.children\n\t\t\t\tcreateNodes(element, children, 0, children.length, hooks, null, ns)\n\t\t\t\tsetLateAttrs(vnode)\n\t\t\t}\n\t\t}\n\t\treturn element\n\t}\n\tfunction initComponent(vnode, hooks) {\n\t\tvar sentinel\n\t\tif (typeof vnode.tag.view === \"function\") {\n\t\t\tvnode.state = Object.create(vnode.tag)\n\t\t\tsentinel = vnode.state.view\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return $emptyFragment\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t} else {\n\t\t\tvnode.state = void 0\n\t\t\tsentinel = vnode.tag\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return $emptyFragment\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t\tvnode.state = (vnode.tag.prototype != null && typeof vnode.tag.prototype.view === \"function\") ? new vnode.tag(vnode) : vnode.tag(vnode)\n\t\t}\n\t\tvnode._state = vnode.state\n\t\tif (vnode.attrs != null) initLifecycle(vnode.attrs, vnode, hooks)\n\t\tinitLifecycle(vnode._state, vnode, hooks)\n\t\tvnode.instance = Vnode.normalize(vnode._state.view.call(vnode.state, vnode))\n\t\tif (vnode.instance === vnode) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tsentinel.$$reentrantLock$$ = null\n\t}\n\tfunction createComponent(parent, vnode, hooks, ns, nextSibling) {\n\t\tinitComponent(vnode, hooks)\n\t\tif (vnode.instance != null) {\n\t\t\tvar element = createNode(parent, vnode.instance, hooks, ns, nextSibling)\n\t\t\tvnode.dom = vnode.instance.dom\n\t\t\tvnode.domSize = vnode.dom != null ? vnode.instance.domSize : 0\n\t\t\tinsertNode(parent, element, nextSibling)\n\t\t\treturn element\n\t\t}\n\t\telse {\n\t\t\tvnode.domSize = 0\n\t\t\treturn $emptyFragment\n\t\t}\n\t}\n\t//update\n\tfunction updateNodes(parent, old, vnodes, recycling, hooks, nextSibling, ns) {\n\t\tif (old === vnodes || old == null && vnodes == null) return\n\t\telse if (old == null) createNodes(parent, vnodes, 0, vnodes.length, hooks, nextSibling, ns)\n\t\telse if (vnodes == null) removeNodes(old, 0, old.length, vnodes)\n\t\telse {\n\t\t\tif (old.length === vnodes.length) {\n\t\t\t\tvar isUnkeyed = false\n\t\t\t\tfor (var i = 0; i < vnodes.length; i++) {\n\t\t\t\t\tif (vnodes[i] != null && old[i] != null) {\n\t\t\t\t\t\tisUnkeyed = vnodes[i].key == null && old[i].key == null\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isUnkeyed) {\n\t\t\t\t\tfor (var i = 0; i < old.length; i++) {\n\t\t\t\t\t\tif (old[i] === vnodes[i]) continue\n\t\t\t\t\t\telse if (old[i] == null && vnodes[i] != null) createNode(parent, vnodes[i], hooks, ns, getNextSibling(old, i + 1, nextSibling))\n\t\t\t\t\t\telse if (vnodes[i] == null) removeNodes(old, i, i + 1, vnodes)\n\t\t\t\t\t\telse updateNode(parent, old[i], vnodes[i], hooks, getNextSibling(old, i + 1, nextSibling), recycling, ns)\n\t\t\t\t\t}\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t}\n\t\t\trecycling = recycling || isRecyclable(old, vnodes)\n\t\t\tif (recycling) {\n\t\t\t\tvar pool = old.pool\n\t\t\t\told = old.concat(old.pool)\n\t\t\t}\n\t\t\tvar oldStart = 0, start = 0, oldEnd = old.length - 1, end = vnodes.length - 1, map\n\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\tvar o = old[oldStart], v = vnodes[start]\n\t\t\t\tif (o === v && !recycling) oldStart++, start++\n\t\t\t\telse if (o == null) oldStart++\n\t\t\t\telse if (v == null) start++\n\t\t\t\telse if (o.key === v.key) {\n\t\t\t\t\tvar shouldRecycle = (pool != null && oldStart >= old.length - pool.length) || ((pool == null) && recycling)\n\t\t\t\t\toldStart++, start++\n\t\t\t\t\tupdateNode(parent, o, v, hooks, getNextSibling(old, oldStart, nextSibling), shouldRecycle, ns)\n\t\t\t\t\tif (recycling && o.tag === v.tag) insertNode(parent, toFragment(o), nextSibling)\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvar o = old[oldEnd]\n\t\t\t\t\tif (o === v && !recycling) oldEnd--, start++\n\t\t\t\t\telse if (o == null) oldEnd--\n\t\t\t\t\telse if (v == null) start++\n\t\t\t\t\telse if (o.key === v.key) {\n\t\t\t\t\t\tvar shouldRecycle = (pool != null && oldEnd >= old.length - pool.length) || ((pool == null) && recycling)\n\t\t\t\t\t\tupdateNode(parent, o, v, hooks, getNextSibling(old, oldEnd + 1, nextSibling), shouldRecycle, ns)\n\t\t\t\t\t\tif (recycling || start < end) insertNode(parent, toFragment(o), getNextSibling(old, oldStart, nextSibling))\n\t\t\t\t\t\toldEnd--, start++\n\t\t\t\t\t}\n\t\t\t\t\telse break\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\tvar o = old[oldEnd], v = vnodes[end]\n\t\t\t\tif (o === v && !recycling) oldEnd--, end--\n\t\t\t\telse if (o == null) oldEnd--\n\t\t\t\telse if (v == null) end--\n\t\t\t\telse if (o.key === v.key) {\n\t\t\t\t\tvar shouldRecycle = (pool != null && oldEnd >= old.length - pool.length) || ((pool == null) && recycling)\n\t\t\t\t\tupdateNode(parent, o, v, hooks, getNextSibling(old, oldEnd + 1, nextSibling), shouldRecycle, ns)\n\t\t\t\t\tif (recycling && o.tag === v.tag) insertNode(parent, toFragment(o), nextSibling)\n\t\t\t\t\tif (o.dom != null) nextSibling = o.dom\n\t\t\t\t\toldEnd--, end--\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (!map) map = getKeyMap(old, oldEnd)\n\t\t\t\t\tif (v != null) {\n\t\t\t\t\t\tvar oldIndex = map[v.key]\n\t\t\t\t\t\tif (oldIndex != null) {\n\t\t\t\t\t\t\tvar movable = old[oldIndex]\n\t\t\t\t\t\t\tvar shouldRecycle = (pool != null && oldIndex >= old.length - pool.length) || ((pool == null) && recycling)\n\t\t\t\t\t\t\tupdateNode(parent, movable, v, hooks, getNextSibling(old, oldEnd + 1, nextSibling), recycling, ns)\n\t\t\t\t\t\t\tinsertNode(parent, toFragment(movable), nextSibling)\n\t\t\t\t\t\t\told[oldIndex].skip = true\n\t\t\t\t\t\t\tif (movable.dom != null) nextSibling = movable.dom\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tvar dom = createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\tnextSibling = dom\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tend--\n\t\t\t\t}\n\t\t\t\tif (end < start) break\n\t\t\t}\n\t\t\tcreateNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\tremoveNodes(old, oldStart, oldEnd + 1, vnodes)\n\t\t}\n\t}\n\tfunction updateNode(parent, old, vnode, hooks, nextSibling, recycling, ns) {\n\t\tvar oldTag = old.tag, tag = vnode.tag\n\t\tif (oldTag === tag) {\n\t\t\tvnode.state = old.state\n\t\t\tvnode._state = old._state\n\t\t\tvnode.events = old.events\n\t\t\tif (!recycling && shouldNotUpdate(vnode, old)) return\n\t\t\tif (typeof oldTag === \"string\") {\n\t\t\t\tif (vnode.attrs != null) {\n\t\t\t\t\tif (recycling) {\n\t\t\t\t\t\tvnode.state = {}\n\t\t\t\t\t\tinitLifecycle(vnode.attrs, vnode, hooks)\n\t\t\t\t\t}\n\t\t\t\t\telse updateLifecycle(vnode.attrs, vnode, hooks)\n\t\t\t\t}\n\t\t\t\tswitch (oldTag) {\n\t\t\t\t\tcase \"#\": updateText(old, vnode); break\n\t\t\t\t\tcase \"<\": updateHTML(parent, old, vnode, nextSibling); break\n\t\t\t\t\tcase \"[\": updateFragment(parent, old, vnode, recycling, hooks, nextSibling, ns); break\n\t\t\t\t\tdefault: updateElement(old, vnode, recycling, hooks, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t\telse updateComponent(parent, old, vnode, hooks, nextSibling, recycling, ns)\n\t\t}\n\t\telse {\n\t\t\tremoveNode(old, null)\n\t\t\tcreateNode(parent, vnode, hooks, ns, nextSibling)\n\t\t}\n\t}\n\tfunction updateText(old, vnode) {\n\t\tif (old.children.toString() !== vnode.children.toString()) {\n\t\t\told.dom.nodeValue = vnode.children\n\t\t}\n\t\tvnode.dom = old.dom\n\t}\n\tfunction updateHTML(parent, old, vnode, nextSibling) {\n\t\tif (old.children !== vnode.children) {\n\t\t\ttoFragment(old)\n\t\t\tcreateHTML(parent, vnode, nextSibling)\n\t\t}\n\t\telse vnode.dom = old.dom, vnode.domSize = old.domSize\n\t}\n\tfunction updateFragment(parent, old, vnode, recycling, hooks, nextSibling, ns) {\n\t\tupdateNodes(parent, old.children, vnode.children, recycling, hooks, nextSibling, ns)\n\t\tvar domSize = 0, children = vnode.children\n\t\tvnode.dom = null\n\t\tif (children != null) {\n\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\tvar child = children[i]\n\t\t\t\tif (child != null && child.dom != null) {\n\t\t\t\t\tif (vnode.dom == null) vnode.dom = child.dom\n\t\t\t\t\tdomSize += child.domSize || 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (domSize !== 1) vnode.domSize = domSize\n\t\t}\n\t}\n\tfunction updateElement(old, vnode, recycling, hooks, ns) {\n\t\tvar element = vnode.dom = old.dom\n\t\tns = getNameSpace(vnode) || ns\n\t\tif (vnode.tag === \"textarea\") {\n\t\t\tif (vnode.attrs == null) vnode.attrs = {}\n\t\t\tif (vnode.text != null) {\n\t\t\t\tvnode.attrs.value = vnode.text //FIXME handle0 multiple children\n\t\t\t\tvnode.text = undefined\n\t\t\t}\n\t\t}\n\t\tupdateAttrs(vnode, old.attrs, vnode.attrs, ns)\n\t\tif (vnode.attrs != null && vnode.attrs.contenteditable != null) {\n\t\t\tsetContentEditable(vnode)\n\t\t}\n\t\telse if (old.text != null && vnode.text != null && vnode.text !== \"\") {\n\t\t\tif (old.text.toString() !== vnode.text.toString()) old.dom.firstChild.nodeValue = vnode.text\n\t\t}\n\t\telse {\n\t\t\tif (old.text != null) old.children = [Vnode(\"#\", undefined, undefined, old.text, undefined, old.dom.firstChild)]\n\t\t\tif (vnode.text != null) vnode.children = [Vnode(\"#\", undefined, undefined, vnode.text, undefined, undefined)]\n\t\t\tupdateNodes(element, old.children, vnode.children, recycling, hooks, null, ns)\n\t\t}\n\t}\n\tfunction updateComponent(parent, old, vnode, hooks, nextSibling, recycling, ns) {\n\t\tif (recycling) {\n\t\t\tinitComponent(vnode, hooks)\n\t\t} else {\n\t\t\tvnode.instance = Vnode.normalize(vnode._state.view.call(vnode.state, vnode))\n\t\t\tif (vnode.instance === vnode) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\t\tif (vnode.attrs != null) updateLifecycle(vnode.attrs, vnode, hooks)\n\t\t\tupdateLifecycle(vnode._state, vnode, hooks)\n\t\t}\n\t\tif (vnode.instance != null) {\n\t\t\tif (old.instance == null) createNode(parent, vnode.instance, hooks, ns, nextSibling)\n\t\t\telse updateNode(parent, old.instance, vnode.instance, hooks, nextSibling, recycling, ns)\n\t\t\tvnode.dom = vnode.instance.dom\n\t\t\tvnode.domSize = vnode.instance.domSize\n\t\t}\n\t\telse if (old.instance != null) {\n\t\t\tremoveNode(old.instance, null)\n\t\t\tvnode.dom = undefined\n\t\t\tvnode.domSize = 0\n\t\t}\n\t\telse {\n\t\t\tvnode.dom = old.dom\n\t\t\tvnode.domSize = old.domSize\n\t\t}\n\t}\n\tfunction isRecyclable(old, vnodes) {\n\t\tif (old.pool != null && Math.abs(old.pool.length - vnodes.length) <= Math.abs(old.length - vnodes.length)) {\n\t\t\tvar oldChildrenLength = old[0] && old[0].children && old[0].children.length || 0\n\t\t\tvar poolChildrenLength = old.pool[0] && old.pool[0].children && old.pool[0].children.length || 0\n\t\t\tvar vnodesChildrenLength = vnodes[0] && vnodes[0].children && vnodes[0].children.length || 0\n\t\t\tif (Math.abs(poolChildrenLength - vnodesChildrenLength) <= Math.abs(oldChildrenLength - vnodesChildrenLength)) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t\treturn false\n\t}\n\tfunction getKeyMap(vnodes, end) {\n\t\tvar map = {}, i = 0\n\t\tfor (var i = 0; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) {\n\t\t\t\tvar key2 = vnode.key\n\t\t\t\tif (key2 != null) map[key2] = i\n\t\t\t}\n\t\t}\n\t\treturn map\n\t}\n\tfunction toFragment(vnode) {\n\t\tvar count0 = vnode.domSize\n\t\tif (count0 != null || vnode.dom == null) {\n\t\t\tvar fragment = $doc.createDocumentFragment()\n\t\t\tif (count0 > 0) {\n\t\t\t\tvar dom = vnode.dom\n\t\t\t\twhile (--count0) fragment.appendChild(dom.nextSibling)\n\t\t\t\tfragment.insertBefore(dom, fragment.firstChild)\n\t\t\t}\n\t\t\treturn fragment\n\t\t}\n\t\telse return vnode.dom\n\t}\n\tfunction getNextSibling(vnodes, i, nextSibling) {\n\t\tfor (; i < vnodes.length; i++) {\n\t\t\tif (vnodes[i] != null && vnodes[i].dom != null) return vnodes[i].dom\n\t\t}\n\t\treturn nextSibling\n\t}\n\tfunction insertNode(parent, dom, nextSibling) {\n\t\tif (nextSibling && nextSibling.parentNode) parent.insertBefore(dom, nextSibling)\n\t\telse parent.appendChild(dom)\n\t}\n\tfunction setContentEditable(vnode) {\n\t\tvar children = vnode.children\n\t\tif (children != null && children.length === 1 && children[0].tag === \"<\") {\n\t\t\tvar content = children[0].children\n\t\t\tif (vnode.dom.innerHTML !== content) vnode.dom.innerHTML = content\n\t\t}\n\t\telse if (vnode.text != null || children != null && children.length !== 0) throw new Error(\"Child node of a contenteditable must be trusted\")\n\t}\n\t//remove\n\tfunction removeNodes(vnodes, start, end, context) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode = vnodes[i]\n\t\t\tif (vnode != null) {\n\t\t\t\tif (vnode.skip) vnode.skip = false\n\t\t\t\telse removeNode(vnode, context)\n\t\t\t}\n\t\t}\n\t}\n\tfunction removeNode(vnode, context) {\n\t\tvar expected = 1, called = 0\n\t\tif (vnode.attrs && typeof vnode.attrs.onbeforeremove === \"function\") {\n\t\t\tvar result = vnode.attrs.onbeforeremove.call(vnode.state, vnode)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\texpected++\n\t\t\t\tresult.then(continuation, continuation)\n\t\t\t}\n\t\t}\n\t\tif (typeof vnode.tag !== \"string\" && typeof vnode._state.onbeforeremove === \"function\") {\n\t\t\tvar result = vnode._state.onbeforeremove.call(vnode.state, vnode)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\texpected++\n\t\t\t\tresult.then(continuation, continuation)\n\t\t\t}\n\t\t}\n\t\tcontinuation()\n\t\tfunction continuation() {\n\t\t\tif (++called === expected) {\n\t\t\t\tonremove(vnode)\n\t\t\t\tif (vnode.dom) {\n\t\t\t\t\tvar count0 = vnode.domSize || 1\n\t\t\t\t\tif (count0 > 1) {\n\t\t\t\t\t\tvar dom = vnode.dom\n\t\t\t\t\t\twhile (--count0) {\n\t\t\t\t\t\t\tremoveNodeFromDOM(dom.nextSibling)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tremoveNodeFromDOM(vnode.dom)\n\t\t\t\t\tif (context != null && vnode.domSize == null && !hasIntegrationMethods(vnode.attrs) && typeof vnode.tag === \"string\") { //TODO test custom elements\n\t\t\t\t\t\tif (!context.pool) context.pool = [vnode]\n\t\t\t\t\t\telse context.pool.push(vnode)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction removeNodeFromDOM(node) {\n\t\tvar parent = node.parentNode\n\t\tif (parent != null) parent.removeChild(node)\n\t}\n\tfunction onremove(vnode) {\n\t\tif (vnode.attrs && typeof vnode.attrs.onremove === \"function\") vnode.attrs.onremove.call(vnode.state, vnode)\n\t\tif (typeof vnode.tag !== \"string\") {\n\t\t\tif (typeof vnode._state.onremove === \"function\") vnode._state.onremove.call(vnode.state, vnode)\n\t\t\tif (vnode.instance != null) onremove(vnode.instance)\n\t\t} else {\n\t\t\tvar children = vnode.children\n\t\t\tif (Array.isArray(children)) {\n\t\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\t\tvar child = children[i]\n\t\t\t\t\tif (child != null) onremove(child)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t//attrs2\n\tfunction setAttrs(vnode, attrs2, ns) {\n\t\tfor (var key2 in attrs2) {\n\t\t\tsetAttr(vnode, key2, null, attrs2[key2], ns)\n\t\t}\n\t}\n\tfunction setAttr(vnode, key2, old, value, ns) {\n\t\tvar element = vnode.dom\n\t\tif (key2 === \"key\" || key2 === \"is\" || (old === value && !isFormAttribute(vnode, key2)) && typeof value !== \"object\" || typeof value === \"undefined\" || isLifecycleMethod(key2)) return\n\t\tvar nsLastIndex = key2.indexOf(\":\")\n\t\tif (nsLastIndex > -1 && key2.substr(0, nsLastIndex) === \"xlink\") {\n\t\t\telement.setAttributeNS(\"http://www.w3.org/1999/xlink\", key2.slice(nsLastIndex + 1), value)\n\t\t}\n\t\telse if (key2[0] === \"o\" && key2[1] === \"n\" && typeof value === \"function\") updateEvent(vnode, key2, value)\n\t\telse if (key2 === \"style\") updateStyle(element, old, value)\n\t\telse if (key2 in element && !isAttribute(key2) && ns === undefined && !isCustomElement(vnode)) {\n\t\t\tif (key2 === \"value\") {\n\t\t\t\tvar normalized0 = \"\" + value // eslint-disable-line no-implicit-coercion\n\t\t\t\t//setting input[value] to same value by typing on focused element moves cursor to end in Chrome\n\t\t\t\tif ((vnode.tag === \"input\" || vnode.tag === \"textarea\") && vnode.dom.value === normalized0 && vnode.dom === $doc.activeElement) return\n\t\t\t\t//setting select[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode.tag === \"select\") {\n\t\t\t\t\tif (value === null) {\n\t\t\t\t\t\tif (vnode.dom.selectedIndex === -1 && vnode.dom === $doc.activeElement) return\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (old !== null && vnode.dom.value === normalized0 && vnode.dom === $doc.activeElement) return\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//setting option[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode.tag === \"option\" && old != null && vnode.dom.value === normalized0) return\n\t\t\t}\n\t\t\t// If you assign an input type1 that is not supported by IE 11 with an assignment expression, an error0 will occur.\n\t\t\tif (vnode.tag === \"input\" && key2 === \"type\") {\n\t\t\t\telement.setAttribute(key2, value)\n\t\t\t\treturn\n\t\t\t}\n\t\t\telement[key2] = value\n\t\t}\n\t\telse {\n\t\t\tif (typeof value === \"boolean\") {\n\t\t\t\tif (value) element.setAttribute(key2, \"\")\n\t\t\t\telse element.removeAttribute(key2)\n\t\t\t}\n\t\t\telse element.setAttribute(key2 === \"className\" ? \"class\" : key2, value)\n\t\t}\n\t}\n\tfunction setLateAttrs(vnode) {\n\t\tvar attrs2 = vnode.attrs\n\t\tif (vnode.tag === \"select\" && attrs2 != null) {\n\t\t\tif (\"value\" in attrs2) setAttr(vnode, \"value\", null, attrs2.value, undefined)\n\t\t\tif (\"selectedIndex\" in attrs2) setAttr(vnode, \"selectedIndex\", null, attrs2.selectedIndex, undefined)\n\t\t}\n\t}\n\tfunction updateAttrs(vnode, old, attrs2, ns) {\n\t\tif (attrs2 != null) {\n\t\t\tfor (var key2 in attrs2) {\n\t\t\t\tsetAttr(vnode, key2, old && old[key2], attrs2[key2], ns)\n\t\t\t}\n\t\t}\n\t\tif (old != null) {\n\t\t\tfor (var key2 in old) {\n\t\t\t\tif (attrs2 == null || !(key2 in attrs2)) {\n\t\t\t\t\tif (key2 === \"className\") key2 = \"class\"\n\t\t\t\t\tif (key2[0] === \"o\" && key2[1] === \"n\" && !isLifecycleMethod(key2)) updateEvent(vnode, key2, undefined)\n\t\t\t\t\telse if (key2 !== \"key\") vnode.dom.removeAttribute(key2)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction isFormAttribute(vnode, attr) {\n\t\treturn attr === \"value\" || attr === \"checked\" || attr === \"selectedIndex\" || attr === \"selected\" && vnode.dom === $doc.activeElement\n\t}\n\tfunction isLifecycleMethod(attr) {\n\t\treturn attr === \"oninit\" || attr === \"oncreate\" || attr === \"onupdate\" || attr === \"onremove\" || attr === \"onbeforeremove\" || attr === \"onbeforeupdate\"\n\t}\n\tfunction isAttribute(attr) {\n\t\treturn attr === \"href\" || attr === \"list\" || attr === \"form\" || attr === \"width\" || attr === \"height\"// || attr === \"type\"\n\t}\n\tfunction isCustomElement(vnode){\n\t\treturn vnode.attrs.is || vnode.tag.indexOf(\"-\") > -1\n\t}\n\tfunction hasIntegrationMethods(source) {\n\t\treturn source != null && (source.oncreate || source.onupdate || source.onbeforeremove || source.onremove)\n\t}\n\t//style\n\tfunction updateStyle(element, old, style) {\n\t\tif (old === style) element.style.cssText = \"\", old = null\n\t\tif (style == null) element.style.cssText = \"\"\n\t\telse if (typeof style === \"string\") element.style.cssText = style\n\t\telse {\n\t\t\tif (typeof old === \"string\") element.style.cssText = \"\"\n\t\t\tfor (var key2 in style) {\n\t\t\t\telement.style[key2] = style[key2]\n\t\t\t}\n\t\t\tif (old != null && typeof old !== \"string\") {\n\t\t\t\tfor (var key2 in old) {\n\t\t\t\t\tif (!(key2 in style)) element.style[key2] = \"\"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t//event\n\tfunction updateEvent(vnode, key2, value) {\n\t\tvar element = vnode.dom\n\t\tvar callback = typeof onevent !== \"function\" ? value : function(e) {\n\t\t\tvar result = value.call(element, e)\n\t\t\tonevent.call(element, e)\n\t\t\treturn result\n\t\t}\n\t\tif (key2 in element) element[key2] = typeof value === \"function\" ? callback : null\n\t\telse {\n\t\t\tvar eventName = key2.slice(2)\n\t\t\tif (vnode.events === undefined) vnode.events = {}\n\t\t\tif (vnode.events[key2] === callback) return\n\t\t\tif (vnode.events[key2] != null) element.removeEventListener(eventName, vnode.events[key2], false)\n\t\t\tif (typeof value === \"function\") {\n\t\t\t\tvnode.events[key2] = callback\n\t\t\t\telement.addEventListener(eventName, vnode.events[key2], false)\n\t\t\t}\n\t\t}\n\t}\n\t//lifecycle\n\tfunction initLifecycle(source, vnode, hooks) {\n\t\tif (typeof source.oninit === \"function\") source.oninit.call(vnode.state, vnode)\n\t\tif (typeof source.oncreate === \"function\") hooks.push(source.oncreate.bind(vnode.state, vnode))\n\t}\n\tfunction updateLifecycle(source, vnode, hooks) {\n\t\tif (typeof source.onupdate === \"function\") hooks.push(source.onupdate.bind(vnode.state, vnode))\n\t}\n\tfunction shouldNotUpdate(vnode, old) {\n\t\tvar forceVnodeUpdate, forceComponentUpdate\n\t\tif (vnode.attrs != null && typeof vnode.attrs.onbeforeupdate === \"function\") forceVnodeUpdate = vnode.attrs.onbeforeupdate.call(vnode.state, vnode, old)\n\t\tif (typeof vnode.tag !== \"string\" && typeof vnode._state.onbeforeupdate === \"function\") forceComponentUpdate = vnode._state.onbeforeupdate.call(vnode.state, vnode, old)\n\t\tif (!(forceVnodeUpdate === undefined && forceComponentUpdate === undefined) && !forceVnodeUpdate && !forceComponentUpdate) {\n\t\t\tvnode.dom = old.dom\n\t\t\tvnode.domSize = old.domSize\n\t\t\tvnode.instance = old.instance\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n\tfunction render(dom, vnodes) {\n\t\tif (!dom) throw new Error(\"Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.\")\n\t\tvar hooks = []\n\t\tvar active = $doc.activeElement\n\t\tvar namespace = dom.namespaceURI\n\t\t// First time0 rendering into a node clears it out\n\t\tif (dom.vnodes == null) dom.textContent = \"\"\n\t\tif (!Array.isArray(vnodes)) vnodes = [vnodes]\n\t\tupdateNodes(dom, dom.vnodes, Vnode.normalizeChildren(vnodes), false, hooks, null, namespace === \"http://www.w3.org/1999/xhtml\" ? undefined : namespace)\n\t\tdom.vnodes = vnodes\n\t\t// document.activeElement can return null in IE https://developer.mozilla.org/en-US/docs/Web/API/Document/activeElement\n\t\tif (active != null && $doc.activeElement !== active) active.focus()\n\t\tfor (var i = 0; i < hooks.length; i++) hooks[i]()\n\t}\n\treturn {render: render, setEventCallback: setEventCallback}\n}\nfunction throttle(callback) {\n\t//60fps translates to 16.6ms, round it down since setTimeout requires int\n\tvar time = 16\n\tvar last = 0, pending = null\n\tvar timeout = typeof requestAnimationFrame === \"function\" ? requestAnimationFrame : setTimeout\n\treturn function() {\n\t\tvar now = Date.now()\n\t\tif (last === 0 || now - last >= time) {\n\t\t\tlast = now\n\t\t\tcallback()\n\t\t}\n\t\telse if (pending === null) {\n\t\t\tpending = timeout(function() {\n\t\t\t\tpending = null\n\t\t\t\tcallback()\n\t\t\t\tlast = Date.now()\n\t\t\t}, time - (now - last))\n\t\t}\n\t}\n}\nvar _11 = function($window) {\n\tvar renderService = coreRenderer($window)\n\trenderService.setEventCallback(function(e) {\n\t\tif (e.redraw === false) e.redraw = undefined\n\t\telse redraw()\n\t})\n\tvar callbacks = []\n\tfunction subscribe(key1, callback) {\n\t\tunsubscribe(key1)\n\t\tcallbacks.push(key1, throttle(callback))\n\t}\n\tfunction unsubscribe(key1) {\n\t\tvar index = callbacks.indexOf(key1)\n\t\tif (index > -1) callbacks.splice(index, 2)\n\t}\n\tfunction redraw() {\n\t\tfor (var i = 1; i < callbacks.length; i += 2) {\n\t\t\tcallbacks[i]()\n\t\t}\n\t}\n\treturn {subscribe: subscribe, unsubscribe: unsubscribe, redraw: redraw, render: renderService.render}\n}\nvar redrawService = _11(window)\nrequestService.setCompletionCallback(redrawService.redraw)\nvar _16 = function(redrawService0) {\n\treturn function(root, component) {\n\t\tif (component === null) {\n\t\t\tredrawService0.render(root, [])\n\t\t\tredrawService0.unsubscribe(root)\n\t\t\treturn\n\t\t}\n\t\t\n\t\tif (component.view == null && typeof component !== \"function\") throw new Error(\"m.mount(element, component) expects a component, not a vnode\")\n\t\t\n\t\tvar run0 = function() {\n\t\t\tredrawService0.render(root, Vnode(component))\n\t\t}\n\t\tredrawService0.subscribe(root, run0)\n\t\tredrawService0.redraw()\n\t}\n}\nm.mount = _16(redrawService)\nvar Promise = PromisePolyfill\nvar parseQueryString = function(string) {\n\tif (string === \"\" || string == null) return {}\n\tif (string.charAt(0) === \"?\") string = string.slice(1)\n\tvar entries = string.split(\"&\"), data0 = {}, counters = {}\n\tfor (var i = 0; i < entries.length; i++) {\n\t\tvar entry = entries[i].split(\"=\")\n\t\tvar key5 = decodeURIComponent(entry[0])\n\t\tvar value = entry.length === 2 ? decodeURIComponent(entry[1]) : \"\"\n\t\tif (value === \"true\") value = true\n\t\telse if (value === \"false\") value = false\n\t\tvar levels = key5.split(/\\]\\[?|\\[/)\n\t\tvar cursor = data0\n\t\tif (key5.indexOf(\"[\") > -1) levels.pop()\n\t\tfor (var j = 0; j < levels.length; j++) {\n\t\t\tvar level = levels[j], nextLevel = levels[j + 1]\n\t\t\tvar isNumber = nextLevel == \"\" || !isNaN(parseInt(nextLevel, 10))\n\t\t\tvar isValue = j === levels.length - 1\n\t\t\tif (level === \"\") {\n\t\t\t\tvar key5 = levels.slice(0, j).join()\n\t\t\t\tif (counters[key5] == null) counters[key5] = 0\n\t\t\t\tlevel = counters[key5]++\n\t\t\t}\n\t\t\tif (cursor[level] == null) {\n\t\t\t\tcursor[level] = isValue ? value : isNumber ? [] : {}\n\t\t\t}\n\t\t\tcursor = cursor[level]\n\t\t}\n\t}\n\treturn data0\n}\nvar coreRouter = function($window) {\n\tvar supportsPushState = typeof $window.history.pushState === \"function\"\n\tvar callAsync0 = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\tfunction normalize1(fragment0) {\n\t\tvar data = $window.location[fragment0].replace(/(?:%[a-f89][a-f0-9])+/gim, decodeURIComponent)\n\t\tif (fragment0 === \"pathname\" && data[0] !== \"/\") data = \"/\" + data\n\t\treturn data\n\t}\n\tvar asyncId\n\tfunction debounceAsync(callback0) {\n\t\treturn function() {\n\t\t\tif (asyncId != null) return\n\t\t\tasyncId = callAsync0(function() {\n\t\t\t\tasyncId = null\n\t\t\t\tcallback0()\n\t\t\t})\n\t\t}\n\t}\n\tfunction parsePath(path, queryData, hashData) {\n\t\tvar queryIndex = path.indexOf(\"?\")\n\t\tvar hashIndex = path.indexOf(\"#\")\n\t\tvar pathEnd = queryIndex > -1 ? queryIndex : hashIndex > -1 ? hashIndex : path.length\n\t\tif (queryIndex > -1) {\n\t\t\tvar queryEnd = hashIndex > -1 ? hashIndex : path.length\n\t\t\tvar queryParams = parseQueryString(path.slice(queryIndex + 1, queryEnd))\n\t\t\tfor (var key4 in queryParams) queryData[key4] = queryParams[key4]\n\t\t}\n\t\tif (hashIndex > -1) {\n\t\t\tvar hashParams = parseQueryString(path.slice(hashIndex + 1))\n\t\t\tfor (var key4 in hashParams) hashData[key4] = hashParams[key4]\n\t\t}\n\t\treturn path.slice(0, pathEnd)\n\t}\n\tvar router = {prefix: \"#!\"}\n\trouter.getPath = function() {\n\t\tvar type2 = router.prefix.charAt(0)\n\t\tswitch (type2) {\n\t\t\tcase \"#\": return normalize1(\"hash\").slice(router.prefix.length)\n\t\t\tcase \"?\": return normalize1(\"search\").slice(router.prefix.length) + normalize1(\"hash\")\n\t\t\tdefault: return normalize1(\"pathname\").slice(router.prefix.length) + normalize1(\"search\") + normalize1(\"hash\")\n\t\t}\n\t}\n\trouter.setPath = function(path, data, options) {\n\t\tvar queryData = {}, hashData = {}\n\t\tpath = parsePath(path, queryData, hashData)\n\t\tif (data != null) {\n\t\t\tfor (var key4 in data) queryData[key4] = data[key4]\n\t\t\tpath = path.replace(/:([^\\/]+)/g, function(match2, token) {\n\t\t\t\tdelete queryData[token]\n\t\t\t\treturn data[token]\n\t\t\t})\n\t\t}\n\t\tvar query = buildQueryString(queryData)\n\t\tif (query) path += \"?\" + query\n\t\tvar hash = buildQueryString(hashData)\n\t\tif (hash) path += \"#\" + hash\n\t\tif (supportsPushState) {\n\t\t\tvar state = options ? options.state : null\n\t\t\tvar title = options ? options.title : null\n\t\t\t$window.onpopstate()\n\t\t\tif (options && options.replace) $window.history.replaceState(state, title, router.prefix + path)\n\t\t\telse $window.history.pushState(state, title, router.prefix + path)\n\t\t}\n\t\telse $window.location.href = router.prefix + path\n\t}\n\trouter.defineRoutes = function(routes, resolve, reject) {\n\t\tfunction resolveRoute() {\n\t\t\tvar path = router.getPath()\n\t\t\tvar params = {}\n\t\t\tvar pathname = parsePath(path, params, params)\n\t\t\tvar state = $window.history.state\n\t\t\tif (state != null) {\n\t\t\t\tfor (var k in state) params[k] = state[k]\n\t\t\t}\n\t\t\tfor (var route0 in routes) {\n\t\t\t\tvar matcher = new RegExp(\"^\" + route0.replace(/:[^\\/]+?\\.{3}/g, \"(.*?)\").replace(/:[^\\/]+/g, \"([^\\\\/]+)\") + \"\\/?$\")\n\t\t\t\tif (matcher.test(pathname)) {\n\t\t\t\t\tpathname.replace(matcher, function() {\n\t\t\t\t\t\tvar keys = route0.match(/:[^\\/]+/g) || []\n\t\t\t\t\t\tvar values = [].slice.call(arguments, 1, -2)\n\t\t\t\t\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\t\t\t\t\tparams[keys[i].replace(/:|\\./g, \"\")] = decodeURIComponent(values[i])\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresolve(routes[route0], params, path, route0)\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t}\n\t\t\treject(path, params)\n\t\t}\n\t\tif (supportsPushState) $window.onpopstate = debounceAsync(resolveRoute)\n\t\telse if (router.prefix.charAt(0) === \"#\") $window.onhashchange = resolveRoute\n\t\tresolveRoute()\n\t}\n\treturn router\n}\nvar _20 = function($window, redrawService0) {\n\tvar routeService = coreRouter($window)\n\tvar identity = function(v) {return v}\n\tvar render1, component, attrs3, currentPath, lastUpdate\n\tvar route = function(root, defaultRoute, routes) {\n\t\tif (root == null) throw new Error(\"Ensure the DOM element that was passed to `m.route` is not undefined\")\n\t\tvar run1 = function() {\n\t\t\tif (render1 != null) redrawService0.render(root, render1(Vnode(component, attrs3.key, attrs3)))\n\t\t}\n\t\tvar bail = function(path) {\n\t\t\tif (path !== defaultRoute) routeService.setPath(defaultRoute, null, {replace: true})\n\t\t\telse throw new Error(\"Could not resolve default route \" + defaultRoute)\n\t\t}\n\t\trouteService.defineRoutes(routes, function(payload, params, path) {\n\t\t\tvar update = lastUpdate = function(routeResolver, comp) {\n\t\t\t\tif (update !== lastUpdate) return\n\t\t\t\tcomponent = comp != null && (typeof comp.view === \"function\" || typeof comp === \"function\")? comp : \"div\"\n\t\t\t\tattrs3 = params, currentPath = path, lastUpdate = null\n\t\t\t\trender1 = (routeResolver.render || identity).bind(routeResolver)\n\t\t\t\trun1()\n\t\t\t}\n\t\t\tif (payload.view || typeof payload === \"function\") update({}, payload)\n\t\t\telse {\n\t\t\t\tif (payload.onmatch) {\n\t\t\t\t\tPromise.resolve(payload.onmatch(params, path)).then(function(resolved) {\n\t\t\t\t\t\tupdate(payload, resolved)\n\t\t\t\t\t}, bail)\n\t\t\t\t}\n\t\t\t\telse update(payload, \"div\")\n\t\t\t}\n\t\t}, bail)\n\t\tredrawService0.subscribe(root, run1)\n\t}\n\troute.set = function(path, data, options) {\n\t\tif (lastUpdate != null) {\n\t\t\toptions = options || {}\n\t\t\toptions.replace = true\n\t\t}\n\t\tlastUpdate = null\n\t\trouteService.setPath(path, data, options)\n\t}\n\troute.get = function() {return currentPath}\n\troute.prefix = function(prefix0) {routeService.prefix = prefix0}\n\troute.link = function(vnode1) {\n\t\tvnode1.dom.setAttribute(\"href\", routeService.prefix + vnode1.attrs.href)\n\t\tvnode1.dom.onclick = function(e) {\n\t\t\tif (e.ctrlKey || e.metaKey || e.shiftKey || e.which === 2) return\n\t\t\te.preventDefault()\n\t\t\te.redraw = false\n\t\t\tvar href = this.getAttribute(\"href\")\n\t\t\tif (href.indexOf(routeService.prefix) === 0) href = href.slice(routeService.prefix.length)\n\t\t\troute.set(href, undefined, undefined)\n\t\t}\n\t}\n\troute.param = function(key3) {\n\t\tif(typeof attrs3 !== \"undefined\" && typeof key3 !== \"undefined\") return attrs3[key3]\n\t\treturn attrs3\n\t}\n\treturn route\n}\nm.route = _20(window, redrawService)\nm.withAttr = function(attrName, callback1, context) {\n\treturn function(e) {\n\t\tcallback1.call(context || this, attrName in e.currentTarget ? e.currentTarget[attrName] : e.currentTarget.getAttribute(attrName))\n\t}\n}\nvar _28 = coreRenderer(window)\nm.render = _28.render\nm.redraw = redrawService.redraw\nm.request = requestService.request\nm.jsonp = requestService.jsonp\nm.parseQueryString = parseQueryString\nm.buildQueryString = buildQueryString\nm.version = \"1.1.6\"\nm.vnode = Vnode\nif (typeof module !== \"undefined\") module[\"exports\"] = m\nelse window.m = m\n}());","\nexport const classes = {\n  scrollView:    \"mithril-infinite__scroll-view\",\n  scrollViewX:   \"mithril-infinite__scroll-view--x\",\n  scrollViewY:   \"mithril-infinite__scroll-view--y\",\n  scrollContent: \"mithril-infinite__scroll-content\",\n  content:       \"mithril-infinite__content\",\n  pages:         \"mithril-infinite__pages\",\n  page:          \"mithril-infinite__page\",\n  pageEven:      \"mithril-infinite__page--even\",\n  pageOdd:       \"mithril-infinite__page--odd\",\n  placeholder:   \"mithril-infinite__page--placeholder\",\n  before:        \"mithril-infinite__before\",\n  after:         \"mithril-infinite__after\"\n};\n","/*!\r\n * verge 1.10.2+201705300050\r\n * http://npm.im/verge\r\n * MIT Ryan Van Etten\r\n */\r\n\r\n!function(root, name, make) {\n  if (typeof module != 'undefined' && module['exports']) module['exports'] = make();\r\n  else root[name] = make();\r\n}(this, 'verge', function() {\r\n\r\n  var xports = {}\r\n    , win = typeof window != 'undefined' && window\r\n    , doc = typeof document != 'undefined' && document\r\n    , docElem = doc && doc.documentElement\r\n    , matchMedia = win['matchMedia'] || win['msMatchMedia']\r\n    , mq = matchMedia ? function(q) {\r\n        return !!matchMedia.call(win, q).matches;\r\n      } : function() {\r\n        return false;\r\n      }\r\n    , viewportW = xports['viewportW'] = function() {\r\n        var a = docElem['clientWidth'], b = win['innerWidth'];\r\n        return a < b ? b : a;\r\n      }\r\n    , viewportH = xports['viewportH'] = function() {\r\n        var a = docElem['clientHeight'], b = win['innerHeight'];\r\n        return a < b ? b : a;\r\n      };\r\n\n  /**\n   * Test if a media query is active. Like Modernizr.mq\r\n   * @since 1.6.0\r\n   * @return {boolean}\r\n   */\n  xports['mq'] = mq;\r\n\r\n  /**\n   * Normalized matchMedia\r\n   * @since 1.6.0\r\n   * @return {MediaQueryList|Object}\r\n   */\n  xports['matchMedia'] = matchMedia ? function() {\r\n    // matchMedia must be binded to window\r\n    return matchMedia.apply(win, arguments);\r\n  } : function() {\r\n    // Gracefully degrade to plain object\r\n    return {};\r\n  };\r\n\r\n  /**\r\n   * @since 1.8.0\r\n   * @return {{width:number, height:number}}\r\n   */\r\n  function viewport() {\r\n    return {'width':viewportW(), 'height':viewportH()};\r\n  }\r\n  xports['viewport'] = viewport;\r\n\n  /**\n   * Cross-browser window.scrollX\r\n   * @since 1.0.0\r\n   * @return {number}\r\n   */\r\n  xports['scrollX'] = function() {\r\n    return win.pageXOffset || docElem.scrollLeft;\n  };\r\n\r\n  /**\n   * Cross-browser window.scrollY\r\n   * @since 1.0.0\r\n   * @return {number}\r\n   */\r\n  xports['scrollY'] = function() {\r\n    return win.pageYOffset || docElem.scrollTop;\n  };\r\n\r\n  /**\r\n   * @param {{top:number, right:number, bottom:number, left:number}} coords\r\n   * @param {number=} cushion adjustment\r\n   * @return {Object}\r\n   */\r\n  function calibrate(coords, cushion) {\r\n    var o = {};\r\n    cushion = +cushion || 0;\r\n    o['width'] = (o['right'] = coords['right'] + cushion) - (o['left'] = coords['left'] - cushion);\r\n    o['height'] = (o['bottom'] = coords['bottom'] + cushion) - (o['top'] = coords['top'] - cushion);\r\n    return o;\r\n  }\r\n\r\n  /**\r\n   * Cross-browser element.getBoundingClientRect plus optional cushion.\r\n   * Coords are relative to the top-left corner of the viewport.\r\n   * @since 1.0.0\r\n   * @param {Element|Object} el element or stack (uses first item)\r\n   * @param {number=} cushion +/- pixel adjustment amount\r\n   * @return {Object|boolean}\r\n   */\r\n  function rectangle(el, cushion) {\r\n    el = el && !el.nodeType ? el[0] : el;\r\n    if (!el || 1 !== el.nodeType) return false;\r\n    return calibrate(el.getBoundingClientRect(), cushion);\r\n  }\r\n  xports['rectangle'] = rectangle;\r\n\r\n  /**\r\n   * Get the viewport aspect ratio (or the aspect ratio of an object or element)\r\n   * @since 1.7.0\r\n   * @param {(Element|Object)=} o optional object with width/height props or methods\r\n   * @return {number}\r\n   * @link http://w3.org/TR/css3-mediaqueries/#orientation\r\n   */\r\n  function aspect(o) {\r\n    o = null == o ? viewport() : 1 === o.nodeType ? rectangle(o) : o;\r\n    var h = o['height'], w = o['width'];\r\n    h = typeof h == 'function' ? h.call(o) : h;\r\n    w = typeof w == 'function' ? w.call(o) : w;\r\n    return w/h;\r\n  }\r\n  xports['aspect'] = aspect;\r\n\r\n  /**\r\n   * Test if an element is in the same x-axis section as the viewport.\r\n   * @since 1.0.0\r\n   * @param {Element|Object} el\r\n   * @param {number=} cushion\r\n   * @return {boolean}\r\n   */\r\n  xports['inX'] = function(el, cushion) {\r\n    var r = rectangle(el, cushion);\r\n    return !!r && r.right >= 0 && r.left <= viewportW();\r\n  };\r\n\r\n  /**\r\n   * Test if an element is in the same y-axis section as the viewport.\r\n   * @since 1.0.0\r\n   * @param {Element|Object} el\r\n   * @param {number=} cushion\r\n   * @return {boolean}\r\n   */\r\n  xports['inY'] = function(el, cushion) {\r\n    var r = rectangle(el, cushion);\r\n    return !!r && r.bottom >= 0 && r.top <= viewportH();\r\n  };\r\n\r\n  /**\r\n   * Test if an element is in the viewport.\r\n   * @since 1.0.0\r\n   * @param {Element|Object} el\r\n   * @param {number=} cushion\r\n   * @return {boolean}\r\n   */\r\n  xports['inViewport'] = function(el, cushion) {\r\n    // Equiv to `inX(el, cushion) && inY(el, cushion)` but just manually do both\n    // to avoid calling rectangle() twice. It gzips just as small like this.\r\n    var r = rectangle(el, cushion);\r\n    return !!r && r.bottom >= 0 && r.right >= 0 && r.top <= viewportH() && r.left <= viewportW();\r\n  };\r\n\r\n  return xports;\r\n});\n","import verge from \"verge\";\nimport { classes } from \"./classes\";\n\nconst LEEWAY = 300;\n\nexport const getElementSize = (el, axis) => {\n  const styles = window.getComputedStyle(el);\n  if (axis === \"x\") {\n    const margin = parseFloat(styles.marginLeft) + parseFloat(styles.marginRight);\n    return el.scrollWidth + margin;\n  } else {\n    const margin = parseFloat(styles.marginTop) + parseFloat(styles.marginBottom);\n    return el.scrollHeight + margin;\n  }\n};\n\n// el, axis = \"y\", expand = LEEWAY\nexport const isElementInViewport = ({el, axis = \"y\", leeway = LEEWAY}) => {\n  return axis === \"y\"\n    ? verge.inY(el, leeway) || verge.inY(el, -leeway)\n    : axis === \"x\"\n      ? verge.inX(el, leeway) || verge.inX(el, -leeway)\n      : verge.inViewport(el, leeway) || verge.inViewport(el, -leeway);\n};\n\nexport const makeClassName = pageNum => [\n  classes.page,\n  pageNum % 2 === 0 ? classes.pageEven : classes.pageOdd\n].join(\" \");","/* eslint-disable */\n;(function() {\n\"use strict\"\n/* eslint-enable */\n\nvar guid = 0, HALT = {}\nfunction createStream() {\n\tfunction stream() {\n\t\tif (arguments.length > 0 && arguments[0] !== HALT) updateStream(stream, arguments[0])\n\t\treturn stream._state.value\n\t}\n\tinitStream(stream)\n\n\tif (arguments.length > 0 && arguments[0] !== HALT) updateStream(stream, arguments[0])\n\n\treturn stream\n}\nfunction initStream(stream) {\n\tstream.constructor = createStream\n\tstream._state = {id: guid++, value: undefined, state: 0, derive: undefined, recover: undefined, deps: {}, parents: [], endStream: undefined, unregister: undefined}\n\tstream.map = stream[\"fantasy-land/map\"] = map, stream[\"fantasy-land/ap\"] = ap, stream[\"fantasy-land/of\"] = createStream\n\tstream.valueOf = valueOf, stream.toJSON = toJSON, stream.toString = valueOf\n\n\tObject.defineProperties(stream, {\n\t\tend: {get: function() {\n\t\t\tif (!stream._state.endStream) {\n\t\t\t\tvar endStream = createStream()\n\t\t\t\tendStream.map(function(value) {\n\t\t\t\t\tif (value === true) {\n\t\t\t\t\t\tunregisterStream(stream)\n\t\t\t\t\t\tendStream._state.unregister = function(){unregisterStream(endStream)}\n\t\t\t\t\t}\n\t\t\t\t\treturn value\n\t\t\t\t})\n\t\t\t\tstream._state.endStream = endStream\n\t\t\t}\n\t\t\treturn stream._state.endStream\n\t\t}}\n\t})\n}\nfunction updateStream(stream, value) {\n\tupdateState(stream, value)\n\tfor (var id in stream._state.deps) updateDependency(stream._state.deps[id], false)\n\tif (stream._state.unregister != null) stream._state.unregister()\n\tfinalize(stream)\n}\nfunction updateState(stream, value) {\n\tstream._state.value = value\n\tstream._state.changed = true\n\tif (stream._state.state !== 2) stream._state.state = 1\n}\nfunction updateDependency(stream, mustSync) {\n\tvar state = stream._state, parents = state.parents\n\tif (parents.length > 0 && parents.every(active) && (mustSync || parents.some(changed))) {\n\t\tvar value = stream._state.derive()\n\t\tif (value === HALT) return false\n\t\tupdateState(stream, value)\n\t}\n}\nfunction finalize(stream) {\n\tstream._state.changed = false\n\tfor (var id in stream._state.deps) stream._state.deps[id]._state.changed = false\n}\n\nfunction combine(fn, streams) {\n\tif (!streams.every(valid)) throw new Error(\"Ensure that each item passed to stream.combine/stream.merge is a stream\")\n\treturn initDependency(createStream(), streams, function() {\n\t\treturn fn.apply(this, streams.concat([streams.filter(changed)]))\n\t})\n}\n\nfunction initDependency(dep, streams, derive) {\n\tvar state = dep._state\n\tstate.derive = derive\n\tstate.parents = streams.filter(notEnded)\n\n\tregisterDependency(dep, state.parents)\n\tupdateDependency(dep, true)\n\n\treturn dep\n}\nfunction registerDependency(stream, parents) {\n\tfor (var i = 0; i < parents.length; i++) {\n\t\tparents[i]._state.deps[stream._state.id] = stream\n\t\tregisterDependency(stream, parents[i]._state.parents)\n\t}\n}\nfunction unregisterStream(stream) {\n\tfor (var i = 0; i < stream._state.parents.length; i++) {\n\t\tvar parent = stream._state.parents[i]\n\t\tdelete parent._state.deps[stream._state.id]\n\t}\n\tfor (var id in stream._state.deps) {\n\t\tvar dependent = stream._state.deps[id]\n\t\tvar index = dependent._state.parents.indexOf(stream)\n\t\tif (index > -1) dependent._state.parents.splice(index, 1)\n\t}\n\tstream._state.state = 2 //ended\n\tstream._state.deps = {}\n}\n\nfunction map(fn) {return combine(function(stream) {return fn(stream())}, [this])}\nfunction ap(stream) {return combine(function(s1, s2) {return s1()(s2())}, [stream, this])}\nfunction valueOf() {return this._state.value}\nfunction toJSON() {return this._state.value != null && typeof this._state.value.toJSON === \"function\" ? this._state.value.toJSON() : this._state.value}\n\nfunction valid(stream) {return stream._state }\nfunction active(stream) {return stream._state.state === 1}\nfunction changed(stream) {return stream._state.changed}\nfunction notEnded(stream) {return stream._state.state !== 2}\n\nfunction merge(streams) {\n\treturn combine(function() {\n\t\treturn streams.map(function(s) {return s()})\n\t}, streams)\n}\n\nfunction scan(reducer, seed, stream) {\n\tvar newStream = combine(function (s) {\n\t\treturn seed = reducer(seed, s._state.value)\n\t}, [stream])\n\n\tif (newStream._state.state === 0) newStream(seed)\n\n\treturn newStream\n}\n\nfunction scanMerge(tuples, seed) {\n\tvar streams = tuples.map(function(tuple) {\n\t\tvar stream = tuple[0]\n\t\tif (stream._state.state === 0) stream(undefined)\n\t\treturn stream\n\t})\n\n\tvar newStream = combine(function() {\n\t\tvar changed = arguments[arguments.length - 1]\n\n\t\tstreams.forEach(function(stream, idx) {\n\t\t\tif (changed.indexOf(stream) > -1) {\n\t\t\t\tseed = tuples[idx][1](seed, stream._state.value)\n\t\t\t}\n\t\t})\n\n\t\treturn seed\n\t}, streams)\n\n\treturn newStream\n}\n\ncreateStream[\"fantasy-land/of\"] = createStream\ncreateStream.merge = merge\ncreateStream.combine = combine\ncreateStream.scan = scan\ncreateStream.scanMerge = scanMerge\ncreateStream.HALT = HALT\n\nif (typeof module !== \"undefined\") module[\"exports\"] = createStream\nelse if (typeof window.m === \"function\" && !(\"stream\" in window.m)) window.m.stream = createStream\nelse window.m = {stream : createStream}\n\n}());\n","import m from \"mithril\";\nimport stream from \"mithril/stream\";\nimport ResizeObserver from \"resize-observer-polyfill\";\nimport { getElementSize, makeClassName } from \"./util\";\n\nconst getPageData = url =>\n  m.request({\n    method: \"GET\",\n    url\n  });\n\nconst oninit = ({ state, attrs }) => {\n  const pageNum = attrs.pageNum;\n  let content = stream([]);\n\n  if (attrs.pageData) {\n    const result = attrs.pageData(pageNum);\n    Promise.resolve(result).then(content).then(m.redraw);\n  } else if (attrs.pageUrl) {\n    const url = attrs.pageUrl(pageNum);\n    getPageData(url).then(content);\n  }\n\n  const processPageData = attrs.processPageData || ((content, attrs1) =>\n    content && content.length\n      ? content.map((data, index) => attrs.item(data, attrs1, index))\n      : null\n  );\n\n  state.content = content;\n  // Memoize some properties that do not change\n  state.className = makeClassName(pageNum);\n  state.pageTag = attrs.pageTag || \"div\";\n  state.processPageData = processPageData;\n};\n\nconst view = ({state, attrs}) => {\n  const pageId = attrs.pageId;\n  const storedPageSize = attrs.pageSizes[pageId] || 0;\n  let pageSize = 0;\n\n  // attrs/pageSize overrides all measurements on elements here\n  if (attrs.pageSize) {\n    pageSize = attrs.pageSize(state.content());\n    attrs.updatePageSize(pageId, pageSize);\n  }\n\n  const cssSize = pageSize\n    ? pageSize + \"px\"\n    : !attrs.autoSize || (attrs.isScrolling && storedPageSize)\n      ? storedPageSize + \"px\"\n      : \"auto\";\n\n  const update = dom => {\n    if (pageSize) return;\n    const size = getElementSize(dom, attrs.axis);\n    if (size) {\n      attrs.updatePageSize(pageId, size);\n    }\n  };\n\n  return m(state.pageTag, {\n    \"data-page\": pageId,\n    class: state.className,\n    style: storedPageSize\n      ? attrs.axis === \"x\"\n        ? { width: cssSize }\n        : { height: cssSize }\n      : null,\n    oncreate: ({ dom }) => {\n      const ro = new ResizeObserver(entries => {\n        for (const entry of entries) {\n          const { width, height } = entry.contentRect;\n          if (\n            (attrs.axis === \"x\" && width !== storedPageSize)\n            || (attrs.axis === \"y\" && height !== storedPageSize)\n          ) {\n            update(dom);\n          }\n        }\n      });\n      ro.observe(dom);\n      // update(dom);\n    },\n    onupdate: ({ dom }) => update(dom)\n  }, state.processPageData(state.content(), {\n    isScrolling: attrs.isScrolling,\n    pageId: attrs.pageId,\n    pageNum: attrs.pageNum\n  }));\n};\n\nexport const page = {\n  oninit,\n  view\n};\n","import m from \"mithril\";\nimport { makeClassName } from \"./util\";\nimport { classes } from \"./classes\";\n\nexport const placeholder = {\n  oninit: vnode =>\n    // Memoize some properties that do not change\n    vnode.state.className = makeClassName(vnode.attrs.pageNum),\n  view: ({state, attrs}) => {\n    const pageId = attrs.pageId;\n    const storedPageSize = attrs.pageSizes[pageId] || 0;\n    return m(\"div\", {\n      \"data-page\": pageId,\n      class: [\n        classes.placeholder,\n        state.className\n      ].join(\" \"),\n      style: Object.assign(\n        {},\n        attrs.axis === \"x\"\n          ? { width:  storedPageSize + \"px\" }\n          : { height: storedPageSize + \"px\" }\n      )\n    });\n  }\n};\n","import J2c from \"j2c\";\nconst j2c = new J2c();\n\n/*\n * @param id: identifier, used as HTMLElement id for the attached <style></style> element\n * @param styles: list of lists style Objects\n */\nexport const addStyle = (id, ...styles) => {\n  removeStyle(id);\n  const styleEl = document.createElement(\"style\");\n  if (id) {\n    styleEl.setAttribute(\"id\", id);\n  }\n  styles.forEach((styleList) => {\n    // each style returns a list\n    if (Object.keys(styleList).length) {\n      styleList.forEach((style) => {\n        const scoped = { \"@global\": style };\n        const sheet = j2c.sheet(scoped);\n        styleEl.appendChild(document.createTextNode(sheet));\n      });\n    }\n  });\n  document.head.appendChild(styleEl);\n};\n\nconst removeStyle = id => {\n  if (id) {\n    const old = document.getElementById(id);\n    if (old) {\n      old.parentNode.removeChild(old);\n    }\n  }\n};","import { addStyle } from \"./styler\";\nimport { classes } from \"./classes\";\n\nconst styles = [{\n  [\".\" + classes.scrollView]: {\n    \"-webkit-overflow-scrolling\": \"touch\",\n    height: \"100%\",\n\n    [\"&.\" + classes.scrollViewY]: {\n      overflowX: \"hidden\",\n      overflowY: \"auto\",\n      height: \"100%\",\n\n      [\" .\" + classes.scrollContent]: {\n        height: \"100%\"\n      }\n    },\n\n    [\"&.\" + classes.scrollViewX]: {\n      overflowX: \"auto\",\n      overflowY: \"hidden\",\n      width: \"100%\",\n\n      [\" .\" + classes.scrollContent]: {\n        width: \"100%\"\n      }\n    }\n  }\n  // by default unstyled:\n  // mithril-infinite__content\n  // mithril-infinite__pages\n  // mithril-infinite__page\n}];\n\naddStyle(\"mithril-infinite\", styles);\n","import m from \"mithril\";\nimport { classes } from \"./classes\";\nimport { getElementSize, isElementInViewport } from \"./util\";\nimport { page } from \"./page\";\nimport { placeholder } from \"./placeholder\";\nimport \"./css\";\n\nconst SCROLLING_UPDATE_DELAY = 200;\nconst WATCH_IS_SCROLLING_DELAY = 60;\nconst SEL_PADDING = \"000000\";\n\nconst numToId = pageNum =>\n  SEL_PADDING.substring(0, SEL_PADDING.length - (\"\" + pageNum).length) + pageNum;\n\nconst calculateCurrentPageNum = (scrollAmount, state) => {\n  const pageNumKeys = state.sortedKeys;\n  if (pageNumKeys.length === 0) {\n    return 1;\n  }\n  let acc = state.beforeSize || 0;\n  let currentPageNum = 1;\n  for (let i = 0; i < pageNumKeys.length; i = i + 1) {\n    let pageKey = pageNumKeys[i];\n    if (scrollAmount > acc) {\n      currentPageNum = parseInt(pageKey, 10);\n    }\n    acc += state.pageSizes[pageKey];\n  }\n  return currentPageNum;\n};\n\nconst calculateContentSize = (from, to, state) => {\n  const fromIndex = Math.max(0, from - 1);\n  if (to < fromIndex) {\n    return 0;\n  }\n  const toIndex = to;\n  const pageNumKeys = state.sortedKeys.slice(fromIndex, toIndex);\n  let size = state.beforeSize || 0;\n  size = pageNumKeys.reduce((total, pageKey) => (\n    total += state.pageSizes[pageKey] || 0\n  ), size);\n  size += state.afterSize || 0;\n  return size;\n};\n\nconst isPageInViewport = (page, axis, state, scrollView) => {\n  if (!scrollView) {\n    return false;\n  }\n  const id = numToId(page);\n  const el = scrollView.querySelector(`[data-page=\"${id}\"]`);\n  return isElementInViewport({ el, axis });\n};\n\nconst updatePageSize = state => (pageId, size) => (\n  state.pageSizes[pageId] = parseInt(size, 10),\n  state.sortedKeys = Object.keys(state.pageSizes).sort(),\n  calculatePreloadSlots(state)\n);\n\nconst updatePart = (dom, whichSize, state, axis) => {\n  const size = getElementSize(dom, axis);\n  if (size) {\n    state[whichSize] = size;\n  }\n};\n\nconst calculatePreloadSlots = state => {\n  if (!state.scrollView) return;\n  const boundingClientRect = state.scrollView.getBoundingClientRect();\n  state.boundingClientRect = state.boundingClientRect || boundingClientRect;\n  if (boundingClientRect.width !== state.boundingClientRect.width\n    || boundingClientRect.height !== state.boundingClientRect.height\n  ) {\n    state.preloadSlots = state.attrsPreloadSlots || 1;\n  }\n  state.boundingClientRect = boundingClientRect;\n\n  // calculate if we have room on the screen to show more slots\n  if (state.contentSize\n    && (state.preloadSlots < state.pageCount)\n    && (state.preloadSlots <= state.attrsMaxPreloadSlots)\n    && (state.contentSize < boundingClientRect.height)\n  ) {\n    state.preloadSlots++;\n    setTimeout(m.redraw, 0);\n  }\n};\n\nconst getPageList = (currentPageNum, fromPage, toPage, currentPage, preloadSlots, maxPages) => {\n  const minPageNum = fromPage\n    ? parseInt(fromPage, 10)\n    : currentPage\n      ? currentPage\n      : 1;\n  const maxPageNum = toPage\n    ? parseInt(toPage, 10)\n    : currentPage\n      ? currentPage\n      : maxPages;\n  const pages = [];\n  const prePages = [];\n  for (let i = -preloadSlots; i <= preloadSlots; i = i + 1) {\n    const pageNum = currentPageNum + i;\n    if (pageNum >= minPageNum && pageNum <= maxPageNum) {\n      pages.push(pageNum);\n    }\n  }\n  for (let pageNum = 1; pageNum < pages[0]; pageNum = pageNum + 1) {\n    prePages.push(pageNum);\n  }\n  return {pages, prePages, maxPageNum};\n};\n\nconst oninit = vnode => {\n  const attrs = vnode.attrs;\n  // Memoize some properties that do not change\n  const axis = attrs.axis || \"y\";\n  const whichScroll = axis === \"x\" ? \"scrollLeft\" : \"scrollTop\";\n  const autoSize = (attrs.autoSize !== undefined && attrs.autoSize === false) ? false : true;\n  const pageSize = attrs.pageSize;\n  const scrollThrottle = attrs.throttle !== undefined ? attrs.throttle * 1000 : SCROLLING_UPDATE_DELAY;\n  const contentTag = attrs.contentTag || \"div\";\n  const classList = [\n    classes.scrollView,\n    axis === \"x\"\n      ? classes.scrollViewX\n      : classes.scrollViewY,\n    attrs.class\n  ].join(\" \");\n\n  const scroll = () => {\n    const state = vnode.state;\n    state.isScrolling = true;\n    // throttle updates while scrolling\n    if (!state.scrollWatchUpdateStateId) {\n      state.scrollWatchUpdateStateId = setTimeout(() => {\n        // update pages\n        m.redraw();\n        state.scrollWatchUpdateStateId = null;\n        state.isScrolling = false;\n        setTimeout(() => {\n          if (state.isScrolling === false) {\n            m.redraw();\n          }\n        }, WATCH_IS_SCROLLING_DELAY);\n      }, state.scrollThrottle);\n    }\n  };\n\n  vnode.state = {\n    afterSize: null,\n    beforeSize: null,\n    boundingClientRect: {},\n    currentPageNum: 0,\n    isScrolling: false,\n    pageSizes: {},\n    preloadSlots: attrs.preloadPages || 1,\n    scrollView: null,\n    scrollWatchUpdateStateId: null,\n    sortedKeys: [],\n\n    // Memoized\n    attrsMaxPreloadSlots: attrs.maxPreloadPages || Number.MAX_VALUE,\n    attrsPreloadSlots: attrs.preloadPages || 1,\n    autoSize,\n    axis,\n    classList,\n    contentTag,\n    pageSize,\n    scroll,\n    scrollThrottle,\n    whichScroll,\n  };\n};\n\nconst view = ({ state, attrs }) => {\n  const scrollAmount = state.scrollView ? state.scrollView[state.whichScroll] : 0;\n  const axis = state.axis;\n  const maxPages = attrs.maxPages !== undefined ? attrs.maxPages : Number.MAX_VALUE;\n  \n  const currentPageNum = attrs.currentPage\n    ? parseInt(attrs.currentPage, 10)\n    : calculateCurrentPageNum(scrollAmount, state);\n\n  if (attrs.pageChange && currentPageNum !== state.currentPageNum) {\n    attrs.pageChange(currentPageNum);\n  }\n  state.currentPageNum = currentPageNum;\n\n  if (state.scrollView && attrs.getDimensions) {\n    attrs.getDimensions({\n      scrolled: scrollAmount,\n      size: state.contentSize\n    });\n  }\n\n  const { pages, prePages, maxPageNum } = getPageList(currentPageNum, attrs.from, attrs.to, attrs.currentPage, state.preloadSlots, maxPages);\n  state.contentSize = calculateContentSize(1, maxPageNum, state);\n  state.pageCount = pages.length;\n\n  const isLastPageVisible = maxPageNum\n    ? isPageInViewport(maxPageNum, axis, state, state.scrollView)\n    : true;\n\n  return m(\"div\",\n    {\n      oncreate: ({ dom }) => {\n        state.scrollView = attrs.scrollView\n          ? document.querySelector(attrs.scrollView)\n          : dom;\n        state.scrollView.className += \" \" + state.classList;\n\n        if (attrs.setDimensions) {\n          const dimensions = attrs.setDimensions();\n          if (dimensions.size > 0) {\n            const whichSize = axis === \"x\"\n              ? \"width\"\n              : \"height\";\n            dom.style[whichSize] = dimensions.size + \"px\";\n          }\n          state.scrollView[state.whichScroll] = dimensions.scrolled;\n        }\n        state.scrollView.addEventListener(\"scroll\", state.scroll);\n      },\n      onremove: () => state.scrollView.removeEventListener(\"scroll\", state.scroll)\n    },\n    m(\"div\",\n      {\n        class: classes.scrollContent,\n        style: !state.autoSize\n          ? null\n          : Object.assign(\n            {},\n            axis === \"x\"\n              ? { width: state.contentSize + \"px\" }\n              : { height: state.contentSize + \"px\" },\n            attrs.contentSize\n              ? axis === \"x\"\n                ? { \"min-width\": attrs.contentSize + \"px\" }\n                : { \"min-height\": attrs.contentSize + \"px\" }\n              : {}\n          )\n      },\n      [\n        m(state.contentTag, { class: classes.content }, [\n          attrs.before\n            ? m(\"div\", {\n              class: classes.before,\n              oncreate: ({ dom }) => updatePart(dom, \"before\", state, axis),\n              onupdate: ({ dom }) => updatePart(dom, \"before\", state, axis)\n            }, attrs.before)\n            : null,\n          m(\"div\", { class: classes.pages }, [\n            prePages.map(pageNum => \n              m(placeholder, {\n                axis,\n                key: numToId(pageNum),\n                pageId: numToId(pageNum),\n                pageNum,\n                pageSizes: state.pageSizes\n              })\n            ),\n            pages.map(pageNum =>\n              m(page, {\n                autoSize: state.autoSize,\n                axis,\n                isScrolling: state.isScrolling,\n                item: attrs.item,\n                key: numToId(pageNum),\n                pageData: attrs.pageData,\n                pageId: numToId(pageNum),\n                pageNum,\n                pageSize: state.pageSize,\n                pageSizes: state.pageSizes,\n                pageTag: attrs.pageTag,\n                pageUrl: attrs.pageUrl,\n                updatePageSize: updatePageSize(state)\n              })\n            )\n          ]),\n          // only show \"after\" when content is available\n          attrs.after && state.contentSize\n            ? m(\"div\", {\n              class: classes.after,\n              style: {\n                // visually hide this element until the last page is into view\n                // to prevent flashes of after content when scrolling fast\n                visibility: isLastPageVisible ? \"visible\" : \"hidden\"\n              },\n              oncreate: ({ dom }) => updatePart(dom, \"after\", state, axis),\n              onupdate: ({ dom }) => updatePart(dom, \"after\", state, axis),\n            }, attrs.after)\n            : null\n        ])\n      ]\n    )\n  );\n};\n\nexport const infinite = {\n  oninit,\n  view,\n  isElementInViewport\n};\n\n"],"names":["toFloat","value","parseFloat","getBordersSize","styles","positions","len","arguments","length","reduce","size","position","getHTMLElementContentRect","target","clientWidth","clientHeight","emptyRect","getWindowOf","getComputedStyle","paddings","i","list","getPaddings","horizPad","left","right","vertPad","top","bottom","width","height","boxSizing","Math","round","document","documentElement","isDocumentElement","vertScrollbar","horizScrollbar","abs","createRectInit","getContentRect","isBrowser","isSVGGraphicsElement","bbox","getBBox","getSVGContentRect","x","y","defaults","source","k","own","call","indexOf","cartesian","a","b","j","res","push","splitSelector","selector","o","indices","inParen","selectorTokenizer","exec","index","unshift","slice","ampersand","parents","split","ampersandTokenizer","join","flatIter","f","iter","arg","type","ARRAY","decamelize","match","toLowerCase","declarations","state","emit","prefix","local","v","kk","valueOf","OBJECT","test","replace","map","localizeReplacer","decl","atRules","nestingDepth","$atHandlers","err","JSON","stringify","adoptee","asString","localize","names","atrule","_atrule","rules","tree","inDeclaration","rule","STRING","closeSelectors","next","inline","lastSelector","init","raw","_rule","done","kind","param","takesBlock","global","kv","at","params","block","_at","bind","apply","concat","toString","Vnode","tag","key","attrs0","children","text","dom","attrs","domSize","undefined","_state","events","instance","skip","isEmpty","object","hasOwn","hyperscript","start","view","Error","cached","selectorCache","classes","selectorParser","id","attrValue","className","compileSelector","Array","isArray","normalized","normalizeChildren","childList","hasAttrs","class","newAttrs","execSelector","normalize","node","hasOwnProperty","trust","html","fragment","attrs1","m","PromisePolyfill","executor","handler","shouldAbsorb","execute","then","console","error","resolvers","rejectors","retry","self","TypeError","e","executeOnce","run","fn","runs","onerror","rejectCurrent","resolveCurrent","this","_instance","callAsync","setImmediate","setTimeout","prototype","onFulfilled","onRejection","handle","callback","rejectNext","resolveNext","promise","resolve","reject","catch","all","total","count","values","consume","_typeof","race","window","Promise","buildQueryString","destructure","key0","Object","args","encodeURIComponent","FILE_PROTOCOL_REGEX","RegExp","requestService","$window","finalizer","complete","oncompletion","finalize","promise0","then0","extra","url","interpolate","data","tokens","assemble","querystring","deserialize","parse","extract","xhr","responseText","cast","type0","callbackCount","request","method","toUpperCase","useBody","serialize","FormData","XMLHttpRequest","aborted","_abort","abort","open","async","user","password","headers","setRequestHeader","withCredentials","config","onreadystatechange","readyState","response","status","send","background","jsonp","callbackName","random","script","createElement","parentNode","removeChild","callbackKey","src","appendChild","setCompletionCallback","_8","coreRenderer","getNameSpace","vnode","xmlns","nameSpace","createNodes","parent","vnodes","end","hooks","nextSibling","ns","createNode","element","$emptyFragment","createComponent","initLifecycle","$doc","createTextNode","createText","createHTML","createDocumentFragment","firstChild","childNodes","createFragment","attrs2","is","createElementNS","key2","contenteditable","textContent","setAttr","selectedIndex","parent1","caption","thead","tbody","tfoot","tr","th","td","colgroup","col","temp","innerHTML","child","initComponent","sentinel","create","$$reentrantLock$$","updateNodes","old","recycling","removeNodes","isUnkeyed","getNextSibling","updateNode","pool","oldChildrenLength","poolChildrenLength","vnodesChildrenLength","isRecyclable","oldStart","oldEnd","shouldRecycle","insertNode","toFragment","getKeyMap","oldIndex","movable","oldTag","forceVnodeUpdate","forceComponentUpdate","onbeforeupdate","shouldNotUpdate","updateLifecycle","nodeValue","isLifecycleMethod","removeAttribute","updateEvent","updateComponent","count0","insertBefore","setContentEditable","content","context","removeNode","continuation","called","expected","oncreate","onupdate","onbeforeremove","onremove","hasIntegrationMethods","result","removeNodeFromDOM","attr","activeElement","isFormAttribute","nsLastIndex","substr","setAttributeNS","style","cssText","updateStyle","isAttribute","isCustomElement","normalized0","setAttribute","onevent","eventName","removeEventListener","addEventListener","oninit","render","active","namespace","namespaceURI","focus","setEventCallback","redrawService","unsubscribe","key1","callbacks","splice","redraw","renderService","subscribe","last","pending","timeout","requestAnimationFrame","now","Date","throttle","_11","mount","redrawService0","root","component","_16","parseQueryString","string","charAt","entries","data0","counters","entry","key5","decodeURIComponent","levels","cursor","pop","level","nextLevel","isNumber","isNaN","parseInt","isValue","coreRouter","normalize1","fragment0","location","parsePath","path","queryData","hashData","queryIndex","hashIndex","pathEnd","queryEnd","queryParams","key4","hashParams","asyncId","supportsPushState","history","pushState","callAsync0","router","getPath","setPath","options","match2","token","query","hash","title","onpopstate","replaceState","href","defineRoutes","routes","resolveRoute","pathname","route0","matcher","keys","callback0","debounceAsync","onhashchange","route","render1","attrs3","currentPath","lastUpdate","routeService","defaultRoute","run1","bail","payload","update","routeResolver","comp","onmatch","resolved","set","get","prefix0","link","vnode1","onclick","ctrlKey","metaKey","shiftKey","which","preventDefault","getAttribute","key3","_20","withAttr","attrName","callback1","currentTarget","_28","version","name","make","module","viewport","viewportW","viewportH","rectangle","el","cushion","nodeType","coords","calibrate","getBoundingClientRect","xports","win","doc","docElem","matchMedia","mq","q","matches","pageXOffset","scrollLeft","pageYOffset","scrollTop","h","w","r","getElementSize","axis","margin","marginLeft","marginRight","scrollWidth","marginTop","marginBottom","scrollHeight","isElementInViewport","leeway","verge","inY","inX","inViewport","makeClassName","page","pageNum","pageEven","pageOdd","createStream","stream","HALT","updateStream","constructor","guid","derive","recover","deps","endStream","unregister","ap","toJSON","defineProperties","changed","updateState","updateDependency","mustSync","every","some","combine","streams","valid","dep","filter","notEnded","initDependency","registerDependency","unregisterStream","dependent","s1","s2","merge","s","scan","reducer","seed","newStream","scanMerge","tuples","tuple","forEach","idx","MapShim","getIndex","arr","Map","anonymous","__entries__","prototypeAccessors","configurable","delete","has","clear","ctx","global$1","Function","requestAnimationFrame$1","trailingTimeout","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","delay","resolvePending","leadingCall","trailingCall","timeoutCallback","proxy","timeStamp","lastCallTime","addObserver","observer","connect_","removeObserver","observers","disconnect_","updateObservers_","activeObservers","gatherActive","hasActive","broadcastActive","observe","disconnect","ref","propertyName","getInstance","instance_","defineConfigurable","props","defineProperty","ownerDocument","defaultView","SVGGraphicsElement","SVGElement","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","rect","broadcastRect","ResizeObserverEntry","rectInit","contentRect","Constr","DOMRectReadOnly","createReadOnlyRect","ResizeObserverSPI","controller","callbackCtx","activeObservations_","observations_","callback_","controller_","callbackCtx_","Element","observations","unobserve","clearActive","this$1","observation","WeakMap","ResizeObserver","pageData","pageUrl","processPageData","item","pageTag","pageId","storedPageSize","pageSizes","pageSize","updatePageSize","cssSize","autoSize","isScrolling","placeholder","_extends","emptyArray","emptyObject","FUNCTION","freeze","j2c","_createOrRetrieveStream","_streams","_","$sink","$filters","_localize","suffix","_localizeReplacer","ignore","global$$1","dot","buf","msg","endline","prop","floor","_walkers","_use","plugin","$plugins","$filter","$at","$names","removeStyle","getElementById","styleEl","styleList","scoped","@global","sheet","head","addStyle","scrollView","scrollViewY","scrollContent","scrollViewX","numToId","substring","updatePart","whichSize","calculatePreloadSlots","boundingClientRect","preloadSlots","attrsPreloadSlots","contentSize","pageCount","attrsMaxPreloadSlots","whichScroll","scrollThrottle","contentTag","classList","preloadPages","maxPreloadPages","Number","MAX_VALUE","scrollWatchUpdateStateId","scrollAmount","maxPages","currentPageNum","currentPage","pageNumKeys","sortedKeys","acc","beforeSize","pageKey","calculateCurrentPageNum","pageChange","getDimensions","fromPage","toPage","minPageNum","maxPageNum","pages","prePages","getPageList","from","to","fromIndex","max","toIndex","afterSize","calculateContentSize","isLastPageVisible","querySelector","isPageInViewport","setDimensions","dimensions","scrolled","scroll","min-width","min-height","before","sort","after"],"mappings":"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"}