document.write('<script src="http://'+(location.host||"localhost").split(":")[0]+':35729/livereload.js?snipver=1"></script>'),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("mithril")):"function"==typeof define&&define.amd?define(["mithril"],t):t(e.m)}(this,function(e){"use strict";function t(){G=getComputedStyle(document.documentElement,null),Q=document.createElement("div").style,ee=document.documentElement.appendChild(document.createElement("style")),ne=a,te=l,"zIndex"in Q&&!("z-index"in Q)&&(ne=function(e,t){return a(i(e),t)},te=function(e){return l(i(e))})}function n(){"undefined"!=typeof document&&document.documentElement.removeChild(ee),G=ee=null}function i(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}).replace("-","")}function r(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}function a(e,t){return Q[e]="",Q[e]=t,!!Q[e]}function o(e){return ee.textContent="@media ("+e+"){}",!/^@media(?:\s+not)?\s+all/.test(ee.sheet.cssRules[0].cssText)}function l(e){return e in Q}function s(e){return ee.textContent=e+"{}",!!ee.sheet.cssRules.length}function u(e){if(""!==e.prefix){var t={keyframes:"name",viewport:null,document:'regexp(".")'};for(var n in t){var i=n+" "+(t[n]||"");!s("@"+i)&&s("@"+e.prefix+i)&&(e.hasAtrules=!0,e.atrules["@"+n]="@"+e.prefix+n)}e.hasDppx=o("resolution:1dppx"),e.hasPixelRatio=o(e.prefix+"device-pixel-ratio:1"),e.hasPixelRatioFraction=o(e.prefix+"device-pixel-ratio:1/1"),(e.hasPixelRatio||e.hasPixelRatioFraction)&&(e.properties.resolution=e.prefix+"device-pixel-ratio",e.properties["min-resolution"]=e.prefix+"min-device-pixel-ratio",e.properties["max-resolution"]=e.prefix+"max-device-pixel-ratio",o("min-"+e.prefix+"device-pixel-ratio:1")&&(e.properties["min-resolution"]="min-"+e.prefix+"device-pixel-ratio",e.properties["max-resolution"]="max-"+e.prefix+"device-pixel-ratio"))}}function c(e){if(""!==e.prefix){var t={"linear-gradient":{property:"background-image",params:"red, teal"},calc:{property:"width",params:"1px + 5%"},element:{property:"background-image",params:"#foo"},"cross-fade":{property:"backgroundImage",params:"url(a.png), url(b.png), 50%"}};t["repeating-linear-gradient"]=t["repeating-radial-gradient"]=t["radial-gradient"]=t["linear-gradient"];for(var n in t){var i=t[n],r=i.property,a=n+"("+i.params+")";!ne(r,a)&&ne(r,e.prefix+a)&&e.functions.push(n)}}}function f(e){if(""!==e.prefix){for(var t=0;t<re.length;t++){for(var n,i={},r=re[t].props[0],a=0;n=re[t].values[a];a++)!ne(r,n)&&ne(r,e.prefix+n)&&(e.hasKeywords=!0,i[n]=e.prefix+n);for(a=0;r=re[t].props[a];a++)e.keywords[r]=i}if(e.keywords.display&&e.keywords.display.flexbox&&!ne("display","flex")){e.keywords.display.flex=e.keywords.display.flexbox,e.keywords.display["inline-flex"]=e.keywords.display["inline-flexbox"];for(var o in le)e.properties[o]=le[o],e.keywords[o]=se}else if(e.keywords.display&&e.keywords.display.box&&!ne("display","flex")){e.keywords.display.flex=e.keywords.display.box,e.keywords.display["inline-flex"]=e.keywords.display["inline-box"],e.flexbox2009=!0;for(o in ae)e.properties[o]=e.prefix+ae[o],e.keywords[o]=oe}!ne("color","initial")&&ne("color",e.prefix+"initial")&&(e.initial=e.prefix+"initial")}}function p(e){function t(e){if("-"===e.charAt(0)){var t=e.split("-")[1];n[t]=++n[t]||1}}var n={};if(G&&G.length>0)for(var a=0;a<G.length;a++)t(G[a]);else for(var o in G)t(r(o));var l=0;for(var s in n)l<n[s]&&(l=n[s],e.prefix="-"+s+"-");e.Prefix=i(e.prefix)}function d(e){function t(t){return t.replace(/^::?/,function(t){return t+e.prefix})}var n,i;if(""!==e.prefix){var r={":any-link":":any-link",":read-only":":read-only",":read-write":":read-write","::selection":"::selection",":fullscreen":":fullscreen",":full-screen":":fullscreen","::backdrop":"::backdrop",":placeholder":"::placeholder","::placeholder":"::placeholder",":input-placeholder":"::placeholder","::input-placeholder":"::placeholder"};for(n in r)i=t(n),!s(n)&&s(i)&&(e.hasSelectors=!0,e.selectorList.push(r[n]),e.selectorMap[r[n]]=i)}}function g(){return{atrules:{},hasAtrules:!1,hasDppx:null,hasKeywords:!1,hasPixelRatio:!1,hasPixelRatioFraction:!1,hasSelectors:!1,hasValues:!1,fixAtMediaParams:null,fixAtSupportsParams:null,fixProperty:null,fixSelector:null,fixValue:null,flexbox2009:!1,functions:[],initial:null,keywords:{},placeholder:null,prefix:"",Prefix:"",properties:{},selectorList:[],selectorMap:{},valueProperties:{transition:1,"transition-property":1,"will-change":1}}}function h(e){t(),p(e),d(e),u(e),f(e),c(e),n()}function m(e){for(var t,n=[],i=[],r=0;t=ce.exec(e);)switch(t[0]){case"(":r++;break;case")":r--;break;case",":if(r)break;n.push(t.index)}for(t=n.length;t--;)i.unshift(e.slice(n[t]+1)),e=e.slice(0,n[t]);return i.unshift(e),i}function x(e,t,n){return new RegExp(e+"(?:"+t.join("|")+")"+n)}function v(e,t,n){return new RegExp("\"(?:\\\\[\\S\\s]|[^\"])*\"|'(?:\\\\[\\S\\s]|[^'])*'|\\/\\*[\\S\\s]*?\\*\\/|"+e+"((?:"+t.join("|")+"))"+n,"gi")}function b(e){function t(e,t,n){return t+i+n}function n(t,n,i){return"("+(e.properties[n]||e.fixProperty(n))+":"+e.fixValue(i,n)}var i=e.prefix;e.fixProperty=e.fixProperty||function(t){var n;return e.properties[t]=te(t)||!te(n=i+t)?t:n};var r=x("",e.selectorList,"(?:\\b|$|[^-])"),a=v("",e.selectorList,"(?:\\b|$|[^-])"),o=function(t,n){return null!=n?e.selectorMap[n]:t};e.fixSelector=function(e){return r.test(e)?e.replace(a,o):e};var l=e.functions.indexOf("linear-gradient")>-1,s=/\blinear-gradient\(/,u=/(^|\s|,|\()((?:repeating-)?linear-gradient\()\s*(-?\d*\.?\d*)deg/gi,c=function(e,t,n,i){return t+n+(90-i)+"deg"},f=!!e.functions.length,p=x("(?:^|\\s|,|\\()",e.functions,"\\s*\\("),d=v("(^|\\s|,|\\()",e.functions,"(?=\\s*\\()"),g=/^\s*([-\w]+)/gi,h=function(t,n){return e.properties[n]||e.fixProperty(n)};e.fixValue=function(n,i){var r;return null!=e.initial&&"initial"===n?e.initial:e.hasKeywords&&(r=(e.keywords[i]||ue)[n])?r:(r=n,e.valueProperties.hasOwnProperty(i)&&(r=n.indexOf(",")===-1?n.replace(g,h):m(n).map(function(e){return e.replace(g,h)}).join(",")),f&&p.test(n)&&(l&&s.test(n)&&(r=r.replace(u,c)),r=r.replace(d,t)),r)};var b=/((?:min-|max-)?resolution)\s*:\s*((?:\d*.)?\d+)dppx/g,w=e.hasPixelRatio?function(t,n,i){return e.properties[n]+":"+i}:e.hasPixelRatioFraction?function(t,n,i){return e.properties[n]+":"+Math.round(10*i)+"/10"}:function(e,t,n){return t+":"+Math.round(96*n)+"dpi"};e.fixAtMediaParams=e.hasDppx!==!1?function(e){return e}:function(e){return e.indexOf("reso")!==-1?e.replace(b,w):e};var _=/\(\s*([-\w]+)\s*:\s*((?:"(?:\\[\S\s]|[^"])*"|'(?:\\[\S\s]|[^'])*'|\/\*[\S\s]*?\*\/|\((?:"(?:\\[\S\s]|[^"])*"|'(?:\\[\S\s]|[^'])*'|\/\*[\S\s]*?\*\/|\((?:"(?:\\[\S\s]|[^"])*"|'(?:\\[\S\s]|[^'])*'|\/\*[\S\s]*?\*\/|\((?:"(?:\\[\S\s]|[^"])*"|'(?:\\[\S\s]|[^'])*'|\/\*[\S\s]*?\*\/|\((?:"(?:\\[\S\s]|[^"])*"|'(?:\\[\S\s]|[^'])*'|\/\*[\S\s]*?\*\/|\([^\)]*\)|[^\)])*\)|[^\)])*\)|[^\)])*\)|[^\)])*\)|[^\)])*)/g;e.fixAtSupportsParams=function(e){return e.replace(_,n)}}function w(){ie=g(),"function"==typeof getComputedStyle&&h(ie),b(ie)}function _(e){var t=ie,n=[];return e&&(e.setPrefixDb=function(e){return n.indexOf(e)===-1&&(b(e),n.push(e)),t=e,_}),{$filter:function(e){return{atrule:function(n,i,r,a){e.atrule(t.hasAtrules&&t.atrules[n]||n,i,"@media"===n?t.fixAtMediaParams(r):"@supports"===n?t.fixAtSupportsParams(r):r,a)},decl:function n(i,r){return!i||"string"!=typeof r&&"number"!=typeof r?e.decl(t.properties[i]||t.fixProperty(i),r):(r+="",void("flex-flow"===i&&t.flexbox2009?r.split(" ").forEach(function(e){e.indexOf("wrap")>-1?n("flex-wrap",e):""!==e&&n("flex-direction",e)}):"flex-direction"===i&&t.flexbox2009?(e.decl(t.properties["box-orient"],r.indexOf("column")>-1?"block-axis":"inline-axis"),e.decl(t.properties["box-direction"],r.indexOf("-reverse")>-1?"reverse":"normal")):e.decl(t.properties[i]||t.fixProperty(i),t.fixValue(r,i))))},rule:function(n){e.rule(t.hasSelectors?t.fixSelector(n):n)}}}}}function y(e,t){for(var n in t)ve.call(t,n)&&(!n.indexOf("$")||n in e||(e[n]=t[n]));return e}function S(e,t){var n,i,r=[];for(i in t)if(ve.call(t,i))for(n in e)ve.call(e,n)&&r.push(e[n]+t[i]);return r}function z(e){for(var t,n=[],i=[],r=0;t=we.exec(e);)switch(t[0]){case"(":r++;break;case")":r--;break;case",":if(r)break;n.push(t.index)}for(t=n.length;t--;)i.unshift(e.slice(n[t]+1)),e=e.slice(0,n[t]);return i.unshift(e),i}function k(e,t){for(var n,i,r=[],a=[];i=_e.exec(e);)"&"==i[0]&&r.push(i.index);for(i=r.length;i--;)a.unshift(e.slice(r[i]+1)),e=e.slice(0,r[i]);for(a.unshift(e),1===a.length&&a.unshift(""),n=[a[0]],i=1;i<a.length;i++)n=S(n,S(t,[a[i]]));return n.join(",")}function P(e){return function t(n){if(de.call(n)===ge)for(var i=0;i<n.length;i++)t(n[i]);else e(n)}}function A(e){return"-"+e.toLowerCase()}function $(e,t,n,i,r){var a,o,l;if(null!=i)switch(de.call(i=i.valueOf())){case ge:for(a=0;a<i.length;a++)$(e,t,n,i[a],r);break;case he:n=n&&n+"-";for(a in i)if(ve.call(i,a))if(o=i[a],/\$/.test(a))for(l in a=a.split("$"))ve.call(a,l)&&$(e,t,n+a[l],o,r);else $(e,t,n+a,o,r);break;default:a=n.replace(/_/g,"-").replace(/[A-Z]/g,A),!r||"animation-name"!=a&&"animation"!=a&&"list-style"!=a||(i=i.split(",").map(function(t){return t.replace(/^\s*(?:(var\([^)]+\))|:?global\(\s*([_A-Za-z][-\w]*)\s*\)|()(-?[_A-Za-z][-\w]*))/,e.localizeReplacer)}).join(",")),t.decl(a,i)}}function j(e,t,n,i,r,a,o){for(var l=0;l<e.$atHandlers.length;l++)if(e.$atHandlers[l](e,t,n,i,r,a,o))return;if(!n[3]&&/^global$/.test(n[2]))C(e,t,r,i,0,o);else if(!n[3]&&/^local$/.test(n[2]))C(e,t,r,i,1,o);else if(n[3]&&/^adopt$/.test(n[2])){if(!a||o)return t.err("@adopt global or nested: "+n[0]);if(!/^\.?[_A-Za-z][-\w]*$/.test(n[3]))return t.err("bad adopter "+JSON.stringify(n[3])+" in "+n[0]);l=[],P(function(e,i){null!=e&&/^\.?[_A-Za-z][-\w]*(?:\s+\.?[_A-Za-z][-\w]*)*$/.test(i=e+"")?l.push(i.replace(/\./g,"")):t.err("bad adoptee "+JSON.stringify(e)+" in "+n[0])})(i),l.length&&(e.localize(n[3]=n[3].replace(/\./g,"")),e.names[n[3]]+=" "+l.join(" "))}else!n[3]&&/^(?:namespace|import|charset)$/.test(n[2])?P(function(e){t.atrule(n[1],n[2],e)})(i):!n[3]&&/^(?:font-face|viewport)$/.test(n[2])?P(function(i){t.atrule(n[1],n[2],n[3],1),$(e,t,"",i,a),t._atrule()})(i):n[3]&&/^(?:media|supports|page|keyframes)$/.test(n[2])?(a&&"keyframes"==n[2]&&(n[3]=n[3].replace(/(var\([^)]+\))|:?global\(\s*([_A-Za-z][-\w]*)\s*\)|()(-?[_A-Za-z][-\w]*)/,e.localizeReplacer)),t.atrule(n[1],n[2],n[3],1),"page"==n[2]?$(e,t,"",i,a):C(e,t,"keyframes"==n[2]?"":r,i,a,o+1),t._atrule()):t.err("Unsupported at-rule: "+n[0])}function C(e,t,n,i,r,a){var o,l,s,u;switch(de.call(i)){case he:for(o in i)if(ve.call(i,o))if(l=i[o],n.length>0&&/^[-\w$]+$/.test(o))if(s||(s=1,t.rule(n)),/\$/.test(o))for(u in o=o.split("$"))ve.call(o,u)&&$(e,t,o[u],l,r);else $(e,t,o,l,r);else/^@/.test(o)?(s=0,j(e,t,/^(.(?:-[\w]+-)?([_A-Za-z][-\w]*))\b\s*(.*?)\s*$/.exec(o)||[o,"@","",""],l,n,r,a)):(s=0,C(e,t,n.length>0&&(/,/.test(n)||/,/.test(o))?(u=z(n),z(r?o.replace(/("(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\/)|:global\(\s*(\.-?[_A-Za-z][-\w]*)\s*\)|(\.)(-?[_A-Za-z][-\w]*)/g,e.localizeReplacer):o).map(function(e){return/&/.test(e)?k(e,u):u.map(function(t){return t+e}).join(",")}).join(",")):/&/.test(o)?k(r?o.replace(/("(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\/)|:global\(\s*(\.-?[_A-Za-z][-\w]*)\s*\)|(\.)(-?[_A-Za-z][-\w]*)/g,e.localizeReplacer):o,[n]):n+(r?o.replace(/("(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\/)|:global\(\s*(\.-?[_A-Za-z][-\w]*)\s*\)|(\.)(-?[_A-Za-z][-\w]*)/g,e.localizeReplacer):o),l,r,a+1));break;case ge:for(o=0;o<i.length;o++)C(e,t,n,i[o],r,a);break;case me:n.length||t.err("No selector"),t.rule(n||" "),$(e,t,"",i,r)}}function E(e,t){var n;return t?e:{init:function(){n=0,e.init()},done:function(t){return n&&(e._rule(),n=0),e.done(t)},atrule:function(t,i,r,a){n&&(e._rule(),n=0),e.atrule(t,i,r,a)},_atrule:function(t){n&&(e._rule(),n=0),e._atrule(t)},rule:function(t){t!==n&&(n&&e._rule(),e.rule(t),n=t)}}}function N(e){return":global("+e+")"}function R(e,t,n){return n={},n[e]=t,n}function O(e,t,n){if(arguments.length<3){var i=O.bind.apply(O,[null].concat([].slice.call(arguments,0)));return i.toString=function(){return"@"+e+" "+t},i}return R("@"+e+" "+t,n)}function T(){function e(e){if(!f.length){o.push(function(e,t){return t?{init:a.init,decl:a.decl,done:a.done,err:a.err}:a});for(var t=0;t<2;t++)for(var n=o.length;n--;)f[t]=be(y(o[n](f[t],!!t),f[t]))}return f[e]}function t(e){return s.names[e]||(s.names[e]=e+s.suffix),s.names[e].match(/^\S+/)}function n(e,n,i,r,a){return n||i||r+t(a)}var i,r,a={init:function(){i=[],r=[]},done:function(e){if(0!=r.length)throw new Error("j2c error(s): "+JSON.stringify(r,null,2)+"in context:\n"+i.join(""));return e?i:i.join("")},err:function(e){r.push(e),i.push("/* +++ ERROR +++ "+e+" */\n")},atrule:function(e,t,n,r){i.push(e,n&&" ",n,r?" {":";",s.endline)},_atrule:function(){i.push("}",s.endline)},rule:function(e){i.push(e," {",s.endline)},_rule:function(){i.push("}",s.endline)},decl:function(e,t){i.push(e,e&&":",t,";",s.endline)}},o=[E],l=[],s={at:O,global:N,kv:R,names:{},endline:"\n",suffix:"__j2c-"+Math.floor(4294967296*Math.random()).toString(36)+"-"+Math.floor(4294967296*Math.random()).toString(36)+"-"+Math.floor(4294967296*Math.random()).toString(36)+"-"+Math.floor(4294967296*Math.random()).toString(36),$plugins:[],sheet:function(t){var n=e(0);return n.init(),C(u[0],n,"",t,1,0),n.done()},inline:function(t,n){var i=e(1);return i.init(),$(u[1],i,"",t,!(n&&n.global)),i.done()}},u=[{localizeReplacer:n,localize:t,names:s.names,$atHandlers:l,atrule:j,decl:$,rule:C},{localizeReplacer:n,localize:t,names:s.names,decl:$}],c=P(function(e){~s.$plugins.indexOf(e)||(s.$plugins.push(e),de.call(e)===xe&&(e=e(s)),e&&(P(function(e){o.push(e)})(e.$filter||fe),P(function(e){l.push(e)})(e.$at||fe),y(s.names,e.$names||pe),c(e.$plugins||fe),a=e.$sink||a,y(s,e)))}),f=[];return c(fe.slice.call(arguments)),s}function I(e,t){return t={exports:{}},e(t,t.exports),t.exports}function V(e,t){for(var n in t)Ue.call(t,n)&&(!n.indexOf("$")||n in e||(e[n]=t[n]));return e}function M(e,t){var n,i,r=[];for(i in t)if(Ue.call(t,i))for(n in e)Ue.call(e,n)&&r.push(e[n]+t[i]);return r}function D(e){for(var t,n=[],i=[],r=0;t=We.exec(e);)switch(t[0]){case"(":r++;break;case")":r--;break;case",":if(r)break;n.push(t.index)}for(t=n.length;t--;)i.unshift(e.slice(n[t]+1)),e=e.slice(0,n[t]);return i.unshift(e),i}function Z(e,t){for(var n,i,r=[],a=[];i=Xe.exec(e);)"&"==i[0]&&r.push(i.index);for(i=r.length;i--;)a.unshift(e.slice(r[i]+1)),e=e.slice(0,r[i]);for(a.unshift(e),1===a.length&&a.unshift(""),n=[a[0]],i=1;i<a.length;i++)n=M(n,M(t,[a[i]]));return n.join(",")}function H(e){return function t(n){if(Ve.call(n)===Me)for(var i=0;i<n.length;i++)t(n[i]);else e(n)}}function U(e){return"-"+e.toLowerCase()}function L(e,t,n,i,r){var a,o,l;if(null!=i)switch(Ve.call(i=i.valueOf())){case Me:for(a=0;a<i.length;a++)L(e,t,n,i[a],r);break;case De:n=n&&n+"-";for(a in i)if(Ue.call(i,a))if(o=i[a],/\$/.test(a))for(l in a=a.split("$"))Ue.call(a,l)&&L(e,t,n+a[l],o,r);else L(e,t,n+a,o,r);break;default:a=n.replace(/_/g,"-").replace(/[A-Z]/g,U),!r||"animation-name"!=a&&"animation"!=a&&"list-style"!=a||(i=i.split(",").map(function(t){return t.replace(/^\s*(?:(var\([^)]+\))|:?global\(\s*([_A-Za-z][-\w]*)\s*\)|()(-?[_A-Za-z][-\w]*))/,e.localizeReplacer)}).join(",")),t.decl(a,i)}}function W(e,t,n,i,r,a,o){for(var l=0;l<e.$atHandlers.length;l++)if(e.$atHandlers[l](e,t,n,i,r,a,o))return;if(!n[3]&&/^global$/.test(n[2]))X(e,t,r,i,0,o);else if(!n[3]&&/^local$/.test(n[2]))X(e,t,r,i,1,o);else if(n[3]&&/^adopt$/.test(n[2])){if(!a||o)return t.err("@adopt global or nested: "+n[0]);if(!/^\.?[_A-Za-z][-\w]*$/.test(n[3]))return t.err("bad adopter "+JSON.stringify(n[3])+" in "+n[0]);l=[],H(function(e,i){null!=e&&/^\.?[_A-Za-z][-\w]*(?:\s+\.?[_A-Za-z][-\w]*)*$/.test(i=e+"")?l.push(i.replace(/\./g,"")):t.err("bad adoptee "+JSON.stringify(e)+" in "+n[0])})(i),l.length&&(e.localize(n[3]=n[3].replace(/\./g,"")),e.names[n[3]]+=" "+l.join(" "))}else!n[3]&&/^(?:namespace|import|charset)$/.test(n[2])?H(function(e){t.atrule(n[1],n[2],e)})(i):!n[3]&&/^(?:font-face|viewport)$/.test(n[2])?H(function(i){t.atrule(n[1],n[2],n[3],1),L(e,t,"",i,a),t._atrule()})(i):n[3]&&/^(?:media|supports|page|keyframes)$/.test(n[2])?(a&&"keyframes"==n[2]&&(n[3]=n[3].replace(/(var\([^)]+\))|:?global\(\s*([_A-Za-z][-\w]*)\s*\)|()(-?[_A-Za-z][-\w]*)/,e.localizeReplacer)),t.atrule(n[1],n[2],n[3],1),"page"==n[2]?L(e,t,"",i,a):X(e,t,"keyframes"==n[2]?"":r,i,a,o+1),t._atrule()):t.err("Unsupported at-rule: "+n[0])}function X(e,t,n,i,r,a){var o,l,s,u;switch(Ve.call(i)){case De:for(o in i)if(Ue.call(i,o))if(l=i[o],n.length>0&&/^[-\w$]+$/.test(o))if(s||(s=1,t.rule(n)),/\$/.test(o))for(u in o=o.split("$"))Ue.call(o,u)&&L(e,t,o[u],l,r);else L(e,t,o,l,r);else/^@/.test(o)?(s=0,W(e,t,/^(.(?:-[\w]+-)?([_A-Za-z][-\w]*))\b\s*(.*?)\s*$/.exec(o)||[o,"@","",""],l,n,r,a)):(s=0,X(e,t,n.length>0&&(/,/.test(n)||/,/.test(o))?(u=D(n),D(r?o.replace(/("(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\/)|:global\(\s*(\.-?[_A-Za-z][-\w]*)\s*\)|(\.)(-?[_A-Za-z][-\w]*)/g,e.localizeReplacer):o).map(function(e){return/&/.test(e)?Z(e,u):u.map(function(t){return t+e}).join(",")}).join(",")):/&/.test(o)?Z(r?o.replace(/("(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\/)|:global\(\s*(\.-?[_A-Za-z][-\w]*)\s*\)|(\.)(-?[_A-Za-z][-\w]*)/g,e.localizeReplacer):o,[n]):n+(r?o.replace(/("(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\/)|:global\(\s*(\.-?[_A-Za-z][-\w]*)\s*\)|(\.)(-?[_A-Za-z][-\w]*)/g,e.localizeReplacer):o),l,r,a+1));break;case Me:for(o=0;o<i.length;o++)X(e,t,n,i[o],r,a);break;case Ze:n.length||t.err("No selector"),t.rule(n||" "),L(e,t,"",i,r)}}function F(e,t){var n;return t?e:{init:function(){n=0,e.init()},done:function(t){return n&&(e._rule(),n=0),e.done(t)},atrule:function(t,i,r,a){n&&(e._rule(),n=0),e.atrule(t,i,r,a)},_atrule:function(t){n&&(e._rule(),n=0),e._atrule(t)},rule:function(t){t!==n&&(n&&e._rule(),e.rule(t),n=t)}}}function Y(e){return":global("+e+")"}function J(e,t,n){return n={},n[e]=t,n}function q(e,t,n){if(arguments.length<3){var i=q.bind.apply(q,[null].concat([].slice.call(arguments,0)));return i.toString=function(){return"@"+e+" "+t},i}return J("@"+e+" "+t,n)}function B(){function e(e){if(!f.length){o.push(function(e,t){return t?{init:a.init,decl:a.decl,done:a.done,err:a.err}:a});for(var t=0;t<2;t++)for(var n=o.length;n--;)f[t]=Le(V(o[n](f[t],!!t),f[t]))}return f[e]}function t(e){return s.names[e]||(s.names[e]=e+s.suffix),s.names[e].match(/^\S+/)}function n(e,n,i,r,a){return n||i||r+t(a)}var i,r,a={init:function(){i=[],r=[]},done:function(e){if(0!=r.length)throw new Error("j2c error(s): "+JSON.stringify(r,null,2)+"in context:\n"+i.join(""));return e?i:i.join("")},err:function(e){r.push(e),i.push("/* +++ ERROR +++ "+e+" */\n")},atrule:function(e,t,n,r){i.push(e,n&&" ",n,r?" {":";",s.endline)},_atrule:function(){i.push("}",s.endline)},rule:function(e){i.push(e," {",s.endline)},_rule:function(){i.push("}",s.endline)},decl:function(e,t){i.push(e,e&&":",t,";",s.endline)}},o=[F],l=[],s={at:q,global:Y,kv:J,names:{},endline:"\n",suffix:"__j2c-"+Math.floor(4294967296*Math.random()).toString(36)+"-"+Math.floor(4294967296*Math.random()).toString(36)+"-"+Math.floor(4294967296*Math.random()).toString(36)+"-"+Math.floor(4294967296*Math.random()).toString(36),$plugins:[],sheet:function(t){var n=e(0);return n.init(),X(u[0],n,"",t,1,0),n.done()},inline:function(t,n){var i=e(1);return i.init(),L(u[1],i,"",t,!(n&&n.global)),i.done()}},u=[{localizeReplacer:n,localize:t,names:s.names,$atHandlers:l,atrule:W,decl:L,rule:X},{localizeReplacer:n,localize:t,names:s.names,decl:L}],c=H(function(e){~s.$plugins.indexOf(e)||(s.$plugins.push(e),Ve.call(e)===He&&(e=e(s)),e&&(H(function(e){o.push(e)})(e.$filter||Te),H(function(e){l.push(e)})(e.$at||Te),V(s.names,e.$names||Ie),c(e.$plugins||Te),a=e.$sink||a,V(s,e)))}),f=[];return c(Te.slice.call(arguments)),s}function K(e,t){return t={exports:{}},e(t,t.exports),t.exports}e="default"in e?e.default:e;var G,Q,ee,te,ne,ie,re=[{props:["cursor"],values:["grab","grabbing","zoom-in","zoom-out"]},{props:["display"],values:["box","inline-box","flexbox","inline-flexbox","flex","inline-flex","grid","inline-grid"]},{props:["position"],values:["sticky"]},{props:["width","column-width","height","max-height","max-width","min-height","min-width"],values:["contain-floats","fill-available","fit-content","max-content","min-content"]}],ae={"align-items":"box-align",flex:"box-flex","box-direction":"box-direction","box-orient":"box-orient","flex-wrap":"box-lines","justify-content":"box-pack",order:"box-ordinal-group"},oe={"flex-end":"end","flex-start":"start",nowrap:"single","space-around":"justify","space-between":"justify",wrap:"multiple","wrap-reverse":"multiple"},le={"align-content":"-ms-flex-line-pack","align-items":"-ms-flex-align","align-self":"-ms-flex-item-align","flex-basis":"-ms-preferred-size","flex-grow":"-ms-flex-positive","flex-shrink":"-ms-flex-negative","justify-content":"-ms-flex-pack",order:"-ms-flex-order"},se={"flex-end":"end","flex-start":"start","space-around":"distribute","space-between":"justify"},ue={},ce=/[(),]|\/\*[\s\S]*?\*\//g;w();var fe=[],pe={},de=pe.toString,ge=de.call(fe),he=de.call(pe),me=de.call(""),xe=de.call(de),ve=pe.hasOwnProperty,be=Object.freeze||function(e){return e},we=/[(),]|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g,_e=/&|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g,ye=T,Se=new ye(_),ze=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];ke(e);var r=document.createElement("style");e&&r.setAttribute("id",e),n.forEach(function(e){Object.keys(e).length&&e.forEach(function(e){var t={"@global":e},n=Se.sheet(t);r.appendChild(document.createTextNode(n))})}),document.head.appendChild(r)},ke=function(e){if(e){var t=document.getElementById(e);t&&t.parentNode.removeChild(t)}},Pe={size:320,size_px:"320px",text_color:"#263238"},Ae={imageUrl:"http://arthurclemens.github.io/assets/mithril-infinite-scroll/thumbs/"},$e=16,je="1.0.0",Ce=[{".footer":{width:Pe.size-2*$e+"px",margin:"32px auto 0 auto",textAlign:"left",padding:"24px "+$e+"px",fontSize:"14px",lineHeight:1.3,color:"#90A4AE",opacity:".85"," hr":{height:"1px",border:"none",margin:"1em -"+$e+"px",backgroundColor:"#CFD8DC",opacity:".85"}}}];ze("footer",Ce);var Ee,Ne=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(".footer",[t.home?null:e("a",{href:"/",oncreate:e.route.link},"All examples"),e("hr"),e.trust("mithril-infinite, Infinite Scroll for Mithril on mobile and desktop. This site runs on version "+je+'. Project page on <a href="https://github.com/ArthurClemens/mithril-infinite">Github</a>.')])},Re="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Oe=I(function(e){!function(t,n,i){e.exports?e.exports=i():t[n]=i()}(Re,"verge",function(){function e(){return{width:c(),height:f()}}function t(e,t){var n={};return t=+t||0,n.width=(n.right=e.right+t)-(n.left=e.left-t),n.height=(n.bottom=e.bottom+t)-(n.top=e.top-t),n}function n(e,n){return e=e&&!e.nodeType?e[0]:e,!(!e||1!==e.nodeType)&&t(e.getBoundingClientRect(),n)}function i(t){t=null==t?e():1===t.nodeType?n(t):t;var i=t.height,r=t.width;return i="function"==typeof i?i.call(t):i,r="function"==typeof r?r.call(t):r,r/i}var r={},a="undefined"!=typeof window&&window,o="undefined"!=typeof document&&document,l=o&&o.documentElement,s=a.matchMedia||a.msMatchMedia,u=s?function(e){return!!s.call(a,e).matches}:function(){return!1},c=r.viewportW=function(){var e=l.clientWidth,t=a.innerWidth;return e<t?t:e},f=r.viewportH=function(){var e=l.clientHeight,t=a.innerHeight;return e<t?t:e};return r.mq=u,r.matchMedia=s?function(){return s.apply(a,arguments)}:function(){return{}},r.viewport=e,r.scrollX=function(){return a.pageXOffset||l.scrollLeft},r.scrollY=function(){return a.pageYOffset||l.scrollTop},r.rectangle=n,r.aspect=i,r.inX=function(e,t){var i=n(e,t);return!!i&&i.right>=0&&i.left<=c()},r.inY=function(e,t){var i=n(e,t);return!!i&&i.bottom>=0&&i.top<=f()},r.inViewport=function(e,t){var i=n(e,t);return!!i&&i.bottom>=0&&i.right>=0&&i.top<=f()&&i.left<=c()},r})}),Te=[],Ie={},Ve=Ie.toString,Me=Ve.call(Te),De=Ve.call(Ie),Ze=Ve.call(""),He=Ve.call(Ve),Ue=Ie.hasOwnProperty,Le=Object.freeze||function(e){return e},We=/[(),]|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g,Xe=/&|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g,Fe=B,Ye={scrollView:"mithril-infinite__scroll-view",scrollViewX:"mithril-infinite__scroll-view--x",scrollViewY:"mithril-infinite__scroll-view--y",scrollContent:"mithril-infinite__scroll-content",content:"mithril-infinite__content",pages:"mithril-infinite__pages",page:"mithril-infinite__page",pageEven:"mithril-infinite__page--even",pageOdd:"mithril-infinite__page--odd",placeholder:"mithril-infinite__page--placeholder",before:"mithril-infinite__before",after:"mithril-infinite__after"},Je=300,qe=function(e,t){var n=window.getComputedStyle(e);if("x"===t){var i=parseFloat(n.marginLeft)+parseFloat(n.marginRight);return e.scrollWidth+i}var r=parseFloat(n.marginTop)+parseFloat(n.marginBottom);return e.scrollHeight+r},Be=function(e){var t=e.el,n=e.axis,i=void 0===n?"y":n,r=e.leeway,a=void 0===r?Je:r;return"y"===i?Oe.inY(t,a)||Oe.inY(t,-a):"x"===i?Oe.inX(t,a)||Oe.inX(t,-a):Oe.inViewport(t,a)||Oe.inViewport(t,-a)},Ke=function(e){return[Ye.page,e%2===0?Ye.pageEven:Ye.pageOdd].join(" ")},Ge=K(function(e){function t(){function e(){return arguments.length>0&&arguments[0]!==_&&i(e,arguments[0]),e._state.value}return n(e),arguments.length>0&&arguments[0]!==_&&i(e,arguments[0]),e}function n(e){e.constructor=t,e._state={id:w++,value:void 0,state:0,derive:void 0,recover:void 0,deps:{},parents:[],endStream:void 0},e.map=e["fantasy-land/map"]=f,e["fantasy-land/ap"]=p,e["fantasy-land/of"]=t,e.valueOf=d,e.toJSON=g,e.toString=d,Object.defineProperties(e,{end:{get:function(){if(!e._state.endStream){var n=t();n.map(function(t){return t===!0&&(c(e),c(n)),t}),e._state.endStream=n}return e._state.endStream}}})}function i(e,t){r(e,t);for(var n in e._state.deps)a(e._state.deps[n],!1);o(e)}function r(e,t){e._state.value=t,e._state.changed=!0,2!==e._state.state&&(e._state.state=1)}function a(e,t){var n=e._state,i=n.parents;if(i.length>0&&i.every(m)&&(t||i.some(x))){var a=e._state.derive();if(a===_)return!1;r(e,a)}}function o(e){e._state.changed=!1;for(var t in e._state.deps)e._state.deps[t]._state.changed=!1}function l(e,n){if(!n.every(h))throw new Error("Ensure that each item passed to m.prop.combine/m.prop.merge is a stream");return s(t(),n,function(){return e.apply(this,n.concat([n.filter(x)]))})}function s(e,t,n){var i=e._state;return i.derive=n,i.parents=t.filter(v),u(e,i.parents),a(e,!0),e}function u(e,t){for(var n=0;n<t.length;n++)t[n]._state.deps[e._state.id]=e,u(e,t[n]._state.parents)}function c(e){for(var t=0;t<e._state.parents.length;t++){var n=e._state.parents[t];delete n._state.deps[e._state.id]}for(var i in e._state.deps){var r=e._state.deps[i],a=r._state.parents.indexOf(e);a>-1&&r._state.parents.splice(a,1)}e._state.state=2,e._state.deps={}}function f(e){return l(function(t){return e(t())},[this])}function p(e){return l(function(e,t){return e()(t())},[e,this])}function d(){return this._state.value}function g(){return null!=this._state.value&&"function"==typeof this._state.value.toJSON?this._state.value.toJSON():this._state.value}function h(e){return e._state}function m(e){return 1===e._state.state}function x(e){return e._state.changed}function v(e){return 2!==e._state.state}function b(e){return l(function(){return e.map(function(e){return e()})},e)}var w=0,_={};t["fantasy-land/of"]=t,t.merge=b,t.combine=l,t.HALT=_,e.exports=t}),Qe=Ge,et=function(t){return e.request({method:"GET",url:t})},tt=function(e){var t=e.state,n=e.attrs,i=n.pageNum,r=Qe([]);if(n.pageData){var a=n.pageData(i);a.then?a.then(r):r=a}else if(n.pageUrl){var o=n.pageUrl(i);et(o).then(r)}var l=n.processPageData||function(e,t){return e&&e.length?e.map(function(e,i){return n.item(e,t,i)}):null};t.content=r,t.className=Ke(i),t.pageTag=n.pageTag||"div",t.processPageData=l},nt=function(t){var n=t.state,i=t.attrs,r=i.pageId,a=i.pageSizes[r]||0,o=0;i.pageSize&&(o=i.pageSize(n.content()),i.updatePageSize(r,o));var l=o?o+"px":!i.autoSize||i.isScrolling&&a?a+"px":"auto",s=function(t){if(!o){var n=qe(t,i.axis);n&&i.updatePageSize(r,n),a||setTimeout(e.redraw,0)}};return e(n.pageTag,{"data-page":r,class:n.className,style:a?"x"===i.axis?{width:l}:{height:l}:null,oncreate:function(e){var t=e.dom;return s(t)},onupdate:function(e){var t=e.dom;return s(t)}},n.processPageData(n.content(),{isScrolling:i.isScrolling,pageId:i.pageId,pageNum:i.pageNum}))},it={oninit:tt,view:nt},rt=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},at=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ot={oninit:function(e){return e.state.className=Ke(e.attrs.pageNum)},view:function(t){var n=t.state,i=t.attrs,r=i.pageId,a=i.pageSizes[r]||0;return e("div",{"data-page":r,class:[Ye.placeholder,n.className].join(" "),style:at({},"x"===i.axis?{width:a+"px"}:{height:a+"px"})})}},lt=new Fe,st=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];ut(e);var r=document.createElement("style");e&&r.setAttribute("id",e),n.forEach(function(e){Object.keys(e).length&&e.forEach(function(e){var t={"@global":e},n=lt.sheet(t);r.appendChild(document.createTextNode(n))})}),document.head.appendChild(r)},ut=function(e){if(e){var t=document.getElementById(e);t&&t.parentNode.removeChild(t)}},ct=[rt({},"."+Ye.scrollView,(Ee={"-webkit-overflow-scrolling":"touch",height:"100%"},rt(Ee,"&."+Ye.scrollViewY,rt({overflowX:"hidden",overflowY:"auto",height:"100%"}," ."+Ye.scrollContent,{height:"100%"})),rt(Ee,"&."+Ye.scrollViewX,rt({overflowX:"auto",overflowY:"hidden",width:"100%"}," ."+Ye.scrollContent,{width:"100%"})),Ee))];st("mithril-infinite",ct);var ft=200,pt="000000",dt=function(e){return pt.substring(0,pt.length-(""+e).length)+e},gt=function(e,t){var n=t.sortedKeys;if(0===n.length)return 1;for(var i=t.beforeSize||0,r=1,a=0;a<n.length;a+=1){var o=n[a];e>i&&(r=parseInt(o,10)),i+=t.pageSizes[o]}return r},ht=function(e,t,n){var i=Math.max(0,e-1);if(t<i)return 0;var r=t,a=n.sortedKeys.slice(i,r),o=n.beforeSize||0;return o=a.reduce(function(e,t){return e+=n.pageSizes[t]||0},o),o+=n.afterSize||0},mt=function(e,t,n,i){if(!i)return!1;var r=dt(e),a=i.querySelector('[data-page="'+r+'"]');return Be({el:a,axis:t})},xt=function(e){return function(t,n){return e.pageSizes[t]=n,e.sortedKeys=Object.keys(e.pageSizes).sort()}},vt=function(t,n,i){var r=function(){t.isScrolling=!0,clearTimeout(t.scrollWatchScrollingStateId),t.scrollWatchScrollingStateId=setTimeout(function(){t.isScrolling=!1,e.redraw()},t.scrollThrottle),t.scrollWatchUpdateStateId||(t.scrollWatchUpdateStateId=setTimeout(function(){e.redraw(),t.scrollWatchUpdateStateId=null},t.scrollThrottle))};"add"===i?n.addEventListener("scroll",r):n.removeEventListener("scroll",r)},bt=function(e,t,n,i){var r=qe(e,i);r&&(n[t]=r)},wt=function(e,t,n,i,r,a){for(var o=t?parseInt(t,10):i?i:1,l=n?parseInt(n,10):i?i:a,s=[],u=[],c=-r;c<=r;c+=1){var f=e+c;f>=o&&f<=l&&s.push(f)}for(var p=1;p<s[0];p+=1)u.push(p);return{pages:s,prePages:u,maxPageNum:l}},_t=function(e){var t=e.attrs,n=t.axis||"y",i="x"===n?"scrollLeft":"scrollTop",r=void 0===t.autoSize||t.autoSize!==!1,a=t.pageSize,o=void 0!==t.throttle?1e3*t.throttle:ft,l=t.contentTag||"div",s=[Ye.scrollView,"x"===n?Ye.scrollViewX:Ye.scrollViewY,t.class].join(" ");e.state=at({},{pageSizes:{},sortedKeys:[],beforeSize:null,afterSize:null,scrollView:null,isScrolling:!1,scrollWatchScrollingStateId:null,scrollWatchUpdateStateId:null,preloadSlots:t.preloadPages||1,boundingClientRect:{},currentPageNum:0,scrollAmount:0,classList:s,axis:n,whichScroll:i,autoSize:r,pageSize:a,
scrollThrottle:o,contentTag:l})},yt=function(t){var n=t.state,i=t.attrs;n.scrollAmount=n.scrollView?n.scrollView[n.whichScroll]:0;var r=n.axis,a=void 0!==i.maxPages?i.maxPages:Number.MAX_VALUE,o=i.currentPage?parseInt(i.currentPage,10):gt(n.scrollAmount,n);i.pageChange&&o!==n.currentPageNum&&i.pageChange(o),n.currentPageNum=o,n.scrollView&&i.getDimensions&&i.getDimensions({scrolled:n.scrollAmount,size:n.contentSize});var l=wt(o,i.from,i.to,i.currentPage,n.preloadSlots,a),s=l.pages,u=l.prePages,c=l.maxPageNum;n.contentSize=ht(1,c,n);var f=!c||mt(c,r,n,n.scrollView);if(n.scrollView){var p=n.scrollView.getBoundingClientRect();n.boundingClientRect=n.boundingClientRect||p,p.width===n.boundingClientRect.width&&p.height===n.boundingClientRect.height||(n.preloadSlots=i.preloadPages||1),n.boundingClientRect=p;var d=i.maxPreloadPages||Number.MAX_VALUE;n.contentSize&&n.preloadSlots<s.length&&n.preloadSlots<=d&&n.contentSize<p.height&&(n.preloadSlots++,setTimeout(e.redraw,0))}return e("div",{oncreate:function(e){var t=e.dom;if(n.scrollView=i.scrollView?document.querySelector(i.scrollView):t,n.scrollView.className+=" "+n.classList,i.setDimensions){var a=i.setDimensions();if(a.size>0){var o="x"===r?"width":"height";t.style[o]=a.size+"px"}n.scrollView[n.whichScroll]=a.scrolled}vt(n,n.scrollView,"add")},onremove:function(){return vt(n,n.scrollView,"remove")}},e("div",{class:Ye.scrollContent,style:n.autoSize?at({},"x"===r?{width:n.contentSize+"px"}:{height:n.contentSize+"px"},i.contentSize?"x"===r?{"min-width":i.contentSize+"px"}:{"min-height":i.contentSize+"px"}:{}):null},[e(n.contentTag,{class:Ye.content},[i.before?e("div",{class:Ye.before,oncreate:function(e){var t=e.dom;return bt(t,"before",n,r)},onupdate:function(e){var t=e.dom;return bt(t,"before",n,r)}},i.before):null,e("div",{class:Ye.pages},[u.map(function(t){return e(ot,at({},{axis:r,key:dt(t),pageId:dt(t),pageNum:t,pageSizes:n.pageSizes}))}),s.map(function(t){return e(it,at({},{autoSize:n.autoSize,axis:r,isScrolling:n.isScrolling,item:i.item,key:dt(t),pageData:i.pageData,pageId:dt(t),pageNum:t,pageSize:n.pageSize,pageSizes:n.pageSizes,pageTag:i.pageTag,pageUrl:i.pageUrl,updatePageSize:xt(n)}))})]),i.after&&n.contentSize?e("div",{class:Ye.after,style:{visibility:f?"visible":"hidden"},oncreate:function(e){var t=e.dom;return bt(t,"after",n,r)},onupdate:function(e){var t=e.dom;return bt(t,"after",n,r)}},i.after):null])]))},St={oninit:_t,view:yt,isElementInViewport:Be},zt="56px",kt="40px",Pt=[{".mithril-infinite__scroll-view.images":{margin:"0 auto",background:"#fff"," .mithril-infinite__scroll-content":{" .mithril-infinite__before, .mithril-infinite__after":{" .list-item":{padding:"20px 70px 20px "+zt,fontSize:"16px",minHeight:"60px"}}," .mithril-infinite__page":{minHeight:"400px"}," .mithril-infinite__page + .mithril-infinite__page":{borderTop:"1px solid #ddd"}," .mithril-infinite__page--odd":{backgroundColor:"#f0f0f0"," .list-item + .list-item":{borderTop:"1px solid #ddd"}}," .mithril-infinite__page--even":{"background-color":"#e0e0e0"," .list-item + .list-item":{borderTop:"1px solid #ccc"}}," .list-item":{position:"relative",display:"block",cursor:"pointer",".open":{height:"160px"},".closed":{height:"auto"}," .image":{display:"block",height:"100%",position:"absolute",left:zt,top:0,backgroundSize:"contain",backgroundRepeat:"no-repeat"}," .pageNum, .toggle":{position:"absolute",top:"8px",display:"block",color:"#222",width:kt,height:kt,textAlign:"center",lineHeight:kt}," .pageNum":{left:"4px",fontSize:"13px",color:"#999"}," .toggle":{right:"10px",backgroundColor:"#fff"}}}}}];ze("images",Pt);var At=function(e){return"data/images/page-"+e+".json"},$t={expanded:{},dirty:{},toggle:function(e){$t.expanded[e]?delete $t.expanded[e]:$t.expanded[e]=1,$t.dirty[e]=1},isExpanded:function(e){return $t.expanded[e]},isDirty:function(e){return $t.dirty[e]},clearDirty:function(e){return delete $t.dirty[e]}},jt=function(e,t,n){if($t.isDirty(t)&&St.isElementInViewport({el:e})){var i=Ae.imageUrl+n;e.style.backgroundImage=e.style.backgroundImage="url("+i+")",$t.clearDirty(t)}},Ct=function(t,n){var i=n.pageNum+t.width+t.src,r=$t.isExpanded(i),a=r?.5:.25,o=parseFloat(t.width)*a,l=parseFloat(t.height)*a;return e("a.list-item",{style:{height:l+"px"},onclick:function(){return $t.toggle(i)}},[e("span.pageNum",n.pageNum),e(".image",{style:{height:l+"px",width:o+"px"},oncreate:function(e){var n=e.dom;return $t.dirty[i]=!0,jt(n,i,t.src)},onupdate:function(e){var n=e.dom;return jt(n,i,t.src)}}),e(".toggle",r?e.trust("&#150;"):e.trust("&#43;"))])},Et={view:function(){return e(St,{maxPages:20,item:Ct,pageUrl:At,preloadPages:3,class:"images",before:e("a",{class:["list-item",$t.isExpanded("before")?"open":"closed"].join(" "),onclick:function(){return $t.toggle("before")}},[e("div",e.trust('A list of pugs. Courtesy the <a href="http: //airbnb.io/infinity/demo-off.html">AirBnb Infinity demo</a>.')),e(".toggle",$t.isExpanded("before")?e.trust("&#150;"):e.trust("&#43;"))]),after:Ne()})}},Nt=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Rt=8,Ot=210,Tt=Ot+"px",It=10,Vt=It+"px",Mt=function(e,t){return Nt({},"@media ("+e+"-width: "+((t+1)*Ot+t*Rt)+"px)",{".mithril-infinite__scroll-view.grid":{" .mithril-infinite__scroll-content":{" .mithril-infinite__content":{width:t*Ot+(t-1)*Rt+"px"}}}})},Dt=[Mt("min",4),Mt("max",4),Mt("max",3),Mt("max",2),Mt("max",1),{".mithril-infinite__scroll-view.grid":{margin:"0 auto"," .mithril-infinite__scroll-content":{padding:2*Rt+"px 0"," .mithril-infinite__content":{margin:"0 auto",fontSize:0,lineHeight:0," .mithril-infinite__page":{margin:"0 "+-Rt/2+"px"}," .grid-item":{display:"inline-block",height:Tt,width:Tt,backgroundColor:"#f0f0f0",margin:[0,Rt/2,Rt,Rt/2].map(function(e){return e+"px"}).join(" ")," .image-holder":{height:Ot-2*It+"px",width:Ot-2*It+"px",overflow:"hidden",position:"relative",margin:Vt," .image":{position:"absolute",left:"auto",top:0,right:"auto",bottom:0,width:"100%",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPositionX:"50%",opacity:0,transition:"opacity .7s"}}}}}}}];ze("grid",Dt);var Zt=12,Ht=190,Ut=function(e,t){var n=t.replace(/\/150\//,"/"+Ht+"/"),i=function(){e.style.backgroundImage="url("+n+")",e.style.opacity=1},r=new Image;r.onload=i,r.src=t},Lt=function(e,t){e.state.inited||St.isElementInViewport({el:e.dom})&&(Ut(e.dom,t.thumbnailUrl),e.state.inited=!0)},Wt=function(t){return e("a.grid-item",e(".image-holder",e(".image",{oncreate:function(e){return Lt(e,t)},onupdate:function(e){return Lt(e,t)}})))},Xt=function(e){return"http://jsonplaceholder.typicode.com/photos?_start="+(e-1)*Zt+"&_end="+e*Zt},Ft=function(t){return e.request({method:"GET",dataType:"jsonp",url:Xt(t)})},Yt={view:function(){return e(St,{preloadPages:3,item:Wt,pageData:Ft,class:"grid",after:Ne()})}},Jt=[{".mithril-infinite__scroll-view.table":{minWidth:"320px",margin:"0 auto",background:"#eee"," .mithril-infinite__scroll-content":{" .mithril-infinite__page":{display:"table",width:"100%"}," .mithril-infinite__page--odd":{backgroundColor:"#e4e4e4"," .list-item":{" > div":{color:"rgba(0,0,0,.87)",borderBottom:"1px solid rgba(0, 0, 0, .07)",":first-child":{color:"rgba(0,0,0,.54)"}}}}," .mithril-infinite__page--even":{"background-color":"#f0f0f0"}," .list-item":{width:"100%",display:"table-row"," > div":{borderBottom:"1px solid rgba(0, 0, 0, .07)",display:"table-cell",verticalAlign:"top",padding:"8px 16px",minHeight:"1em",width:"90%",":first-child":{color:"#aaa",width:"10%",textAlign:"right"}}}}}}];ze("table",Jt);var qt=function(t,n){return e(".list-item",[e("div",n.pageNum),e("div",t||e.trust("&nbsp;"))])},Bt={view:function(){return e(St,{maxPages:10,item:qt,pageUrl:function(e){return"data/table/page-"+e+".json"},class:"table",after:Ne()})}},Kt=[{".mithril-infinite__scroll-view.short":{minWidth:"320px",margin:"0 auto",background:"#eee"," .mithril-infinite__scroll-content":{" .list-item":{height:"8px",".has-title":{fontSize:"18px",padding:"0 16px",height:"32px",lineHeight:"32px",color:"#222"}}}}}];ze("short",Kt);var Gt=function(t){var n=t[1]||"transparent",i=t[1]?"":e(".title",t[0]);return e(".list-item",{class:i?"has-title":"",style:{"background-color":n}},i)},Qt={view:function(){return e(St,{item:Gt,maxPages:21,preloadSlots:10,pageUrl:function(e){return"data/short/page-"+e+".json"},class:"short",pageChange:function(e){console&&console.log("page",e)},after:Ne()})}},en=8,tn=210,nn=tn+"px",rn=10,an=rn+"px",on=[{".mithril-infinite__scroll-view.horizontal":{margin:0,height:tn+20+"px",background:"#fff"," .mithril-infinite__scroll-content":{padding:0,margin:0,fontSize:0," .mithril-infinite__content, .mithril-infinite__padding-before, .mithril-infinite__padding-after":{display:"inline-block"}," .mithril-infinite__content":{margin:0,fontSize:0," .mithril-infinite__page":{display:"inline-block",height:nn}," .grid-item":{display:"inline-block",height:nn,width:nn,backgroundColor:"#f0f0f0",margin:"0 "+en/2+"px"," .image-holder":{height:tn-2*rn+"px",width:tn-2*rn+"px",overflow:"hidden",position:"relative",margin:an," .image":{position:"absolute",left:"auto",top:0,right:"auto",bottom:0,width:"100%",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPositionX:"50%",opacity:0,transition:"opacity .7s"}}}}}}}];ze("horizontal",on);var ln=function(e,t){var n=Ae.imageUrl+t,i=function(){e.style.backgroundImage="url("+n+")",e.style.opacity=1},r=new Image;r.onload=i,r.src=n},sn=function(e,t){e.state.inited||St.isElementInViewport({el:e.dom})&&(ln(e.dom,t.src),e.state.inited=!0)},un=function(t){return e("a.grid-item",e(".image-holder",e(".image",{oncreate:function(e){return sn(e,t)},onupdate:function(e){return sn(e,t)}})))},cn={view:function(){return[e(St,{maxPages:16,item:un,pageUrl:function(e){return"data/horizontal/page-"+e+".json"},class:"horizontal",axis:"x",pageSize:function(e){return 218*(e.length||12)},pageChange:function(e){console&&console.log("page",e)}}),Ne()]}},fn=[{".mithril-infinite__scroll-view.table.fixed":{" .mithril-infinite__scroll-content":{" .mithril-infinite__page":{" .list-item":{maxHeight:"36px",overflowY:"hidden"}}," .footer":{height:"133px"}}}}];ze("fixed",fn);var pn=10,dn=37,gn=133,hn=function(e){return"http://jsonplaceholder.typicode.com/posts?_start="+(e-1)*pn+"&_end="+e*pn},mn=function(t){return e(".list-item",[e("div",t.id),e("div",t.title)])},xn={oninit:function(t){var n=t.state;n.pageCount=1,n.pageData=function(t){return e.request({method:"GET",dataType:"jsonp",url:hn(t),extract:function(e){return n.pageCount=Math.ceil(parseInt(e.getResponseHeader("X-Total-Count"),10)/pn),JSON.parse(e.responseText)}})}},view:function(t){var n=t.state;return e(St,{pageData:n.pageData,maxPages:n.pageCount,preloadPages:3,item:mn,class:"table fixed",pageSize:function(){return pn*dn},contentSize:n.pageCount*pn*dn+gn,after:Ne()})}},vn=8,bn=320,wn=(320-2*vn)/3,_n=10,yn=_n+"px",Sn=[{".paging":{width:bn+"px",margin:"0 auto"," .mithril-infinite__scroll-view.mithril-infinite__scroll-view--y":{height:4*wn+3*vn+2*vn+"px"}," .mithril-infinite__page--placeholder":{height:"0 !important"}," .mithril-infinite__scroll-content":{margin:"0 auto",width:bn+"px",padding:vn+"px 0 0"," .mithril-infinite__content":{margin:"0 auto",fontSize:0,lineHeight:0," .mithril-infinite__page":{margin:"0 "+-vn/2+"px"}," .grid-item":{display:"inline-block",height:wn+"px",width:wn+"px",backgroundColor:"#f0f0f0",margin:[0,vn/2,vn,vn/2].map(function(e){return e+"px"}).join(" ")," .image-holder":{height:wn-2*_n+"px",width:wn-2*_n+"px",overflow:"hidden",position:"relative",margin:yn," .image":{position:"absolute",left:"auto",top:0,right:"auto",bottom:0,width:"100%",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPositionX:"50%"}}}}}," .count":{fontSize:"14px",lineHeight:1,padding:"20px 0 10px 0",borderBottom:"1px solid #ddd"}," .pager":{borderTop:"1px solid #ddd",padding:"8px 0",width:bn+"px"," a":{display:"inline-block",background:"#e0e0e0",color:"#333",padding:"10px 15px",textAlign:"center",fontSize:"15px",lineHeight:1,margin:"0 5px 0 0","&.disabled":{color:"#aaa",background:"#f4f4f4",pointerEvents:"none"}}}}}];ze("paging",Sn);var zn=function(t){return e("a.grid-item",e(".image-holder",e(".image",{oncreate:function(e){var n=e.dom;n.style.backgroundImage="url("+Ae.imageUrl+t.src+")"}})))},kn=function(t){return e.request({method:"GET",url:"data/paging/page-"+t+".json"})},Pn={oninit:function(t){var n=0,i=e.route.param("p")?parseInt(e.route.param("p"),10):1,r=function(e){return kn(e).then(function(e){return n=e.length,e})};t.state={getPageData:r,pageNum:i,hasPrev:function(e){return e>1},hasNext:function(e){return e<n}}},view:function(t){var n=t.state,i=e.route.param("p")?parseInt(e.route.param("p"),10):n.pageNum;return e("div",[e(".paging",[e(".count","Page "+i),e(St,{item:zn,pageData:n.getPageData,pageChange:function(e){return n.pageNum=e},currentPage:i,autoSize:!1}),e(".pager",[e("a",{class:n.hasPrev(i)?"":"disabled",href:"/paging/"+(i-1),oncreate:e.route.link},"Prev"),e("a",{class:n.hasNext(i)?"":"disabled",href:"/paging/"+(i+1),oncreate:e.route.link},"Next")])]),Ne()])}},An=[{" *":{"box-sizing":"border-box"}," html, body, #app":{minHeight:"100%",height:"100%"}," body":{margin:0,padding:0,fontFamily:"arial, sans-serif",minWidth:Pe.size_px}," h1":{display:"block",margin:"40px auto 0 auto",width:"320px",textAlign:"center",fontSize:"28px",fontWeight:"normal",color:Pe.text_color}," a":{"&:link, &:visited":{color:"#1E88E5",textDecoration:"none"}}}],$n="#90A4AE",jn="#CFD8DC",Cn="rgba(0,0,0,.85)",En="rgba(0,0,0,.4)",Nn=Pe.size_px,Rn=[{".index":{" h1":{display:"block",margin:"40px auto 0 auto",width:Pe.size+"px",textAlign:"center",fontSize:"28px",fontWeight:"normal",color:Pe.text_color}," .menu":{width:Nn,margin:"20px auto",padding:"0 0 20px 0",listStyle:"none"," li":{margin:"0 0 1px 0",padding:0,"&.header":{fontSize:"18px",color:$n},"&.header, a":{padding:"20px"}," a":{display:"block",textDecoration:"none",backgroundColor:jn," .title":{display:"block",color:Cn,fontSize:"18px",lineHeight:"25.2px"}," .subtitle":{display:"block",color:En,fontSize:"14px"}}}}}}];ze("common",An),ze("index",Rn);var On=500,Tn=[{href:"/images",title:"Images",subtitle:"200 images of various heights"},{href:"/horizontal",title:"Horizontal",subtitle:"Horizontal scroller"},{href:"/grid",title:"Image grid",subtitle:"Responsive grid with 1, 2, 3 and 4 columns"},{href:"/table",title:"Data table",subtitle:"Table rows of various heights"},{href:"/short",title:"Short content",subtitle:"Automatically finds loadable space"},{href:"/fixed",title:"Fixed height",subtitle:'Preset the scroll height, don"t update scroll height'},{href:"/paging",title:"Paging",subtitle:"Previous / Next buttons instead of infinite scroll"}],In=e("ul.menu",[e("li.header","Examples"),Tn.map(function(t){return e("li",e("a",{href:t.href,oncreate:e.route.link},[e("span.title",t.title),e("span.subtitle",t.subtitle)]))})]),Vn={view:function(){return e(".index",[e("h1","Infinite Scroll for Mithril"),In,Ne({home:!0})])}},Mn=document.querySelector("#app");e.route(Mn,"/",{"/":Vn,"/images":Et,"/grid":Yt,"/table":Bt,"/short":Qt,"/horizontal":cn,"/fixed":xn,"/paging":Pn,"/paging/:p":Pn});var Dn=0;window.onresize=function(){clearTimeout(Dn),Dn=setTimeout(e.redraw,On)}});
//# sourceMappingURL=examples.js.map
