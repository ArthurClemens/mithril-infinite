document.write('<script src="http://'+(location.host||"localhost").split(":")[0]+':35729/livereload.js?snipver=1"></script>'),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("mithril")):"function"==typeof define&&define.amd?define(["mithril"],t):t(e.m)}(this,function(e){"use strict";function t(){J=getComputedStyle(document.documentElement,null),G=document.createElement("div").style,Q=document.documentElement.appendChild(document.createElement("style")),te=o,ee=l,"zIndex"in G&&!("z-index"in G)&&(te=function(e,t){return o(n(e),t)},ee=function(e){return l(n(e))})}function i(){"undefined"!=typeof document&&document.documentElement.removeChild(Q),J=Q=null}function n(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}).replace("-","")}function r(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}function o(e,t){return G[e]="",G[e]=t,!!G[e]}function a(e){return Q.textContent="@media ("+e+"){}",!/^@media(?:\s+not)?\s+all/.test(Q.sheet.cssRules[0].cssText)}function l(e){return e in G}function s(e){return Q.textContent=e+"{}",!!Q.sheet.cssRules.length}function c(e){if(""!==e.prefix){var t={keyframes:"name",viewport:null,document:'regexp(".")'};for(var i in t){var n=i+" "+(t[i]||"");!s("@"+n)&&s("@"+e.prefix+n)&&(e.hasAtrules=!0,e.atrules["@"+i]="@"+e.prefix+i)}e.hasDppx=a("resolution:1dppx"),e.hasPixelRatio=a(e.prefix+"device-pixel-ratio:1"),e.hasPixelRatioFraction=a(e.prefix+"device-pixel-ratio:1/1"),(e.hasPixelRatio||e.hasPixelRatioFraction)&&(e.properties.resolution=e.prefix+"device-pixel-ratio",e.properties["min-resolution"]=e.prefix+"min-device-pixel-ratio",e.properties["max-resolution"]=e.prefix+"max-device-pixel-ratio",a("min-"+e.prefix+"device-pixel-ratio:1")&&(e.properties["min-resolution"]="min-"+e.prefix+"device-pixel-ratio",e.properties["max-resolution"]="max-"+e.prefix+"device-pixel-ratio"))}}function u(e){if(""!==e.prefix){var t={"linear-gradient":{property:"background-image",params:"red, teal"},calc:{property:"width",params:"1px + 5%"},element:{property:"background-image",params:"#foo"},"cross-fade":{property:"backgroundImage",params:"url(a.png), url(b.png), 50%"}};t["repeating-linear-gradient"]=t["repeating-radial-gradient"]=t["radial-gradient"]=t["linear-gradient"];for(var i in t){var n=t[i],r=n.property,o=i+"("+n.params+")";!te(r,o)&&te(r,e.prefix+o)&&e.functions.push(i)}}}function f(e){if(""!==e.prefix){for(var t=0;t<ne.length;t++){for(var i,n={},r=ne[t].props[0],o=0;i=ne[t].values[o];o++)!te(r,i)&&te(r,e.prefix+i)&&(e.hasKeywords=!0,n[i]=e.prefix+i);for(o=0;r=ne[t].props[o];o++)e.keywords[r]=n}if(e.keywords.display&&e.keywords.display.flexbox&&!te("display","flex")){e.keywords.display.flex=e.keywords.display.flexbox,e.keywords.display["inline-flex"]=e.keywords.display["inline-flexbox"];for(var a in ae)e.properties[a]=ae[a],e.keywords[a]=le}else if(e.keywords.display&&e.keywords.display.box&&!te("display","flex")){e.keywords.display.flex=e.keywords.display.box,e.keywords.display["inline-flex"]=e.keywords.display["inline-box"],e.flexbox2009=!0;for(a in re)e.properties[a]=e.prefix+re[a],e.keywords[a]=oe}!te("color","initial")&&te("color",e.prefix+"initial")&&(e.initial=e.prefix+"initial")}}function p(e){function t(e){if("-"===e.charAt(0)){var t=e.split("-")[1];i[t]=++i[t]||1}}var i={};if(J&&J.length>0)for(var o=0;o<J.length;o++)t(J[o]);else for(var a in J)t(r(a));var l=0;for(var s in i)l<i[s]&&(l=i[s],e.prefix="-"+s+"-");e.Prefix=n(e.prefix)}function d(e){function t(t){return t.replace(/^::?/,function(t){return t+e.prefix})}var i,n;if(""!==e.prefix){var r={":any-link":":any-link",":read-only":":read-only",":read-write":":read-write","::selection":"::selection",":fullscreen":":fullscreen",":full-screen":":fullscreen","::backdrop":"::backdrop",":placeholder":"::placeholder","::placeholder":"::placeholder",":input-placeholder":"::placeholder","::input-placeholder":"::placeholder"};for(i in r)n=t(i),!s(i)&&s(n)&&(e.hasSelectors=!0,e.selectorList.push(r[i]),e.selectorMap[r[i]]=n)}}function g(){return{atrules:{},hasAtrules:!1,hasDppx:null,hasKeywords:!1,hasPixelRatio:!1,hasPixelRatioFraction:!1,hasSelectors:!1,hasValues:!1,fixAtMediaParams:null,fixAtSupportsParams:null,fixProperty:null,fixSelector:null,fixValue:null,flexbox2009:!1,functions:[],initial:null,keywords:{},placeholder:null,prefix:"",Prefix:"",properties:{},selectorList:[],selectorMap:{},valueProperties:{transition:1,"transition-property":1,"will-change":1}}}function h(e){t(),p(e),d(e),c(e),f(e),u(e),i()}function m(e){for(var t,i=[],n=[],r=0;t=ce.exec(e);)switch(t[0]){case"(":r++;break;case")":r--;break;case",":if(r)break;i.push(t.index)}for(t=i.length;t--;)n.unshift(e.slice(i[t]+1)),e=e.slice(0,i[t]);return n.unshift(e),n}function x(e,t,i){return new RegExp(e+"(?:"+t.join("|")+")"+i)}function b(e,t,i){return new RegExp("\"(?:\\\\[\\S\\s]|[^\"])*\"|'(?:\\\\[\\S\\s]|[^'])*'|\\/\\*[\\S\\s]*?\\*\\/|"+e+"((?:"+t.join("|")+"))"+i,"gi")}function v(e){function t(e,t,i){return t+n+i}function i(t,i,n){return"("+(e.properties[i]||e.fixProperty(i))+":"+e.fixValue(n,i)}var n=e.prefix;e.fixProperty=e.fixProperty||function(t){var i;return e.properties[t]=ee(t)||!ee(i=n+t)?t:i};var r=x("",e.selectorList,"(?:\\b|$|[^-])"),o=b("",e.selectorList,"(?:\\b|$|[^-])"),a=function(t,i){return null!=i?e.selectorMap[i]:t};e.fixSelector=function(e){return r.test(e)?e.replace(o,a):e};var l=e.functions.indexOf("linear-gradient")>-1,s=/\blinear-gradient\(/,c=/(^|\s|,|\()((?:repeating-)?linear-gradient\()\s*(-?\d*\.?\d*)deg/gi,u=function(e,t,i,n){return t+i+(90-n)+"deg"},f=!!e.functions.length,p=x("(?:^|\\s|,|\\()",e.functions,"\\s*\\("),d=b("(^|\\s|,|\\()",e.functions,"(?=\\s*\\()"),g=/^\s*([-\w]+)/gi,h=function(t,i){return e.properties[i]||e.fixProperty(i)};e.fixValue=function(i,n){var r;return null!=e.initial&&"initial"===i?e.initial:e.hasKeywords&&(r=(e.keywords[n]||se)[i])?r:(r=i,e.valueProperties.hasOwnProperty(n)&&(r=i.indexOf(",")===-1?i.replace(g,h):m(i).map(function(e){return e.replace(g,h)}).join(",")),f&&p.test(i)&&(l&&s.test(i)&&(r=r.replace(c,u)),r=r.replace(d,t)),r)};var v=/((?:min-|max-)?resolution)\s*:\s*((?:\d*.)?\d+)dppx/g,w=e.hasPixelRatio?function(t,i,n){return e.properties[i]+":"+n}:e.hasPixelRatioFraction?function(t,i,n){return e.properties[i]+":"+Math.round(10*n)+"/10"}:function(e,t,i){return t+":"+Math.round(96*i)+"dpi"};e.fixAtMediaParams=e.hasDppx!==!1?function(e){return e}:function(e){return e.indexOf("reso")!==-1?e.replace(v,w):e};var y=/\(\s*([-\w]+)\s*:\s*((?:"(?:\\[\S\s]|[^"])*"|'(?:\\[\S\s]|[^'])*'|\/\*[\S\s]*?\*\/|\((?:"(?:\\[\S\s]|[^"])*"|'(?:\\[\S\s]|[^'])*'|\/\*[\S\s]*?\*\/|\((?:"(?:\\[\S\s]|[^"])*"|'(?:\\[\S\s]|[^'])*'|\/\*[\S\s]*?\*\/|\((?:"(?:\\[\S\s]|[^"])*"|'(?:\\[\S\s]|[^'])*'|\/\*[\S\s]*?\*\/|\((?:"(?:\\[\S\s]|[^"])*"|'(?:\\[\S\s]|[^'])*'|\/\*[\S\s]*?\*\/|\([^\)]*\)|[^\)])*\)|[^\)])*\)|[^\)])*\)|[^\)])*\)|[^\)])*)/g;e.fixAtSupportsParams=function(e){return e.replace(y,i)}}function w(){ie=g(),"function"==typeof getComputedStyle&&h(ie),v(ie)}function y(e){var t=ie,i=[];return e&&(e.setPrefixDb=function(e){return i.indexOf(e)===-1&&(v(e),i.push(e)),t=e,y}),{$filter:function(e){return{atrule:function(i,n,r,o){e.atrule(t.hasAtrules&&t.atrules[i]||i,n,"@media"===i?t.fixAtMediaParams(r):"@supports"===i?t.fixAtSupportsParams(r):r,o)},decl:function i(n,r){return!n||"string"!=typeof r&&"number"!=typeof r?e.decl(t.properties[n]||t.fixProperty(n),r):(r+="",void("flex-flow"===n&&t.flexbox2009?r.split(" ").forEach(function(e){e.indexOf("wrap")>-1?i("flex-wrap",e):""!==e&&i("flex-direction",e)}):"flex-direction"===n&&t.flexbox2009?(e.decl(t.properties["box-orient"],r.indexOf("column")>-1?"block-axis":"inline-axis"),e.decl(t.properties["box-direction"],r.indexOf("-reverse")>-1?"reverse":"normal")):e.decl(t.properties[n]||t.fixProperty(n),t.fixValue(r,n))))},rule:function(i){e.rule(t.hasSelectors?t.fixSelector(i):i)}}}}}function _(e,t){for(var i in t)xe.call(t,i)&&(!i.indexOf("$")||i in e||(e[i]=t[i]));return e}function S(e,t){var i,n,r=[];for(n in t)if(xe.call(t,n))for(i in e)xe.call(e,i)&&r.push(e[i]+t[n]);return r}function z(e){for(var t,i=[],n=[],r=0;t=ve.exec(e);)switch(t[0]){case"(":r++;break;case")":r--;break;case",":if(r)break;i.push(t.index)}for(t=i.length;t--;)n.unshift(e.slice(i[t]+1)),e=e.slice(0,i[t]);return n.unshift(e),n}function k(e,t){for(var i,n,r=[],o=[];n=we.exec(e);)"&"==n[0]&&r.push(n.index);for(n=r.length;n--;)o.unshift(e.slice(r[n]+1)),e=e.slice(0,r[n]);for(o.unshift(e),1===o.length&&o.unshift(""),i=[o[0]],n=1;n<o.length;n++)i=S(i,S(t,[o[n]]));return i.join(",")}function P(e){return function t(i){if(fe.call(i)===pe)for(var n=0;n<i.length;n++)t(i[n]);else e(i)}}function A(e){for(;ye.length<e;)ye+=Math.floor(4294967296*Math.random()).toString(36);var t="_"+ye.slice(0,e);return ye=ye.slice(e),t}function j(e){return"-"+e.toLowerCase()}function C(e,t,i,n,r){var o,a,l;if(null!=n)switch(fe.call(n=n.valueOf())){case pe:for(o=0;o<n.length;o++)C(e,t,i,n[o],r);break;case ge:i=i&&i+"-";for(o in n)if(xe.call(n,o))if(a=n[o],/\$/.test(o))for(l in o=o.split("$"))xe.call(o,l)&&C(e,t,i+o[l],a,r);else C(e,t,i+o,a,r);break;default:if(!i)return t.raw(n);o=i.replace(/_/g,"-").replace(/[A-Z]/g,j),!r||"animation-name"!=o&&"animation"!=o||(n=n.split(",").map(function(t){return t.replace(/^\s*(?:(var\([^)]+\))|:?global\(\s*([_A-Za-z][-\w]*)\s*\)|()(-?[_A-Za-z][-\w]*))/,e.localizeReplacer)}).join(",")),t.decl(o,n)}}function E(e,t,i,n,r,o,a){for(var l=0;l<e.atruleHandlers.length;l++)if(e.atruleHandlers[l](e,t,i,n,r,o,a))return;if(!i[3]&&/^global$/.test(i[2]))R(e,t,r,n,0,a);else if(!i[3]&&/^local$/.test(i[2]))R(e,t,r,n,1,a);else if(i[3]&&/^adopt$/.test(i[2])){if(!o||a)return t.err("@adopt global or nested: "+i[0]);if(!/^\.?[_A-Za-z][-\w]*$/.test(i[3]))return t.err("bad adopter "+JSON.stringify(i[3])+" in "+i[0]);l=[],P(function(e,n){null!=e&&/^\.?[_A-Za-z][-\w]*(?:\s+\.?[_A-Za-z][-\w]*)*$/.test(n=e+"")?l.push(n.replace(/\./g,"")):t.err("bad adoptee "+JSON.stringify(e)+" in "+i[0])})(n),l.length&&(e.localize(i[3]=i[3].replace(/\./g,"")),e.names[i[3]]+=" "+l.join(" "))}else!i[3]&&/^(?:namespace|import|charset)$/.test(i[2])?P(function(e){t.atrule(i[1],i[2],e)})(n):!i[3]&&/^(?:font-face|viewport)$/.test(i[2])?P(function(n){t.atrule(i[1],i[2],i[3],"decl"),C(e,t,"",n,o),t._atrule()})(n):i[3]&&/^(?:media|supports|page|keyframes)$/.test(i[2])?(o&&"keyframes"==i[2]&&(i[3]=i[3].replace(/(var\([^)]+\))|:?global\(\s*([_A-Za-z][-\w]*)\s*\)|()(-?[_A-Za-z][-\w]*)/,e.localizeReplacer)),"page"==i[2]?(t.atrule(i[1],i[2],i[3],"decl"),C(e,t,"",n,o)):(t.atrule(i[1],i[2],i[3],"rule"),R(e,t,"keyframes"==i[2]?"":r,n,o,a+1)),t._atrule()):t.err("Unsupported at-rule: "+i[0])}function R(e,t,i,n,r,o){var a,l,s,c;switch(fe.call(n)){case ge:for(a in n)if(xe.call(n,a))if(l=n[a],i.length>0&&/^[-\w$]+$/.test(a))if(s||(s=1,t.rule(i)),/\$/.test(a))for(c in a=a.split("$"))xe.call(a,c)&&C(e,t,a[c],l,r);else C(e,t,a,l,r);else if(/^@/.test(a))s=0,E(e,t,/^(.(?:-[\w]+-)?([_A-Za-z][-\w]*))\b\s*(.*?)\s*$/.exec(a)||[a,"@","",""],l,i,r,o);else{if(s=0,""===a){t._rule(),t.err("Invalid selector ''");continue}R(e,t,i.length>0&&(/,/.test(i)||/,/.test(a))?(c=z(i),z(r?a.replace(/("(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\/)|:global\(\s*(\.-?[_A-Za-z][-\w]*)\s*\)|(\.)(-?[_A-Za-z][-\w]*)/g,e.localizeReplacer):a).map(function(e){return/&/.test(e)?k(e,c):c.map(function(t){return t+e}).join(",")}).join(",")):/&/.test(a)?k(r?a.replace(/("(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\/)|:global\(\s*(\.-?[_A-Za-z][-\w]*)\s*\)|(\.)(-?[_A-Za-z][-\w]*)/g,e.localizeReplacer):a,[i]):i+(r?a.replace(/("(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\/)|:global\(\s*(\.-?[_A-Za-z][-\w]*)\s*\)|(\.)(-?[_A-Za-z][-\w]*)/g,e.localizeReplacer):a),l,r,o+1)}break;case pe:for(a=0;a<n.length;a++)R(e,t,i,n[a],r,o);break;case he:i.length&&t.rule(i),t.raw(n)}}function I(e,t){var i;return t?e:{init:function(){i="",e.init()},done:function(){return i&&(e._rule(),i=""),e.done()},atrule:function(t,n,r,o){i&&(e._rule(),i=""),e.atrule(t,n,r,o)},_atrule:function(t){i&&(e._rule(),i=""),e._atrule(t)},rule:function(t){t!==i&&(i&&e._rule(),e.rule(t),i=t)},_rule:function(){i&&(e._rule(),i="")}}}function V(e,t,i,n){n.init();try{e(i,n,"",t,1,0)}catch(e){n.err(e instanceof Error?e.stack:""+e)}return n.done()}function N(e,t,i,n,r,o){function a(i){return xe.call(l,i)||(l[i]=e+i+t),l[i].match(/^\S+/)}for(var l={},s={atruleHandlers:i,names:l,localize:a,localizeReplacer:function(e,t,i,n,r){return t||i||n+a(r)}},c={ns:function(e){var a="__"+e.replace(/\W+/g,"_")+"_";return xe.call(n,a)||(n[a]=N(a,t,i,n,r,o)),n[a]},names:l,prefix:e,suffix:t,sheet:function(e){return V(R,e,s,r[0])},inline:function(e){return V(C,e,s,r[1])}},u=o.length;u--;)_(c,o[u]);return c}function O(e){e=e||{};var t,i,n=[{init:function(){t=[],i=[]},done:function(e){if(0!=i.length)throw new Error("j2c error(s): "+JSON.stringify(i,null,2)+"in context:\n"+t.join(""));return e?t:t.join("")},err:function(e){i.push(e),t.push("/* +++ ERROR +++ "+e+" */\n")},raw:function(e){t.push(e,"\n")},atrule:function(e,i,n,r){t.push(e,n&&" ",n,r?" {\n":";\n")},_atrule:function(){t.push("}\n")},rule:function(e){t.push(e," {\n")},_rule:function(){t.push("}\n")},decl:function(e,i){t.push(e,":",i,";\n")}}],r=[I],o=[],a=[],l=A(7),s={};fe.call(e.plugins)===pe&&P(function(e){if(fe.call(e)!==ge)throw new Error("bad plugin, object expected, got "+fe.call(e));fe.call(e.filter)===me&&r.push(e.filter),fe.call(e.atrule)===me&&o.push(e.atrule),fe.call(e.sink)===me&&(n=e.sink()),fe.call(e.set)===ge&&a.push(e.set)})(e.plugins),fe.call(e.suffix)===he&&(l=e.suffix),fe.call(e.suffix)===de&&(l=A(e.suffix)),n[1]=n[1]||{init:n[0].init,done:n[0].done,raw:n[0].raw,err:n[0].err,decl:n[0].decl};for(var c=0;c<2;c++)for(var u=r.length;u--;)n[c]=be(_(r[u](n[c],!!c),n[c]));return be(N("",l,o,s,n,a))}function $(e,t){return t={exports:{}},e(t,t.exports),t.exports}function T(e,t){for(var i in t)Ze.call(t,i)&&(!i.indexOf("$")||i in e||(e[i]=t[i]));return e}function Z(e,t){var i,n,r=[];for(n in t)if(Ze.call(t,n))for(i in e)Ze.call(e,i)&&r.push(e[i]+t[n]);return r}function H(e){for(var t,i=[],n=[],r=0;t=De.exec(e);)switch(t[0]){case"(":r++;break;case")":r--;break;case",":if(r)break;i.push(t.index)}for(t=i.length;t--;)n.unshift(e.slice(i[t]+1)),e=e.slice(0,i[t]);return n.unshift(e),n}function D(e,t){for(var i,n,r=[],o=[];n=Me.exec(e);)"&"==n[0]&&r.push(n.index);for(n=r.length;n--;)o.unshift(e.slice(r[n]+1)),e=e.slice(0,r[n]);for(o.unshift(e),1===o.length&&o.unshift(""),i=[o[0]],n=1;n<o.length;n++)i=Z(i,Z(t,[o[n]]));return i.join(",")}function M(e){return function t(i){if(Ie.call(i)===Ve)for(var n=0;n<i.length;n++)t(i[n]);else e(i)}}function W(e){for(;We.length<e;)We+=Math.floor(4294967296*Math.random()).toString(36);var t="_"+We.slice(0,e);return We=We.slice(e),t}function U(e){return"-"+e.toLowerCase()}function F(e,t,i,n,r){var o,a,l;if(null!=n)switch(Ie.call(n=n.valueOf())){case Ve:for(o=0;o<n.length;o++)F(e,t,i,n[o],r);break;case Oe:i=i&&i+"-";for(o in n)if(Ze.call(n,o))if(a=n[o],/\$/.test(o))for(l in o=o.split("$"))Ze.call(o,l)&&F(e,t,i+o[l],a,r);else F(e,t,i+o,a,r);break;default:if(!i)return t.raw(n);o=i.replace(/_/g,"-").replace(/[A-Z]/g,U),!r||"animation-name"!=o&&"animation"!=o||(n=n.split(",").map(function(t){return t.replace(/^\s*(?:(var\([^)]+\))|:?global\(\s*([_A-Za-z][-\w]*)\s*\)|()(-?[_A-Za-z][-\w]*))/,e.localizeReplacer)}).join(",")),t.decl(o,n)}}function X(e,t,i,n,r,o,a){for(var l=0;l<e.atruleHandlers.length;l++)if(e.atruleHandlers[l](e,t,i,n,r,o,a))return;if(!i[3]&&/^global$/.test(i[2]))L(e,t,r,n,0,a);else if(!i[3]&&/^local$/.test(i[2]))L(e,t,r,n,1,a);else if(i[3]&&/^adopt$/.test(i[2])){if(!o||a)return t.err("@adopt global or nested: "+i[0]);if(!/^\.?[_A-Za-z][-\w]*$/.test(i[3]))return t.err("bad adopter "+JSON.stringify(i[3])+" in "+i[0]);l=[],M(function(e,n){null!=e&&/^\.?[_A-Za-z][-\w]*(?:\s+\.?[_A-Za-z][-\w]*)*$/.test(n=e+"")?l.push(n.replace(/\./g,"")):t.err("bad adoptee "+JSON.stringify(e)+" in "+i[0])})(n),l.length&&(e.localize(i[3]=i[3].replace(/\./g,"")),e.names[i[3]]+=" "+l.join(" "))}else!i[3]&&/^(?:namespace|import|charset)$/.test(i[2])?M(function(e){t.atrule(i[1],i[2],e)})(n):!i[3]&&/^(?:font-face|viewport)$/.test(i[2])?M(function(n){t.atrule(i[1],i[2],i[3],"decl"),F(e,t,"",n,o),t._atrule()})(n):i[3]&&/^(?:media|supports|page|keyframes)$/.test(i[2])?(o&&"keyframes"==i[2]&&(i[3]=i[3].replace(/(var\([^)]+\))|:?global\(\s*([_A-Za-z][-\w]*)\s*\)|()(-?[_A-Za-z][-\w]*)/,e.localizeReplacer)),"page"==i[2]?(t.atrule(i[1],i[2],i[3],"decl"),F(e,t,"",n,o)):(t.atrule(i[1],i[2],i[3],"rule"),L(e,t,"keyframes"==i[2]?"":r,n,o,a+1)),t._atrule()):t.err("Unsupported at-rule: "+i[0])}function L(e,t,i,n,r,o){var a,l,s,c;switch(Ie.call(n)){case Oe:for(a in n)if(Ze.call(n,a))if(l=n[a],i.length>0&&/^[-\w$]+$/.test(a))if(s||(s=1,t.rule(i)),/\$/.test(a))for(c in a=a.split("$"))Ze.call(a,c)&&F(e,t,a[c],l,r);else F(e,t,a,l,r);else if(/^@/.test(a))s=0,X(e,t,/^(.(?:-[\w]+-)?([_A-Za-z][-\w]*))\b\s*(.*?)\s*$/.exec(a)||[a,"@","",""],l,i,r,o);else{if(s=0,""===a){t._rule(),t.err("Invalid selector ''");continue}L(e,t,i.length>0&&(/,/.test(i)||/,/.test(a))?(c=H(i),H(r?a.replace(/("(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\/)|:global\(\s*(\.-?[_A-Za-z][-\w]*)\s*\)|(\.)(-?[_A-Za-z][-\w]*)/g,e.localizeReplacer):a).map(function(e){return/&/.test(e)?D(e,c):c.map(function(t){return t+e}).join(",")}).join(",")):/&/.test(a)?D(r?a.replace(/("(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\/)|:global\(\s*(\.-?[_A-Za-z][-\w]*)\s*\)|(\.)(-?[_A-Za-z][-\w]*)/g,e.localizeReplacer):a,[i]):i+(r?a.replace(/("(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\/)|:global\(\s*(\.-?[_A-Za-z][-\w]*)\s*\)|(\.)(-?[_A-Za-z][-\w]*)/g,e.localizeReplacer):a),l,r,o+1)}break;case Ve:for(a=0;a<n.length;a++)L(e,t,i,n[a],r,o);break;case $e:i.length&&t.rule(i),t.raw(n)}}function Y(e,t){var i;return t?e:{init:function(){i="",e.init()},done:function(){return i&&(e._rule(),i=""),e.done()},atrule:function(t,n,r,o){i&&(e._rule(),i=""),e.atrule(t,n,r,o)},_atrule:function(t){i&&(e._rule(),i=""),e._atrule(t)},rule:function(t){t!==i&&(i&&e._rule(),e.rule(t),i=t)},_rule:function(){i&&(e._rule(),i="")}}}function B(e,t,i,n){n.init();try{e(i,n,"",t,1,0)}catch(e){n.err(e instanceof Error?e.stack:""+e)}return n.done()}function q(e,t,i,n,r,o){function a(i){return Ze.call(l,i)||(l[i]=e+i+t),l[i].match(/^\S+/)}for(var l={},s={atruleHandlers:i,names:l,localize:a,localizeReplacer:function(e,t,i,n,r){return t||i||n+a(r)}},c={ns:function(e){var a="__"+e.replace(/\W+/g,"_")+"_";return Ze.call(n,a)||(n[a]=q(a,t,i,n,r,o)),n[a]},names:l,prefix:e,suffix:t,sheet:function(e){return B(L,e,s,r[0])},inline:function(e){return B(F,e,s,r[1])}},u=o.length;u--;)T(c,o[u]);return c}function K(e){e=e||{};var t,i,n=[{init:function(){t=[],i=[]},done:function(e){if(0!=i.length)throw new Error("j2c error(s): "+JSON.stringify(i,null,2)+"in context:\n"+t.join(""));return e?t:t.join("")},err:function(e){i.push(e),t.push("/* +++ ERROR +++ "+e+" */\n")},raw:function(e){t.push(e,"\n")},atrule:function(e,i,n,r){t.push(e,n&&" ",n,r?" {\n":";\n")},_atrule:function(){t.push("}\n")},rule:function(e){t.push(e," {\n")},_rule:function(){t.push("}\n")},decl:function(e,i){t.push(e,":",i,";\n")}}],r=[Y],o=[],a=[],l=W(7),s={};Ie.call(e.plugins)===Ve&&M(function(e){if(Ie.call(e)!==Oe)throw new Error("bad plugin, object expected, got "+Ie.call(e));Ie.call(e.filter)===Te&&r.push(e.filter),Ie.call(e.atrule)===Te&&o.push(e.atrule),Ie.call(e.sink)===Te&&(n=e.sink()),Ie.call(e.set)===Oe&&a.push(e.set)})(e.plugins),Ie.call(e.suffix)===$e&&(l=e.suffix),Ie.call(e.suffix)===Ne&&(l=W(e.suffix)),n[1]=n[1]||{init:n[0].init,done:n[0].done,raw:n[0].raw,err:n[0].err,decl:n[0].decl};for(var c=0;c<2;c++)for(var u=r.length;u--;)n[c]=He(T(r[u](n[c],!!c),n[c]));return He(q("",l,o,s,n,a))}e="default"in e?e.default:e;var J,G,Q,ee,te,ie,ne=[{props:["cursor"],values:["grab","grabbing","zoom-in","zoom-out"]},{props:["display"],values:["box","inline-box","flexbox","inline-flexbox","flex","inline-flex","grid","inline-grid"]},{props:["position"],values:["sticky"]},{props:["width","column-width","height","max-height","max-width","min-height","min-width"],values:["contain-floats","fill-available","fit-content","max-content","min-content"]}],re={"align-items":"box-align",flex:"box-flex","box-direction":"box-direction","box-orient":"box-orient","flex-wrap":"box-lines","justify-content":"box-pack",order:"box-ordinal-group"},oe={"flex-end":"end","flex-start":"start",nowrap:"single","space-around":"justify","space-between":"justify",wrap:"multiple","wrap-reverse":"multiple"},ae={"align-content":"-ms-flex-line-pack","align-items":"-ms-flex-align","align-self":"-ms-flex-item-align","flex-basis":"-ms-preferred-size","flex-grow":"-ms-flex-positive","flex-shrink":"-ms-flex-negative","justify-content":"-ms-flex-pack",order:"-ms-flex-order"},le={"flex-end":"end","flex-start":"start","space-around":"distribute","space-between":"justify"},se={},ce=/[(),]|\/\*[\s\S]*?\*\//g;w();var ue={},fe=ue.toString,pe=fe.call([]),de=fe.call(0),ge=fe.call(ue),he=fe.call(""),me=fe.call(fe),xe=ue.hasOwnProperty,be=Object.freeze||function(e){return e},ve=/[(),]|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g,we=/&|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g,ye="",_e=new O(y),Se=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];ze(e);var r=document.createElement("style");e&&r.setAttribute("id",e),i.forEach(function(e){Object.keys(e).length&&e.forEach(function(e){var t={"@global":e},i=_e.sheet(t);r.appendChild(document.createTextNode(i))})}),document.head.appendChild(r)},ze=function(e){if(e){var t=document.getElementById(e);t&&t.parentNode.removeChild(t)}},ke={size:320,size_px:"320px",text_color:"#263238"},Pe=16,Ae=[{".github":{width:ke.size-2*Pe+"px",margin:"32px auto 0 auto","text-align":"left",padding:"24px "+Pe+"px","font-size":"14px","line-height":1.3,color:"#90A4AE",opacity:".85"," hr":{height:"1px",border:"none",margin:"1em -"+Pe+"px","background-color":"#CFD8DC",opacity:".85"}}}];Se("github",Ae);var je=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(".github",[t.home?null:e("a",{href:"/",config:e.route},"All examples"),e("hr"),e.trust('mithril-infinite, Infinite Scroll for Mithril on mobile and desktop. Project page on <a href="https://github.com/ArthurClemens/mithril-infinite">Github</a>.')])},Ce="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ee=$(function(e){!function(t,i,n){e.exports?e.exports=n():t[i]=n()}(Ce,"verge",function(){function e(){return{width:u(),height:f()}}function t(e,t){var i={};return t=+t||0,i.width=(i.right=e.right+t)-(i.left=e.left-t),i.height=(i.bottom=e.bottom+t)-(i.top=e.top-t),i}function i(e,i){return e=e&&!e.nodeType?e[0]:e,!(!e||1!==e.nodeType)&&t(e.getBoundingClientRect(),i)}function n(t){t=null==t?e():1===t.nodeType?i(t):t;var n=t.height,r=t.width;return n="function"==typeof n?n.call(t):n,r="function"==typeof r?r.call(t):r,r/n}var r={},o="undefined"!=typeof window&&window,a="undefined"!=typeof document&&document,l=a&&a.documentElement,s=o.matchMedia||o.msMatchMedia,c=s?function(e){return!!s.call(o,e).matches}:function(){return!1},u=r.viewportW=function(){var e=l.clientWidth,t=o.innerWidth;return e<t?t:e},f=r.viewportH=function(){var e=l.clientHeight,t=o.innerHeight;return e<t?t:e};return r.mq=c,r.matchMedia=s?function(){return s.apply(o,arguments)}:function(){return{}},r.viewport=e,r.scrollX=function(){return o.pageXOffset||l.scrollLeft},r.scrollY=function(){return o.pageYOffset||l.scrollTop},r.rectangle=i,r.aspect=n,r.inX=function(e,t){var n=i(e,t);return!!n&&n.right>=0&&n.left<=u()},r.inY=function(e,t){var n=i(e,t);return!!n&&n.bottom>=0&&n.top<=f()},r.inViewport=function(e,t){var n=i(e,t);return!!n&&n.bottom>=0&&n.right>=0&&n.top<=f()&&n.left<=u()},r})}),Re={},Ie=Re.toString,Ve=Ie.call([]),Ne=Ie.call(0),Oe=Ie.call(Re),$e=Ie.call(""),Te=Ie.call(Ie),Ze=Re.hasOwnProperty,He=Object.freeze||function(e){return e},De=/[(),]|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g,Me=/&|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g,We="",Ue={scrollView:"mithril-infinite__scroll-view",scrollViewX:"mithril-infinite__scroll-view--x",scrollViewY:"mithril-infinite__scroll-view--y",scrollContent:"mithril-infinite__scroll-content",content:"mithril-infinite__content",pages:"mithril-infinite__pages",page:"mithril-infinite__page",pageEven:"mithril-infinite__page--even",pageOdd:"mithril-infinite__page--odd",before:"mithril-infinite__before",after:"mithril-infinite__after"},Fe=300,Xe=function(e,t){var i=window.getComputedStyle(e);if("x"===t){var n=parseFloat(i.marginLeft)+parseFloat(i.marginRight);return e.scrollWidth+n}var r=parseFloat(i.marginTop)+parseFloat(i.marginBottom);return e.scrollHeight+r},Le=function(e){var t=e.el,i=e.axis,n=void 0===i?"y":i,r=e.leeway,o=void 0===r?Fe:r;return"y"===n?Ee.inY(t,o)||Ee.inY(t,-o):"x"===n?Ee.inX(t,o)||Ee.inX(t,-o):Ee.inViewport(t,o)||Ee.inViewport(t,-o)},Ye=function(e){return[Ue.page,e%2===0?Ue.pageEven:Ue.pageOdd].join(" ")},Be=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ke=function(t){return e.request({method:"GET",url:t,initialValue:[],background:!0})},Je={};Je.controller=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.pageNum,n=e.prop([]);if(t.pageData){var r=t.pageData(i);r.then?r.then(function(e){n(e)}):n=r}else if(t.pageUrl){var o=t.pageUrl(i);Ke(o).then(function(t){return n(t),e.redraw()})}return{content:n,className:Ye(i),pageTag:t.pageTag||"div"}},Je.view=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.pageId,r=i.pageSizes[n]||0,o=0;i.pageSize&&(o=i.pageSize(t.content()),i.updatePageSize(n,o));var a=o?o+"px":!i.autoSize||i.isScrolling&&r?r+"px":"auto",l=i.processPageData||function(e,t){return e?e.map(function(e,n){return i.item(e,t,n)}):null};return e(t.pageTag,{"data-page":n,class:t.className,style:r?qe({},"x"===i.axis?{width:a}:{height:a}):{},config:o?null:function(t){var o=Xe(t,i.axis);o&&i.updatePageSize(n,o),r||setTimeout(e.redraw,0)}},l(t.content(),i))};var Ge={};Ge.controller=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{className:Ye(e.pageNum)}},Ge.view=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.pageId,r=i.pageSizes[n]||0;return e("div",{"data-page":n,class:t.className,style:qe({},"x"===i.axis?{width:r+"px"}:{height:r+"px"})})};var Qe,et=new K,tt=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];it(e);var r=document.createElement("style");e&&r.setAttribute("id",e),i.forEach(function(e){Object.keys(e).length&&e.forEach(function(e){var t={"@global":e},i=et.sheet(t);r.appendChild(document.createTextNode(i))})}),document.head.appendChild(r)},it=function(e){if(e){var t=document.getElementById(e);t&&t.parentNode.removeChild(t)}},nt=[Be({},"."+Ue.scrollView,(Qe={"-webkit-overflow-scrolling":"touch",height:"100%"},Be(Qe,"&."+Ue.scrollViewY,Be({overflowX:"hidden",overflowY:"auto",height:"100%"}," ."+Ue.scrollContent,{height:"100%"})),Be(Qe,"&."+Ue.scrollViewX,Be({overflowX:"auto",overflowY:"hidden",width:"100%"}," ."+Ue.scrollContent,{width:"100%"})),Qe))];tt("mithril-infinite",nt);var rt=200,ot="000000",at=function(e){return ot.substring(0,ot.length-(""+e).length)+e},lt=function(e,t){for(var i=t.sortedKeys,n=t.beforeSize||0,r=1,o=0;o<i.length;o+=1){var a=i[o];e>n&&(r=parseInt(a,10)),n+=t.pageSizes[a]}return r},st=function(e,t,i){var n=Math.max(0,e-1);if(t<n)return 0;var r=t,o=i.sortedKeys.slice(n,r),a=i.beforeSize||0;return a=o.reduce(function(e,t){return e+=i.pageSizes[t]||0},a),a+=i.afterSize||0},ct=function(e,t,i,n){if(!n)return!1;var r=at(e),o=n.querySelector('[data-page="'+r+'"]');return Le({el:o,axis:t})},ut=function(e){return function(t,i){return e.state.pageSizes[t]=i,e.state.sortedKeys=Object.keys(e.state.pageSizes).sort()}},ft={};ft.controller=function(e){var t="x"===e.axis?"scrollLeft":"scrollTop",i=void 0!==e.maxPages?e.maxPages:Number.MAX_VALUE,n=void 0===e.autoSize||e.autoSize!==!1,r=void 0!==e.throttle?1e3*e.throttle:rt,o=e.contentTag||"div";return{state:{pageSizes:{},sortedKeys:[],beforeSize:null,afterSize:null},scrollView:null,isScrolling:!1,scrollWatchScrollingStateId:null,scrollWatchUpdateStateId:null,preloadSlots:e.preloadPages||1,boundingClientRect:{},currentPageNum:0,scrollAmount:0,whichScroll:t,maxPages:i,autoSize:n,scrollThrottle:r,contentTag:o}},ft.view=function(t,i){var n=t.state;t.scrollAmount=t.scrollView?t.scrollView[t.whichScroll]:0;var r=i.currentPage?parseInt(i.currentPage,10):lt(t.scrollAmount,n);r!==t.currentPageNum&&i.pageChange&&i.pageChange(r),t.currentPageNum=r,t.scrollView&&i.getDimensions&&i.getDimensions({scrolled:t.scrollAmount,size:t.contentSize});for(var o=i.from?parseInt(i.from,10):i.currentPage?i.currentPage:1,a=i.to?parseInt(i.to,10):i.currentPage?i.currentPage:t.maxPages,l=[],s=[],c=-t.preloadSlots;c<=t.preloadSlots;c+=1){var u=r+c;u>=o&&u<=a&&l.push(u)}for(var f=1;f<l[0];f+=1)s.push(f);var p=[Ue.scrollView,"x"===i.axis?Ue.scrollViewX:Ue.scrollViewY,i.class].join(" ");t.contentSize=st(1,a,n);var d=!a||ct(a,i.axis,n,t.scrollView);if(t.scrollView){var g=t.scrollView.getBoundingClientRect();t.boundingClientRect=t.boundingClientRect||g,g.width===t.boundingClientRect.width&&g.height===t.boundingClientRect.height||(t.preloadSlots=i.preloadPages||1),t.boundingClientRect=g;var h=i.maxPreloadPages||Number.MAX_VALUE;t.contentSize&&t.preloadSlots<l.length&&t.preloadSlots<=h&&t.contentSize<g.height&&(t.preloadSlots++,setTimeout(e.redraw,0))}return e("div",{config:function(n,r,o){if(!r){if(i.scrollView?t.scrollView=document.querySelector(i.scrollView):t.scrollView=n,t.scrollView.className+=" "+p,i.setDimensions){var a=i.setDimensions(),l="x"===i.axis?"width":"height";a.size>0&&(n.style[l]=a.size+"px"),t.scrollView[t.whichScroll]=a.scrolled}var s=function(){t.isScrolling=!0,clearTimeout(t.scrollWatchScrollingStateId),t.scrollWatchScrollingStateId=setTimeout(function(){t.isScrolling=!1,e.redraw()},t.scrollThrottle),t.scrollWatchUpdateStateId||(t.scrollWatchUpdateStateId=setTimeout(function(){e.redraw(),t.scrollWatchUpdateStateId=null},t.scrollThrottle))};t.scrollView.addEventListener("scroll",s),o.onunload=function(){t.scrollView.removeEventListener("scroll",s)}}}},e("div",{class:Ue.scrollContent,style:t.autoSize?qe({},"x"===i.axis?{width:t.contentSize+"px"}:{height:t.contentSize+"px"},i.contentSize?"x"===i.axis?{"min-width":i.contentSize+"px"}:{"min-height":i.contentSize+"px"}:{}):{}},[e(t.contentTag,{class:Ue.content},[i.before?e("div",{class:Ue.before,config:function(e){var t=Xe(e,i.axis);t&&(n.beforeSize=t)}},i.before):null,e("div",{class:Ue.pages},[s.map(function(t){return e(Ge,qe({},i,{pageNum:t,pageId:at(t),pageSizes:n.pageSizes}))}),l.map(function(r){return e(Je,qe({},i,{pageNum:r,pageId:at(r),isScrolling:t.isScrolling,pageSizes:n.pageSizes,updatePageSize:ut(t),autoSize:t.autoSize}))})]),i.after&&t.contentSize?e("div",{class:Ue.after,style:{visibility:d?"visible":"hidden"},config:function(e){var t=Xe(e,i.axis);t&&(n.afterSize=t)}},i.after):null])]))},ft.isElementInViewport=Le;var pt="56px",dt="40px",gt=[{".mithril-infinite__scroll-view.images":{margin:"0 auto",background:"#fff"," .mithril-infinite__scroll-content":{" .mithril-infinite__before, .mithril-infinite__after":{" .list-item":{padding:"20px 70px 20px "+pt,fontSize:"16px",minHeight:"60px"}}," .mithril-infinite__page":{minHeight:"400px"}," .mithril-infinite__page + .mithril-infinite__page":{borderTop:"1px solid #ddd"}," .mithril-infinite__page--odd":{backgroundColor:"#f0f0f0"," .list-item + .list-item":{borderTop:"1px solid #ddd"}}," .mithril-infinite__page--even":{"background-color":"#e0e0e0",
" .list-item + .list-item":{borderTop:"1px solid #ccc"}}," .list-item":{position:"relative",display:"block",cursor:"pointer",".open":{height:"160px"},".closed":{height:"auto"}," .image":{display:"block",height:"100%",position:"absolute",left:pt,top:0,backgroundSize:"contain",backgroundRepeat:"no-repeat"}," .pageNum, .toggle":{position:"absolute",top:"8px",display:"block",color:"#222",width:dt,height:dt,textAlign:"center",lineHeight:dt}," .pageNum":{left:"4px",fontSize:"13px",color:"#999"}," .toggle":{right:"10px",backgroundColor:"#fff"}}}}}];Se("images",gt);var ht="http://arthurclemens.github.io/assets/mithril-infinite-scroll/thumbs/",mt={expanded:{},dirty:{},toggle:function(e){mt.expanded[e]?delete mt.expanded[e]:mt.expanded[e]=1,mt.dirty[e]=1},isExpanded:function(e){return mt.expanded[e]},isDirty:function(e){return mt.dirty[e]},clearDirty:function(e){return delete mt.dirty[e]}},xt=function(t,i){var n=i.pageNum+t.src,r=mt.isExpanded(n),o=mt.isDirty(n),a=r?.5:.25;return e("a.list-item",{style:{height:parseFloat(t.height)*a+"px"},onclick:function(){mt.toggle(n)}},[e("span.pageNum",i.pageNum),e(".image",{style:{height:parseFloat(t.height)*a+"px",width:parseFloat(t.width)*a+"px"},config:function(e,i,r){if((!r.inited||o)&&ft.isElementInViewport({el:e})){var a=ht+t.src;e.style.backgroundImage=e.style.backgroundImage="url("+a+")",r.inited=!0,mt.clearDirty(n)}}}),e(".toggle",r?e.trust("&#150;"):e.trust("&#43;"))])},bt={view:function(){return e(ft,{maxPages:20,item:xt,pageUrl:function(e){return"data/images/page-"+e+".json"},preloadPages:3,class:"images",before:e("a",{class:["list-item",mt.isExpanded("before")?"open":"closed"].join(" "),onclick:function(){mt.toggle("before")}},[e("div",e.trust('A list of pugs. Courtesy the <a href="http: //airbnb.io/infinity/demo-off.html">AirBnb Infinity demo</a>.')),e(".toggle",mt.isExpanded("before")?e.trust("&#150;"):e.trust("&#43;"))]),after:je(),pageChange:function(e){console&&console.log("page",e)}})}},vt=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},wt=8,yt=210,_t=yt+"px",St=10,zt=St+"px",kt=function(e,t){return vt({},"@media ("+e+"-width: "+((t+1)*yt+t*wt)+"px)",{".mithril-infinite__scroll-view.grid":{" .mithril-infinite__scroll-content":{" .mithril-infinite__content":{width:t*yt+(t-1)*wt+"px"}}}})},Pt=[kt("min",4),kt("max",4),kt("max",3),kt("max",2),kt("max",1),{".mithril-infinite__scroll-view.grid":{margin:"0 auto"," .mithril-infinite__scroll-content":{padding:2*wt+"px 0"," .mithril-infinite__content":{margin:"0 auto",fontSize:0,lineHeight:0," .mithril-infinite__page":{margin:"0 "+-wt/2+"px"}," .grid-item":{display:"inline-block",height:_t,width:_t,backgroundColor:"#f0f0f0",margin:[0,wt/2,wt,wt/2].map(function(e){return e+"px"}).join(" ")," .image-holder":{height:yt-2*St+"px",width:yt-2*St+"px",overflow:"hidden",position:"relative",margin:zt," .image":{position:"absolute",left:"auto",top:0,right:"auto",bottom:0,width:"100%",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPositionX:"50%",opacity:0,transition:"opacity .7s"}}}}}}}];Se("grid",Pt);var At="http://arthurclemens.github.io/assets/mithril-infinite-scroll/thumbs/",jt=function(e,t){var i=At+t,n=function(){e.style.backgroundImage="url("+i+")",e.style.opacity=1},r=new Image;r.onload=function(){n()},r.src=i},Ct=function(t){return e("a.grid-item",e(".image-holder",e(".image",{config:function(e,i,n){n.inited||ft.isElementInViewport({el:e})&&(jt(e,t.src),n.inited=!0)}})))},Et={view:function(){return e(ft,{maxPages:16,preloadPages:3,item:Ct,pageUrl:function(e){return"data/grid/page-"+e+".json"},class:"grid",pageChange:function(e){console&&console.log("page",e)},after:je()})}},Rt=[{".mithril-infinite__scroll-view.table":{minWidth:"320px",margin:"0 auto",background:"#eee"," .mithril-infinite__scroll-content":{" .mithril-infinite__page":{display:"table",width:"100%"}," .mithril-infinite__page--odd":{backgroundColor:"#e4e4e4"," .list-item":{" > div":{color:"rgba(0,0,0,.87)",borderBottom:"1px solid rgba(0, 0, 0, .07)",":first-child":{color:"rgba(0,0,0,.54)"}}}}," .mithril-infinite__page--even":{"background-color":"#f0f0f0"}," .list-item":{width:"100%",display:"table-row"," > div":{borderBottom:"1px solid rgba(0, 0, 0, .07)",display:"table-cell",verticalAlign:"top",padding:"8px 16px",minHeight:"1em",width:"90%",":first-child":{color:"#aaa",width:"10%",textAlign:"right"}}}}}}];Se("table",Rt);var It=function(t,i){return e(".list-item",[e("div",i.pageNum),e("div",t||e.trust("&nbsp;"))])},Vt={view:function(){return e(ft,{maxPages:10,item:It,pageUrl:function(e){return"data/table/page-"+e+".json"},class:"table",pageChange:function(e){console&&console.log("page",e)},after:je()})}},Nt=[{".mithril-infinite__scroll-view.short":{minWidth:"320px",margin:"0 auto",background:"#eee"," .mithril-infinite__scroll-content":{" .list-item":{height:"8px",".has-title":{fontSize:"18px",padding:"0 16px",height:"32px",lineHeight:"32px",color:"#222"}}}}}];Se("short",Nt);var Ot=function(t){var i=t[1]||"transparent",n=t[1]?"":e(".title",t[0]);return e(".list-item",{class:n?"has-title":"",style:{"background-color":i}},n)},$t={view:function(){return e(ft,{item:Ot,maxPages:21,preloadSlots:10,pageUrl:function(e){return"data/short/page-"+e+".json"},class:"short",pageChange:function(e){console&&console.log("page",e)}})}},Tt=8,Zt=210,Ht=Zt+"px",Dt=10,Mt=Dt+"px",Wt=[{".mithril-infinite__scroll-view.horizontal":{margin:0,height:Zt+20+"px",background:"#fff"," .mithril-infinite__scroll-content":{padding:0,margin:0,fontSize:0," .mithril-infinite__content, .mithril-infinite__padding-before, .mithril-infinite__padding-after":{display:"inline-block"}," .mithril-infinite__content":{margin:0,fontSize:0," .mithril-infinite__page":{display:"inline-block",height:Ht}," .grid-item":{display:"inline-block",height:Ht,width:Ht,backgroundColor:"#f0f0f0",margin:"0 "+Tt/2+"px"," .image-holder":{height:Zt-2*Dt+"px",width:Zt-2*Dt+"px",overflow:"hidden",position:"relative",margin:Mt," .image":{position:"absolute",left:"auto",top:0,right:"auto",bottom:0,width:"100%",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPositionX:"50%",opacity:0,transition:"opacity .7s"}}}}}}}];Se("horizontal",Wt);var Ut="http://arthurclemens.github.io/assets/mithril-infinite-scroll/thumbs/",Ft=function(e,t){var i=Ut+t,n=function(){e.style.backgroundImage="url("+i+")",e.style.opacity=1},r=new Image;r.onload=function(){n()},r.src=i},Xt=function(t){return e("a.grid-item",e(".image-holder",e(".image",{config:function(e,i,n){n.inited||ft.isElementInViewport({el:e})&&(Ft(e,t.src),n.inited=!0)}})))},Lt={view:function(){return[e(ft,{maxPages:16,item:Xt,pageUrl:function(e){return"data/horizontal/page-"+e+".json"},class:"horizontal",axis:"x",pageSize:function(e){return 218*(e.length||12)},pageChange:function(e){console&&console.log("page",e)}}),je()]}},Yt=[{".mithril-infinite__scroll-view.table.fixed":{" .mithril-infinite__scroll-content":{" .mithril-infinite__page":{" .list-item":{maxHeight:"36px"}}," .github":{height:"133px"}}}}];Se("fixed",Yt);var Bt=20,qt=20,Kt=37,Jt=133,Gt=function(t,i){return e(".list-item",[e("div",i.pageNum),e("div",t||e.trust("&nbsp;"))])},Qt={controller:function(){return{scrollHeight:Bt*qt*Kt+Jt}},view:function(t){return e(ft,{maxPages:Bt,item:Gt,pageUrl:function(e){return"data/fixed/page-"+e+".json"},class:"table fixed",pageSize:function(){return qt*Kt},contentSize:t.scrollHeight,after:je()})}},ei=8,ti=320,ii=(320-2*ei)/3,ni=10,ri=ni+"px",oi=[{".paging":{width:ti+"px",margin:"0 auto"," .mithril-infinite__scroll-view.mithril-infinite__scroll-view--y":{height:4*ii+3*ei+2*ei+"px"}," .mithril-infinite__scroll-content":{margin:"0 auto",width:ti+"px",padding:ei+"px 0 0"," .mithril-infinite__content":{margin:"0 auto",fontSize:0,lineHeight:0," .mithril-infinite__page":{margin:"0 "+-ei/2+"px"}," .grid-item":{display:"inline-block",height:ii+"px",width:ii+"px",backgroundColor:"#f0f0f0",margin:[0,ei/2,ei,ei/2].map(function(e){return e+"px"}).join(" ")," .image-holder":{height:ii-2*ni+"px",width:ii-2*ni+"px",overflow:"hidden",position:"relative",margin:ri," .image":{position:"absolute",left:"auto",top:0,right:"auto",bottom:0,width:"100%",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPositionX:"50%"}}}}}," .count":{fontSize:"14px",lineHeight:1,padding:"20px 0 10px 0",borderBottom:"1px solid #ddd"}," .pager":{borderTop:"1px solid #ddd",padding:"8px 0",width:ti+"px"," a":{display:"inline-block",background:"#e0e0e0",color:"#333",padding:"10px 15px",textAlign:"center",fontSize:"15px",lineHeight:1,margin:"0 5px 0 0","&.disabled":{color:"#aaa",background:"#f4f4f4",pointerEvents:"none"}}}}}];Se("paging",oi);var ai="http://arthurclemens.github.io/assets/mithril-infinite-scroll/thumbs/",li=function(t){return e("a.grid-item",e(".image-holder",e(".image",{config:function(e,i,n){n.inited||(e.style.backgroundImage="url("+ai+t.src+")")}})))},si=function(t){return e.request({method:"GET",url:"data/grid/page-"+t+".json"})},ci={};ci.controller=function(){var t=0,i=e.route.param("page")?parseInt(e.route.param("page"),10):1,n=function(e){return si(e).then(function(e){return t=e.length,e})};return{pageData:n,pageNum:i,hasPrev:function(){return i>1},hasNext:function(){return i!==t}}},ci.view=function(t){var i=e.route.param("page")?parseInt(e.route.param("page"),10):t.pageNum;return e("div",[e(".paging",[e(".count","Page "+i),e(ft,{item:li,pageData:t.pageData,pageChange:function(e){return t.pageNum=e},currentPage:i,autoSize:!1}),e(".pager",[e("a",{class:t.hasPrev()?"":"disabled",href:"/paging?page="+(i-1),config:e.route},"Prev"),e("a",{class:t.hasNext()?"":"disabled",href:"/paging?page="+(i+1),config:e.route},"Next")])]),je()])};var ui=[{" *":{"box-sizing":"border-box"}," html, body, #app":{minHeight:"100%",height:"100%"}," body":{margin:0,padding:0,fontFamily:"arial, sans-serif",minWidth:ke.size_px}," h1":{display:"block",margin:"40px auto 0 auto",width:"320px",textAlign:"center",fontSize:"28px",fontWeight:"normal",color:ke.text_color}," a":{"&:link, &:visited":{color:"#1E88E5",textDecoration:"none"}}}],fi="#90A4AE",pi="#CFD8DC",di="rgba(0,0,0,.85)",gi="rgba(0,0,0,.4)",hi=ke.size_px,mi=[{".index":{" h1":{display:"block",margin:"40px auto 0 auto",width:ke.size+"px",textAlign:"center",fontSize:"28px",fontWeight:"normal",color:ke.text_color}," .menu":{width:hi,margin:"20px auto",padding:"0 0 20px 0",listStyle:"none"," li":{margin:"0 0 1px 0",padding:0,"&.header":{fontSize:"18px",color:fi},"&.header, a":{padding:"20px"}," a":{display:"block",textDecoration:"none",backgroundColor:pi," .title":{display:"block",color:di,fontSize:"18px",lineHeight:"25.2px"}," .subtitle":{display:"block",color:gi,fontSize:"14px"}}}}}}];Se("common",ui),Se("index",mi);var xi=500,bi=[{href:"/images",title:"Images",subtitle:"200 images of various heights"},{href:"/grid",title:"Image grid",subtitle:"Responsive grid with 1, 2, 3 and 4 columns"},{href:"/table",title:"Data table",subtitle:"Table rows of various heights"},{href:"/short",title:"Short content",subtitle:"Automatically finds loadable space"},{href:"/horizontal",title:"Horizontal",subtitle:"Horizontal scroller"},{href:"/fixed",title:"Fixed height",subtitle:'Preset the scroll height, don"t update scroll height'},{href:"/paging",title:"Paging",subtitle:"Prev/Next buttons instead of infinite scroll"}],vi=e("ul.menu",[e("li.header","Examples"),bi.map(function(t){return e("li",e("a",{href:t.href,config:e.route},[e("span.title",t.title),e("span.subtitle",t.subtitle)]))})]),wi={};wi.view=function(){return e(".index",[e("h1","Infinite Scroll for Mithril"),vi,je({home:!0})])},e.route.mode="hash";var yi=document.querySelector("#app");e.route(yi,"/",{"/":wi,"/images":bt,"/grid":Et,"/table":Vt,"/short":$t,"/horizontal":Lt,"/fixed":Qt,"/paging":ci});var _i=0;window.onresize=function(){clearTimeout(_i),_i=setTimeout(e.redraw,xi)}});
//# sourceMappingURL=examples.js.map
