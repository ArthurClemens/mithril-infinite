!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(this,function(){"use strict";function e(e,t){return t={exports:{}},e(t,t.exports),t.exports}function t(){M=getComputedStyle(document.documentElement,null),V=document.createElement("div").style,$=document.documentElement.appendChild(document.createElement("style")),U=o,H=l,"zIndex"in V&&!("z-index"in V)&&(U=function(e,t){return o(i(e),t)},H=function(e){return l(i(e))})}function n(){"undefined"!=typeof document&&document.documentElement.removeChild($),M=$=null}function i(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}).replace("-","")}function r(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}function o(e,t){return V[e]="",V[e]=t,!!V[e]}function a(e){return $.textContent="@media ("+e+"){}",!/^@media(?:\s+not)?\s+all/.test($.sheet.cssRules[0].cssText)}function l(e){return e in V}function s(e){return $.textContent=e+"{}",!!$.sheet.cssRules.length}function u(e){if(""!==e.prefix){var t={keyframes:"name",viewport:null,document:'regexp(".")'};for(var n in t){var i=n+" "+(t[n]||"");!s("@"+i)&&s("@"+e.prefix+i)&&(e.hasAtrules=!0,e.atrules["@"+n]="@"+e.prefix+n)}e.hasDppx=a("resolution:1dppx"),e.hasPixelRatio=a(e.prefix+"device-pixel-ratio:1"),e.hasPixelRatioFraction=a(e.prefix+"device-pixel-ratio:1/1"),(e.hasPixelRatio||e.hasPixelRatioFraction)&&(e.properties.resolution=e.prefix+"device-pixel-ratio",e.properties["min-resolution"]=e.prefix+"min-device-pixel-ratio",e.properties["max-resolution"]=e.prefix+"max-device-pixel-ratio",a("min-"+e.prefix+"device-pixel-ratio:1")&&(e.properties["min-resolution"]="min-"+e.prefix+"device-pixel-ratio",e.properties["max-resolution"]="max-"+e.prefix+"device-pixel-ratio"))}}function c(e){if(""!==e.prefix){var t={"linear-gradient":{property:"background-image",params:"red, teal"},calc:{property:"width",params:"1px + 5%"},element:{property:"background-image",params:"#foo"},"cross-fade":{property:"backgroundImage",params:"url(a.png), url(b.png), 50%"}};t["repeating-linear-gradient"]=t["repeating-radial-gradient"]=t["radial-gradient"]=t["linear-gradient"];for(var n in t){var i=t[n],r=i.property,o=n+"("+i.params+")";!U(r,o)&&U(r,e.prefix+o)&&e.functions.push(n)}}}function f(e){if(""!==e.prefix){for(var t=0;t<Z.length;t++){for(var n,i={},r=Z[t].props[0],o=0;n=Z[t].values[o];o++)!U(r,n)&&U(r,e.prefix+n)&&(e.hasKeywords=!0,i[n]=e.prefix+n);for(o=0;r=Z[t].props[o];o++)e.keywords[r]=i}if(e.keywords.display&&e.keywords.display.flexbox&&!U("display","flex")){e.keywords.display.flex=e.keywords.display.flexbox,e.keywords.display["inline-flex"]=e.keywords.display["inline-flexbox"];for(var a in K)e.properties[a]=K[a],e.keywords[a]=Y}else if(e.keywords.display&&e.keywords.display.box&&!U("display","flex")){e.keywords.display.flex=e.keywords.display.box,e.keywords.display["inline-flex"]=e.keywords.display["inline-box"],e.flexbox2009=!0;for(a in B)e.properties[a]=e.prefix+B[a],e.keywords[a]=J}!U("color","initial")&&U("color",e.prefix+"initial")&&(e.initial=e.prefix+"initial")}}function d(e){function t(e){if("-"===e.charAt(0)){var t=e.split("-")[1];n[t]=++n[t]||1}}var n={};if(M&&M.length>0)for(var o=0;o<M.length;o++)t(M[o]);else for(var a in M)t(r(a));var l=0;for(var s in n)l<n[s]&&(l=n[s],e.prefix="-"+s+"-");e.Prefix=i(e.prefix)}function p(e){function t(t){return t.replace(/^::?/,function(t){return t+e.prefix})}var n,i;if(""!==e.prefix){var r={":any-link":":any-link",":read-only":":read-only",":read-write":":read-write","::selection":"::selection",":fullscreen":":fullscreen",":full-screen":":fullscreen","::backdrop":"::backdrop",":placeholder":"::placeholder","::placeholder":"::placeholder",":input-placeholder":"::placeholder","::input-placeholder":"::placeholder"};for(n in r)i=t(n),!s(n)&&s(i)&&(e.hasSelectors=!0,e.selectorList.push(r[n]),e.selectorMap[r[n]]=i)}}function g(){return{atrules:{},hasAtrules:!1,hasDppx:null,hasKeywords:!1,hasPixelRatio:!1,hasPixelRatioFraction:!1,hasSelectors:!1,hasValues:!1,fixAtMediaParams:null,fixAtSupportsParams:null,fixProperty:null,fixSelector:null,fixValue:null,flexbox2009:!1,functions:[],initial:null,keywords:{},placeholder:null,prefix:"",Prefix:"",properties:{},selectorList:[],selectorMap:{},valueProperties:{transition:1,"transition-property":1,"will-change":1}}}function h(e){t(),d(e),p(e),u(e),f(e),c(e),n()}function m(e){for(var t,n=[],i=[],r=0;t=Q.exec(e);)switch(t[0]){case"(":r++;break;case")":r--;break;case",":if(r)break;n.push(t.index)}for(t=n.length;t--;)i.unshift(e.slice(n[t]+1)),e=e.slice(0,n[t]);return i.unshift(e),i}function v(e,t,n){return new RegExp(e+"(?:"+t.join("|")+")"+n)}function x(e,t,n){return new RegExp("\"(?:\\\\[\\S\\s]|[^\"])*\"|'(?:\\\\[\\S\\s]|[^'])*'|\\/\\*[\\S\\s]*?\\*\\/|"+e+"((?:"+t.join("|")+"))"+n,"gi")}function y(e){function t(e,t,n){return t+i+n}function n(t,n,i){return"("+(e.properties[n]||e.fixProperty(n))+":"+e.fixValue(i,n)}var i=e.prefix;e.fixProperty=e.fixProperty||function(t){var n;return e.properties[t]=H(t)||!H(n=i+t)?t:n};var r=v("",e.selectorList,"(?:\\b|$|[^-])"),o=x("",e.selectorList,"(?:\\b|$|[^-])"),a=function(t,n){return null!=n?e.selectorMap[n]:t};e.fixSelector=function(e){return r.test(e)?e.replace(o,a):e};var l=e.functions.indexOf("linear-gradient")>-1,s=/\blinear-gradient\(/,u=/(^|\s|,|\()((?:repeating-)?linear-gradient\()\s*(-?\d*\.?\d*)deg/gi,c=function(e,t,n,i){return t+n+(90-i)+"deg"},f=!!e.functions.length,d=v("(?:^|\\s|,|\\()",e.functions,"\\s*\\("),p=x("(^|\\s|,|\\()",e.functions,"(?=\\s*\\()"),g=/^\s*([-\w]+)/gi,h=function(t,n){return e.properties[n]||e.fixProperty(n)};e.fixValue=function(n,i){var r;return null!=e.initial&&"initial"===n?e.initial:e.hasKeywords&&(r=(e.keywords[i]||G)[n])?r:(r=n,e.valueProperties.hasOwnProperty(i)&&(r=n.indexOf(",")===-1?n.replace(g,h):m(n).map(function(e){return e.replace(g,h)}).join(",")),f&&d.test(n)&&(l&&s.test(n)&&(r=r.replace(u,c)),r=r.replace(p,t)),r)};var y=/((?:min-|max-)?resolution)\s*:\s*((?:\d*.)?\d+)dppx/g,b=e.hasPixelRatio?function(t,n,i){return e.properties[n]+":"+i}:e.hasPixelRatioFraction?function(t,n,i){return e.properties[n]+":"+Math.round(10*i)+"/10"}:function(e,t,n){return t+":"+Math.round(96*n)+"dpi"};e.fixAtMediaParams=e.hasDppx!==!1?function(e){return e}:function(e){return e.indexOf("reso")!==-1?e.replace(y,b):e};var w=/\(\s*([-\w]+)\s*:\s*((?:"(?:\\[\S\s]|[^"])*"|'(?:\\[\S\s]|[^'])*'|\/\*[\S\s]*?\*\/|\((?:"(?:\\[\S\s]|[^"])*"|'(?:\\[\S\s]|[^'])*'|\/\*[\S\s]*?\*\/|\((?:"(?:\\[\S\s]|[^"])*"|'(?:\\[\S\s]|[^'])*'|\/\*[\S\s]*?\*\/|\((?:"(?:\\[\S\s]|[^"])*"|'(?:\\[\S\s]|[^'])*'|\/\*[\S\s]*?\*\/|\((?:"(?:\\[\S\s]|[^"])*"|'(?:\\[\S\s]|[^'])*'|\/\*[\S\s]*?\*\/|\([^\)]*\)|[^\)])*\)|[^\)])*\)|[^\)])*\)|[^\)])*\)|[^\)])*)/g;e.fixAtSupportsParams=function(e){return e.replace(w,n)}}function b(){L=g(),"function"==typeof getComputedStyle&&h(L),y(L)}function w(e){var t=L,n=[];return e&&(e.setPrefixDb=function(e){return n.indexOf(e)===-1&&(y(e),n.push(e)),t=e,w}),{$filter:function(e){return{atrule:function(n,i,r,o){e.atrule(t.hasAtrules&&t.atrules[n]||n,i,"@media"===n?t.fixAtMediaParams(r):"@supports"===n?t.fixAtSupportsParams(r):r,o)},decl:function n(i,r){return!i||"string"!=typeof r&&"number"!=typeof r?e.decl(t.properties[i]||t.fixProperty(i),r):(r+="",void("flex-flow"===i&&t.flexbox2009?r.split(" ").forEach(function(e){e.indexOf("wrap")>-1?n("flex-wrap",e):""!==e&&n("flex-direction",e)}):"flex-direction"===i&&t.flexbox2009?(e.decl(t.properties["box-orient"],r.indexOf("column")>-1?"block-axis":"inline-axis"),e.decl(t.properties["box-direction"],r.indexOf("-reverse")>-1?"reverse":"normal")):e.decl(t.properties[i]||t.fixProperty(i),t.fixValue(r,i))))},rule:function(n){e.rule(t.hasSelectors?t.fixSelector(n):n)}}}}}function S(e,t){for(var n in t)le.call(t,n)&&(!n.indexOf("$")||n in e||(e[n]=t[n]));return e}function _(e,t){var n,i,r=[];for(i in t)if(le.call(t,i))for(n in e)le.call(e,n)&&r.push(e[n]+t[i]);return r}function k(e){for(var t,n=[],i=[],r=0;t=ue.exec(e);)switch(t[0]){case"(":r++;break;case")":r--;break;case",":if(r)break;n.push(t.index)}for(t=n.length;t--;)i.unshift(e.slice(n[t]+1)),e=e.slice(0,n[t]);return i.unshift(e),i}function z(e,t){for(var n,i,r=[],o=[];i=ce.exec(e);)"&"==i[0]&&r.push(i.index);for(i=r.length;i--;)o.unshift(e.slice(r[i]+1)),e=e.slice(0,r[i]);for(o.unshift(e),1===o.length&&o.unshift(""),n=[o[0]],i=1;i<o.length;i++)n=_(n,_(t,[o[i]]));return n.join(",")}function C(e){return function t(n){if(ne.call(n)===ie)for(var i=0;i<n.length;i++)t(n[i]);else e(n)}}function P(e){return"-"+e.toLowerCase()}function A(e,t,n,i,r){var o,a,l;if(null!=i)switch(ne.call(i=i.valueOf())){case ie:for(o=0;o<i.length;o++)A(e,t,n,i[o],r);break;case re:n=n&&n+"-";for(o in i)if(le.call(i,o))if(a=i[o],/\$/.test(o))for(l in o=o.split("$"))le.call(o,l)&&A(e,t,n+o[l],a,r);else A(e,t,n+o,a,r);break;default:o=n.replace(/_/g,"-").replace(/[A-Z]/g,P),!r||"animation-name"!=o&&"animation"!=o&&"list-style"!=o||(i=i.split(",").map(function(t){return t.replace(/^\s*(?:(var\([^)]+\))|:?global\(\s*([_A-Za-z][-\w]*)\s*\)|()(-?[_A-Za-z][-\w]*))/,e.localizeReplacer)}).join(",")),t.decl(o,i)}}function E(e,t,n,i,r,o,a){for(var l=0;l<e.$atHandlers.length;l++)if(e.$atHandlers[l](e,t,n,i,r,o,a))return;if(!n[3]&&/^global$/.test(n[2]))N(e,t,r,i,0,a);else if(!n[3]&&/^local$/.test(n[2]))N(e,t,r,i,1,a);else if(n[3]&&/^adopt$/.test(n[2])){if(!o||a)return t.err("@adopt global or nested: "+n[0]);if(!/^\.?[_A-Za-z][-\w]*$/.test(n[3]))return t.err("bad adopter "+JSON.stringify(n[3])+" in "+n[0]);l=[],C(function(e,i){null!=e&&/^\.?[_A-Za-z][-\w]*(?:\s+\.?[_A-Za-z][-\w]*)*$/.test(i=e+"")?l.push(i.replace(/\./g,"")):t.err("bad adoptee "+JSON.stringify(e)+" in "+n[0])})(i),l.length&&(e.localize(n[3]=n[3].replace(/\./g,"")),e.names[n[3]]+=" "+l.join(" "))}else!n[3]&&/^(?:namespace|import|charset)$/.test(n[2])?C(function(e){t.atrule(n[1],n[2],e)})(i):!n[3]&&/^(?:font-face|viewport)$/.test(n[2])?C(function(i){t.atrule(n[1],n[2],n[3],1),A(e,t,"",i,o),t._atrule()})(i):n[3]&&/^(?:media|supports|page|keyframes)$/.test(n[2])?(o&&"keyframes"==n[2]&&(n[3]=n[3].replace(/(var\([^)]+\))|:?global\(\s*([_A-Za-z][-\w]*)\s*\)|()(-?[_A-Za-z][-\w]*)/,e.localizeReplacer)),t.atrule(n[1],n[2],n[3],1),"page"==n[2]?A(e,t,"",i,o):N(e,t,"keyframes"==n[2]?"":r,i,o,a+1),t._atrule()):t.err("Unsupported at-rule: "+n[0])}function N(e,t,n,i,r,o){var a,l,s,u;switch(ne.call(i)){case re:for(a in i)if(le.call(i,a))if(l=i[a],n.length>0&&/^[-\w$]+$/.test(a))if(s||(s=1,t.rule(n)),/\$/.test(a))for(u in a=a.split("$"))le.call(a,u)&&A(e,t,a[u],l,r);else A(e,t,a,l,r);else/^@/.test(a)?(s=0,E(e,t,/^(.(?:-[\w]+-)?([_A-Za-z][-\w]*))\b\s*(.*?)\s*$/.exec(a)||[a,"@","",""],l,n,r,o)):(s=0,N(e,t,n.length>0&&(/,/.test(n)||/,/.test(a))?(u=k(n),k(r?a.replace(/("(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\/)|:global\(\s*(\.-?[_A-Za-z][-\w]*)\s*\)|(\.)(-?[_A-Za-z][-\w]*)/g,e.localizeReplacer):a).map(function(e){return/&/.test(e)?z(e,u):u.map(function(t){return t+e}).join(",")}).join(",")):/&/.test(a)?z(r?a.replace(/("(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\/)|:global\(\s*(\.-?[_A-Za-z][-\w]*)\s*\)|(\.)(-?[_A-Za-z][-\w]*)/g,e.localizeReplacer):a,[n]):n+(r?a.replace(/("(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\/)|:global\(\s*(\.-?[_A-Za-z][-\w]*)\s*\)|(\.)(-?[_A-Za-z][-\w]*)/g,e.localizeReplacer):a),l,r,o+1));break;case ie:for(a=0;a<i.length;a++)N(e,t,n,i[a],r,o);break;case oe:n.length||t.err("No selector"),t.rule(n||" "),A(e,t,"",i,r)}}function j(e,t){var n;return t?e:{init:function(){n=0,e.init()},done:function(t){return n&&(e._rule(),n=0),e.done(t)},atrule:function(t,i,r,o){n&&(e._rule(),n=0),e.atrule(t,i,r,o)},_atrule:function(t){n&&(e._rule(),n=0),e._atrule(t)},rule:function(t){t!==n&&(n&&e._rule(),e.rule(t),n=t)}}}function T(e){return":global("+e+")"}function O(e,t,n){return n={},n[e]=t,n}function I(e,t,n){if(arguments.length<3){var i=I.bind.apply(I,[null].concat([].slice.call(arguments,0)));return i.toString=function(){return"@"+e+" "+t},i}return O("@"+e+" "+t,n)}function R(){function e(e){if(!f.length){a.push(function(e,t){return t?{init:o.init,decl:o.decl,done:o.done,err:o.err}:o});for(var t=0;t<2;t++)for(var n=a.length;n--;)f[t]=se(S(a[n](f[t],!!t),f[t]))}return f[e]}function t(e){return s.names[e]||(s.names[e]=e+s.suffix),s.names[e].match(/^\S+/)}function n(e,n,i,r,o){return n||i||r+t(o)}var i,r,o={init:function(){i=[],r=[]},done:function(e){if(0!=r.length)throw new Error("j2c error(s): "+JSON.stringify(r,null,2)+"in context:\n"+i.join(""));return e?i:i.join("")},err:function(e){r.push(e),i.push("/* +++ ERROR +++ "+e+" */\n")},atrule:function(e,t,n,r){i.push(e,n&&" ",n,r?" {":";",s.endline)},_atrule:function(){i.push("}",s.endline)},rule:function(e){i.push(e," {",s.endline)},_rule:function(){i.push("}",s.endline)},decl:function(e,t){i.push(e,e&&":",t,";",s.endline)}},a=[j],l=[],s={at:I,global:T,kv:O,names:{},endline:"\n",suffix:"__j2c-"+Math.floor(4294967296*Math.random()).toString(36)+"-"+Math.floor(4294967296*Math.random()).toString(36)+"-"+Math.floor(4294967296*Math.random()).toString(36)+"-"+Math.floor(4294967296*Math.random()).toString(36),$plugins:[],sheet:function(t){var n=e(0);return n.init(),N(u[0],n,"",t,1,0),n.done()},inline:function(t,n){var i=e(1);return i.init(),A(u[1],i,"",t,!(n&&n.global)),i.done()}},u=[{localizeReplacer:n,localize:t,names:s.names,$atHandlers:l,atrule:E,decl:A,rule:N},{localizeReplacer:n,localize:t,names:s.names,decl:A}],c=C(function(e){~s.$plugins.indexOf(e)||(s.$plugins.push(e),ne.call(e)===ae&&(e=e(s)),e&&(C(function(e){a.push(e)})(e.$filter||ee),C(function(e){l.push(e)})(e.$at||ee),S(s.names,e.$names||te),c(e.$plugins||ee),o=e.$sink||o,S(s,e)))}),f=[];return c(ee.slice.call(arguments)),s}function D(e,t){return t={exports:{}},e(t,t.exports),t.exports}var M,V,$,H,U,L,F="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},W=e(function(e){new function(){function t(e,t,n,i,r,o){return{tag:e,key:t,attrs:n,children:i,text:r,dom:o,domSize:void 0,state:{},events:void 0,instance:void 0,skip:!1}}function n(e){if(null==e||"string"!=typeof e&&"function"!=typeof e.view)throw Error("The selector must be either a string or a component.");if("string"==typeof e&&void 0===o[e]){for(var n,i,a=[],l={};n=r.exec(e);){var s=n[1],u=n[2];if(""===s&&""!==u)i=u;else if("#"===s)l.id=u;else if("."===s)a.push(u);else if("["===n[3][0]){var c=n[6];c&&(c=c.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===n[4]?a.push(c):l[n[4]]=c||!0}}a.length>0&&(l.className=a.join(" ")),o[e]=function(e,n){var r,o,a=!1,s=e.className||e.class;for(var u in l)e[u]=l[u];void 0!==s&&(void 0!==e.class&&(e.class=void 0,e.className=s),void 0!==l.className&&(e.className=l.className+" "+s));for(var u in e)if("key"!==u){a=!0;break}return Array.isArray(n)&&1==n.length&&null!=n[0]&&"#"===n[0].tag?o=n[0].children:r=n,t(i||"div",e.key,a?e:void 0,r,o,void 0)}}var f,d,p;if(null==arguments[1]||"object"===q(arguments[1])&&void 0===arguments[1].tag&&!Array.isArray(arguments[1])?(f=arguments[1],p=2):p=1,arguments.length===p+1)d=Array.isArray(arguments[p])?arguments[p]:[arguments[p]];else{d=[];for(var g=p;g<arguments.length;g++)d.push(arguments[g])}return"string"==typeof e?o[e](f||{},t.normalizeChildren(d)):t(e,f&&f.key,f||{},t.normalizeChildren(d),void 0,void 0)}function i(e){var t=16,n=0,i=null,r="function"==typeof requestAnimationFrame?requestAnimationFrame:setTimeout;return function(){var o=Date.now();0===n||o-n>=t?(n=o,e()):null===i&&(i=r(function(){i=null,e(),n=Date.now()},t-(o-n)))}}t.normalize=function(e){return Array.isArray(e)?t("[",void 0,void 0,t.normalizeChildren(e),void 0,void 0):null!=e&&"object"!==("undefined"==typeof e?"undefined":q(e))?t("#",void 0,void 0,e===!1?"":e,void 0,void 0):e},t.normalizeChildren=function(e){for(var n=0;n<e.length;n++)e[n]=t.normalize(e[n]);return e};var r=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,o={};n.trust=function(e){return null==e&&(e=""),t("<",void 0,void 0,e,void 0,void 0)},n.fragment=function(e,n){return t("[",e.key,e,t.normalizeChildren(n),void 0,void 0)};var a=n,l=function e(t){function n(e,t){return function n(l){var f;try{if(!t||null==l||"object"!==("undefined"==typeof l?"undefined":q(l))&&"function"!=typeof l||"function"!=typeof(f=l.then))c(function(){t||0!==e.length||console.error("Possible unhandled promise rejection:",l);for(var i=0;i<e.length;i++)e[i](l);o.length=0,a.length=0,u.state=t,u.retry=function(){n(l)}});else{if(l===r)throw new TypeError("Promise can't be resolved w/ itself");i(f.bind(l))}}catch(e){s(e)}}}function i(e){function t(e){return function(t){n++>0||e(t)}}var n=0,i=t(s);try{e(t(l),i)}catch(e){i(e)}}if(!(this instanceof e))throw new Error("Promise must be called with `new`");if("function"!=typeof t)throw new TypeError("executor must be a function");var r=this,o=[],a=[],l=n(o,!0),s=n(a,!1),u=r._instance={resolvers:o,rejectors:a},c="function"==typeof setImmediate?setImmediate:setTimeout;i(t)};if(l.prototype.then=function(e,t){function n(e,t,n,o){t.push(function(t){if("function"!=typeof e)n(t);else try{i(e(t))}catch(e){r&&r(e)}}),"function"==typeof a.retry&&o===a.state&&a.retry()}var i,r,o=this,a=o._instance,s=new l(function(e,t){i=e,r=t});return n(e,a.resolvers,i,!0),n(t,a.rejectors,r,!1),s},l.prototype.catch=function(e){return this.then(null,e)},l.resolve=function(e){return e instanceof l?e:new l(function(t){t(e)})},l.reject=function(e){return new l(function(t,n){n(e)})},l.all=function(e){return new l(function(t,n){var i=e.length,r=0,o=[];if(0===e.length)t([]);else for(var a=0;a<e.length;a++)!function(a){function l(e){r++,o[a]=e,r===i&&t(o)}null==e[a]||"object"!==q(e[a])&&"function"!=typeof e[a]||"function"!=typeof e[a].then?l(e[a]):e[a].then(l,n)}(a)})},l.race=function(e){return new l(function(t,n){for(var i=0;i<e.length;i++)e[i].then(t,n)})},"undefined"!=typeof window){"undefined"==typeof window.Promise&&(window.Promise=l);var l=window.Promise}else if("undefined"!=typeof F){"undefined"==typeof F.Promise&&(F.Promise=l);var l=F.Promise}var s=function(e){function t(e,i){if(Array.isArray(i))for(var r=0;r<i.length;r++)t(e+"["+r+"]",i[r]);else if("[object Object]"===Object.prototype.toString.call(i))for(var r in i)t(e+"["+r+"]",i[r]);else n.push(encodeURIComponent(e)+(null!=i&&""!==i?"="+encodeURIComponent(i):""))}if("[object Object]"!==Object.prototype.toString.call(e))return"";var n=[];for(var i in e)t(i,e[i]);return n.join("&")},u=function(e,t){function n(e){p=e}function i(){function e(){0===--t&&"function"==typeof p&&p()}var t=0;return function n(i){var r=i.then;return i.then=function(){t++;var o=r.apply(i,arguments);return o.then(e,function(n){if(e(),0===t)throw n}),n(o)},i}}function r(e,t){if("string"==typeof e){var n=e;e=t||{},null==e.url&&(e.url=n)}return e}function o(n,o){var a=i();n=r(n,o);var s=new t(function(t,i){null==n.method&&(n.method="GET"),n.method=n.method.toUpperCase();var r="boolean"==typeof n.useBody?n.useBody:"GET"!==n.method&&"TRACE"!==n.method;"function"!=typeof n.serialize&&(n.serialize="undefined"!=typeof FormData&&n.data instanceof FormData?function(e){return e}:JSON.stringify),"function"!=typeof n.deserialize&&(n.deserialize=c),"function"!=typeof n.extract&&(n.extract=f),n.url=l(n.url,n.data),r?n.data=n.serialize(n.data):n.url=u(n.url,n.data);var o=new e.XMLHttpRequest;o.open(n.method,n.url,"boolean"!=typeof n.async||n.async,"string"==typeof n.user?n.user:void 0,"string"==typeof n.password?n.password:void 0),n.serialize===JSON.stringify&&r&&o.setRequestHeader("Content-Type","application/json; charset=utf-8"),n.deserialize===c&&o.setRequestHeader("Accept","application/json, text/*"),n.withCredentials&&(o.withCredentials=n.withCredentials);for(var a in n.headers)({}).hasOwnProperty.call(n.headers,a)&&o.setRequestHeader(a,n.headers[a]);"function"==typeof n.config&&(o=n.config(o,n)||o),o.onreadystatechange=function(){if(o.status&&4===o.readyState)try{var e=n.extract!==f?n.extract(o,n):n.deserialize(n.extract(o,n));if(o.status>=200&&o.status<300||304===o.status)t(d(n.type,e));else{var r=new Error(o.responseText);for(var a in e)r[a]=e[a];i(r)}}catch(e){i(e)}},r&&null!=n.data?o.send(n.data):o.send()});return n.background===!0?s:a(s)}function a(n,o){var a=i();n=r(n,o);var s=new t(function(t,i){var r=n.callbackName||"_mithril_"+Math.round(1e16*Math.random())+"_"+g++,o=e.document.createElement("script");e[r]=function(i){o.parentNode.removeChild(o),t(d(n.type,i)),delete e[r]},o.onerror=function(){o.parentNode.removeChild(o),i(new Error("JSONP request failed")),delete e[r]},null==n.data&&(n.data={}),n.url=l(n.url,n.data),n.data[n.callbackKey||"callback"]=r,o.src=u(n.url,n.data),e.document.documentElement.appendChild(o)});return n.background===!0?s:a(s)}function l(e,t){if(null==t)return e;for(var n=e.match(/:[^\/]+/gi)||[],i=0;i<n.length;i++){var r=n[i].slice(1);null!=t[r]&&(e=e.replace(n[i],t[r]))}return e}function u(e,t){var n=s(t);if(""!==n){var i=e.indexOf("?")<0?"?":"&";e+=i+n}return e}function c(e){try{return""!==e?JSON.parse(e):null}catch(t){throw new Error(e)}}function f(e){return e.responseText}function d(e,t){if("function"==typeof e){if(!Array.isArray(t))return new e(t);for(var n=0;n<t.length;n++)t[n]=new e(t[n])}return t}var p,g=0;return{request:o,jsonp:a,setCompletionCallback:n}},c=u(window,l),f=function(e){function n(e){return L=e}function i(e,t,n,i,o,a,l){for(var s=n;s<i;s++){var u=t[s];null!=u&&w(e,r(u,o,l),a)}}function r(e,t,n){var i=e.tag;if(null!=e.attrs&&V(e.attrs,e,t),"string"!=typeof i)return u(e,t,n);switch(i){case"#":return o(e);case"<":return a(e);case"[":return l(e,t,n);default:return s(e,t,n)}}function o(e){return e.dom=F.createTextNode(e.children)}function a(e){var t=e.children.match(/^\s*?<(\w+)/im)||[],n={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"}[t[1]]||"div",i=F.createElement(n);i.innerHTML=e.children,e.dom=i.firstChild,e.domSize=i.childNodes.length;for(var r,o=F.createDocumentFragment();r=i.firstChild;)o.appendChild(r);return o}function l(e,t,n){var r=F.createDocumentFragment();if(null!=e.children){var o=e.children;i(r,o,0,o.length,t,null,n)}return e.dom=r.firstChild,e.domSize=r.childNodes.length,r}function s(e,n,r){var o=e.tag;switch(e.tag){case"svg":r="http://www.w3.org/2000/svg";break;case"math":r="http://www.w3.org/1998/Math/MathML"}var a=e.attrs,l=a&&a.is,s=r?l?F.createElementNS(r,o,{is:l}):F.createElementNS(r,o):l?F.createElement(o,{is:l}):F.createElement(o);if(e.dom=s,null!=a&&P(e,a,r),null!=e.attrs&&null!=e.attrs.contenteditable)S(e);else if(null!=e.text&&(""!==e.text?s.textContent=e.text:e.children=[t("#",void 0,void 0,e.text,void 0,void 0)]),null!=e.children){var u=e.children;i(s,u,0,u.length,n,null,r),E(e)}return s}function u(e,n,i){e.state=Object.create(e.tag);var o=e.tag.view;if(null!=o.reentrantLock)return X;if(o.reentrantLock=!0,V(e.tag,e,n),e.instance=t.normalize(o.call(e.state,e)),o.reentrantLock=null,null!=e.instance){if(e.instance===e)throw Error("A view cannot return the vnode it received as arguments");var a=r(e.instance,n,i);return e.dom=e.instance.dom,e.domSize=null!=e.dom?e.instance.domSize:0,a}return e.domSize=0,X}function c(e,t,n,o,a,l){if(t!==n&&(null!=t||null!=n))if(null==t)i(e,n,0,n.length,o,a,void 0);else if(null==n)_(t,0,t.length,n);else{if(t.length===n.length){for(var s=!1,u=0;u<n.length;u++)if(null!=n[u]&&null!=t[u]){s=null==n[u].key&&null==t[u].key;break}if(s){for(var u=0;u<t.length;u++)t[u]!==n[u]&&(null==t[u]&&null!=n[u]?w(e,r(n[u],o,l),b(t,u+1,a)):null==n[u]?_(t,u,u+1,n):f(e,t[u],n[u],o,b(t,u+1,a),!1,l));return}}var c=v(t,n);c&&(t=t.concat(t.pool));for(var d,p=0,g=0,h=t.length-1,m=n.length-1;h>=p&&m>=g;){var S=t[p],k=n[g];if(S!==k||c)if(null==S)p++;else if(null==k)g++;else if(S.key===k.key)p++,g++,f(e,S,k,o,b(t,p,a),c,l),c&&S.tag===k.tag&&w(e,y(S),a);else{var S=t[h];if(S!==k||c)if(null==S)h--;else if(null==k)g++;else{if(S.key!==k.key)break;f(e,S,k,o,b(t,h+1,a),c,l),(c||g<m)&&w(e,y(S),b(t,p,a)),h--,g++}else h--,g++}else p++,g++}for(;h>=p&&m>=g;){var S=t[h],k=n[m];if(S!==k||c)if(null==S)h--;else if(null==k)m--;else if(S.key===k.key)f(e,S,k,o,b(t,h+1,a),c,l),c&&S.tag===k.tag&&w(e,y(S),a),null!=S.dom&&(a=S.dom),h--,m--;else{if(d||(d=x(t,h)),null!=k){var z=d[k.key];if(null!=z){var C=t[z];f(e,C,k,o,b(t,h+1,a),c,l),w(e,y(C),a),t[z].skip=!0,null!=C.dom&&(a=C.dom)}else{var P=r(k,o,void 0);w(e,P,a),a=P}}m--}else h--,m--;if(m<g)break}i(e,n,g,m+1,o,a,l),_(t,p,h+1,n)}}function f(e,t,n,i,o,a,l){var s=t.tag,u=n.tag;if(s===u){if(n.state=t.state,n.events=t.events,H(n,t))return;if(null!=n.attrs&&$(n.attrs,n,i,a),"string"==typeof s)switch(s){case"#":d(t,n);break;case"<":p(e,t,n,o);break;case"[":g(e,t,n,i,o,l);break;default:h(t,n,i,l)}else m(e,t,n,i,o,a,l)}else k(t,null),w(e,r(n,i,l),o)}function d(e,t){e.children.toString()!==t.children.toString()&&(e.dom.nodeValue=t.children),t.dom=e.dom}function p(e,t,n,i){t.children!==n.children?(y(t),w(e,a(n),i)):(n.dom=t.dom,n.domSize=t.domSize)}function g(e,t,n,i,r,o){c(e,t.children,n.children,i,r,o);var a=0,l=n.children;if(n.dom=null,null!=l){for(var s=0;s<l.length;s++){var u=l[s];null!=u&&null!=u.dom&&(null==n.dom&&(n.dom=u.dom),a+=u.domSize||1)}1!==a&&(n.domSize=a)}}function h(e,n,i,r){var o=n.dom=e.dom;switch(n.tag){case"svg":r="http://www.w3.org/2000/svg";break;case"math":r="http://www.w3.org/1998/Math/MathML"}"textarea"===n.tag&&(null==n.attrs&&(n.attrs={}),null!=n.text&&(n.attrs.value=n.text,n.text=void 0)),N(n,e.attrs,n.attrs,r),null!=n.attrs&&null!=n.attrs.contenteditable?S(n):null!=e.text&&null!=n.text&&""!==n.text?e.text.toString()!==n.text.toString()&&(e.dom.firstChild.nodeValue=n.text):(null!=e.text&&(e.children=[t("#",void 0,void 0,e.text,void 0,e.dom.firstChild)]),null!=n.text&&(n.children=[t("#",void 0,void 0,n.text,void 0,void 0)]),c(o,e.children,n.children,i,null,r))}function m(e,n,i,o,a,l,s){i.instance=t.normalize(i.tag.view.call(i.state,i)),$(i.tag,i,o,l),null!=i.instance?(null==n.instance?w(e,r(i.instance,o,s),a):f(e,n.instance,i.instance,o,a,l,s),i.dom=i.instance.dom,i.domSize=i.instance.domSize):null!=n.instance?(k(n.instance,null),i.dom=void 0,i.domSize=0):(i.dom=n.dom,i.domSize=n.domSize)}function v(e,t){if(null!=e.pool&&Math.abs(e.pool.length-t.length)<=Math.abs(e.length-t.length)){var n=e[0]&&e[0].children&&e[0].children.length||0,i=e.pool[0]&&e.pool[0].children&&e.pool[0].children.length||0,r=t[0]&&t[0].children&&t[0].children.length||0;if(Math.abs(i-r)<=Math.abs(n-r))return!0}return!1}function x(e,t){for(var n={},i=0,i=0;i<t;i++){var r=e[i];if(null!=r){var o=r.key;null!=o&&(n[o]=i)}}return n}function y(e){var t=e.domSize;if(null!=t||null==e.dom){var n=F.createDocumentFragment();if(t>0){for(var i=e.dom;--t;)n.appendChild(i.nextSibling);n.insertBefore(i,n.firstChild)}return n}return e.dom}function b(e,t,n){for(;t<e.length;t++)if(null!=e[t]&&null!=e[t].dom)return e[t].dom;return n}function w(e,t,n){n&&n.parentNode?e.insertBefore(t,n):e.appendChild(t)}function S(e){var t=e.children;if(null!=t&&1===t.length&&"<"===t[0].tag){var n=t[0].children;e.dom.innerHTML!==n&&(e.dom.innerHTML=n)}else if(null!=e.text||null!=t&&0!==t.length)throw new Error("Child node of a contenteditable must be trusted")}function _(e,t,n,i){for(var r=t;r<n;r++){var o=e[r];null!=o&&(o.skip?o.skip=!1:k(o,i))}}function k(e,t){function n(){if(++r===i&&(C(e),e.dom)){var n=e.domSize||1;if(n>1)for(var o=e.dom;--n;)z(o.nextSibling);z(e.dom),null==t||null!=e.domSize||R(e.attrs)||"string"!=typeof e.tag||(t.pool?t.pool.push(e):t.pool=[e])}}var i=1,r=0;if(e.attrs&&e.attrs.onbeforeremove){var o=e.attrs.onbeforeremove.call(e.state,e);null!=o&&"function"==typeof o.then&&(i++,o.then(n,n))}if("string"!=typeof e.tag&&e.tag.onbeforeremove){var o=e.tag.onbeforeremove.call(e.state,e);null!=o&&"function"==typeof o.then&&(i++,o.then(n,n))}n()}function z(e){var t=e.parentNode;null!=t&&t.removeChild(e)}function C(e){if(e.attrs&&e.attrs.onremove&&e.attrs.onremove.call(e.state,e),"string"!=typeof e.tag&&e.tag.onremove&&e.tag.onremove.call(e.state,e),null!=e.instance)C(e.instance);else{var t=e.children;if(Array.isArray(t))for(var n=0;n<t.length;n++){var i=t[n];null!=i&&C(i)}}}function P(e,t,n){for(var i in t)A(e,i,null,t[i],n)}function A(e,t,n,i,r){var o=e.dom;if("key"!==t&&"is"!==t&&(n!==i||j(e,t)||"object"===("undefined"==typeof i?"undefined":q(i)))&&"undefined"!=typeof i&&!T(t)){var a=t.indexOf(":");if(a>-1&&"xlink"===t.substr(0,a))o.setAttributeNS("http://www.w3.org/1999/xlink",t.slice(a+1),i);else if("o"===t[0]&&"n"===t[1]&&"function"==typeof i)M(e,t,i);else if("style"===t)D(o,n,i);else if(t in o&&!O(t)&&void 0===r&&!I(e)){if("input"===e.tag&&"value"===t&&e.dom.value===i&&e.dom===F.activeElement)return;if("select"===e.tag&&"value"===t&&e.dom.value===i&&e.dom===F.activeElement)return;if("option"===e.tag&&"value"===t&&e.dom.value===i)return;o[t]=i}else"boolean"==typeof i?i?o.setAttribute(t,""):o.removeAttribute(t):o.setAttribute("className"===t?"class":t,i)}}function E(e){var t=e.attrs;"select"===e.tag&&null!=t&&("value"in t&&A(e,"value",null,t.value,void 0),"selectedIndex"in t&&A(e,"selectedIndex",null,t.selectedIndex,void 0))}function N(e,t,n,i){if(null!=n)for(var r in n)A(e,r,t&&t[r],n[r],i);if(null!=t)for(var r in t)null!=n&&r in n||("className"===r&&(r="class"),"o"!==r[0]||"n"!==r[1]||T(r)?"key"!==r&&e.dom.removeAttribute(r):M(e,r,void 0))}function j(e,t){return"value"===t||"checked"===t||"selectedIndex"===t||"selected"===t&&e.dom===F.activeElement}function T(e){return"oninit"===e||"oncreate"===e||"onupdate"===e||"onremove"===e||"onbeforeremove"===e||"onbeforeupdate"===e}function O(e){return"href"===e||"list"===e||"form"===e||"width"===e||"height"===e}function I(e){return e.attrs.is||e.tag.indexOf("-")>-1}function R(e){return null!=e&&(e.oncreate||e.onupdate||e.onbeforeremove||e.onremove)}function D(e,t,n){if(t===n&&(e.style.cssText="",t=null),null==n)e.style.cssText="";else if("string"==typeof n)e.style.cssText=n;else{"string"==typeof t&&(e.style.cssText="");for(var i in n)e.style[i]=n[i];if(null!=t&&"string"!=typeof t)for(var i in t)i in n||(e.style[i]="")}}function M(e,t,n){var i=e.dom,r="function"!=typeof L?n:function(e){var t=n.call(i,e);return L.call(i,e),t};if(t in i)i[t]="function"==typeof n?r:null;else{var o=t.slice(2);if(void 0===e.events&&(e.events={}),e.events[t]===r)return;null!=e.events[t]&&i.removeEventListener(o,e.events[t],!1),"function"==typeof n&&(e.events[t]=r,i.addEventListener(o,e.events[t],!1))}}function V(e,t,n){"function"==typeof e.oninit&&e.oninit.call(t.state,t),"function"==typeof e.oncreate&&n.push(e.oncreate.bind(t.state,t))}function $(e,t,n,i){i?V(e,t,n):"function"==typeof e.onupdate&&n.push(e.onupdate.bind(t.state,t))}function H(e,t){var n,i;return null!=e.attrs&&"function"==typeof e.attrs.onbeforeupdate&&(n=e.attrs.onbeforeupdate.call(e.state,e,t)),"string"!=typeof e.tag&&"function"==typeof e.tag.onbeforeupdate&&(i=e.tag.onbeforeupdate.call(e.state,e,t)),!(void 0===n&&void 0===i||n||i)&&(e.dom=t.dom,e.domSize=t.domSize,e.instance=t.instance,!0)}function U(e,n){if(!e)throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var i=[],r=F.activeElement;null==e.vnodes&&(e.textContent=""),Array.isArray(n)||(n=[n]),c(e,e.vnodes,t.normalizeChildren(n),i,null,void 0),e.vnodes=n;for(var o=0;o<i.length;o++)i[o]();F.activeElement!==r&&r.focus()}var L,F=e.document,X=F.createDocumentFragment();return{render:U,setEventCallback:n}},d=function(e){function t(e,t){n(e),a.push(e,i(t))}function n(e){var t=a.indexOf(e);t>-1&&a.splice(t,2)}function r(){for(var e=1;e<a.length;e+=2)a[e]()}var o=f(e);o.setEventCallback(function(e){e.redraw!==!1&&r()});var a=[];return{subscribe:t,unsubscribe:n,
redraw:r,render:o.render}},p=d(window);c.setCompletionCallback(p.redraw);var g=function(e){return function(n,i){if(null===i)return e.render(n,[]),void e.unsubscribe(n);if(null==i.view)throw new Error("m.mount(element, component) expects a component, not a vnode");var r=function(){e.render(n,t(i))};e.subscribe(n,r),e.redraw()}};a.mount=g(p);var h=l,m=function(e){if(""===e||null==e)return{};"?"===e.charAt(0)&&(e=e.slice(1));for(var t=e.split("&"),n={},i={},r=0;r<t.length;r++){var o=t[r].split("="),a=decodeURIComponent(o[0]),l=2===o.length?decodeURIComponent(o[1]):"";"true"===l?l=!0:"false"===l&&(l=!1);var s=a.split(/\]\[?|\[/),u=n;a.indexOf("[")>-1&&s.pop();for(var c=0;c<s.length;c++){var f=s[c],d=s[c+1],p=""==d||!isNaN(parseInt(d,10)),g=c===s.length-1;if(""===f){var a=s.slice(0,c).join();null==i[a]&&(i[a]=0),f=i[a]++}null==u[f]&&(u[f]=g?l:p?[]:{}),u=u[f]}}return n},v=function(e){function t(t){var n=e.location[t].replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent);return"pathname"===t&&"/"!==n[0]&&(n="/"+n),n}function n(e){return function(){null==r&&(r=a(function(){r=null,e()}))}}function i(e,t,n){var i=e.indexOf("?"),r=e.indexOf("#"),o=i>-1?i:r>-1?r:e.length;if(i>-1){var a=r>-1?r:e.length,l=m(e.slice(i+1,a));for(var s in l)t[s]=l[s]}if(r>-1){var u=m(e.slice(r+1));for(var s in u)n[s]=u[s]}return e.slice(0,o)}var r,o="function"==typeof e.history.pushState,a="function"==typeof setImmediate?setImmediate:setTimeout,l={prefix:"#!"};return l.getPath=function(){var e=l.prefix.charAt(0);switch(e){case"#":return t("hash").slice(l.prefix.length);case"?":return t("search").slice(l.prefix.length)+t("hash");default:return t("pathname").slice(l.prefix.length)+t("search")+t("hash")}},l.setPath=function(t,n,r){var a={},u={};if(t=i(t,a,u),null!=n){for(var c in n)a[c]=n[c];t=t.replace(/:([^\/]+)/g,function(e,t){return delete a[t],n[t]})}var f=s(a);f&&(t+="?"+f);var d=s(u);if(d&&(t+="#"+d),o){var p=r?r.state:null,g=r?r.title:null;e.onpopstate(),r&&r.replace?e.history.replaceState(p,g,l.prefix+t):e.history.pushState(p,g,l.prefix+t)}else e.location.href=l.prefix+t},l.defineRoutes=function(t,r,a){function s(){var n=l.getPath(),o={},s=i(n,o,o),u=e.history.state;if(null!=u)for(var c in u)o[c]=u[c];for(var f in t){var d=new RegExp("^"+f.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(d.test(s))return void s.replace(d,function(){for(var e=f.match(/:[^\/]+/g)||[],i=[].slice.call(arguments,1,-2),a=0;a<e.length;a++)o[e[a].replace(/:|\./g,"")]=decodeURIComponent(i[a]);r(t[f],o,n,f)})}a(n,o)}o?e.onpopstate=n(s):"#"===l.prefix.charAt(0)&&(e.onhashchange=s),s()},l},x=function(e,n){var i,r,o,a,l,s=v(e),u=function(e){return e},c=function(e,c,f){if(null==e)throw new Error("Ensure the DOM element that was passed to `m.route` is not undefined");var d=function(){null!=i&&n.render(e,i(t(r,o.key,o)))},p=function(){s.setPath(c,null,{replace:!0})};s.defineRoutes(f,function(e,t,n){var s=l=function(e,c){s===l&&(r=null!=c&&"function"==typeof c.view?c:"div",o=t,a=n,l=null,i=(e.render||u).bind(e),d())};e.view?s({},e):e.onmatch?h.resolve(e.onmatch(t,n)).then(function(t){s(e,t)},p):s(e,"div")},p),n.subscribe(e,d)};return c.set=function(e,t,n){null!=l&&(n={replace:!0}),l=null,s.setPath(e,t,n)},c.get=function(){return a},c.prefix=function(e){s.prefix=e},c.link=function(e){e.dom.setAttribute("href",s.prefix+e.attrs.href),e.dom.onclick=function(e){if(!(e.ctrlKey||e.metaKey||e.shiftKey||2===e.which)){e.preventDefault(),e.redraw=!1;var t=this.getAttribute("href");0===t.indexOf(s.prefix)&&(t=t.slice(s.prefix.length)),c.set(t,void 0,void 0)}}},c.param=function(e){return"undefined"!=typeof o&&"undefined"!=typeof e?o[e]:o},c};a.route=x(window,p),a.withAttr=function(e,t,n){return function(i){t.call(n||this,e in i.currentTarget?i.currentTarget[e]:i.currentTarget.getAttribute(e))}};var y=f(window);a.render=y.render,a.redraw=p.redraw,a.request=c.request,a.jsonp=c.jsonp,a.parseQueryString=m,a.buildQueryString=s,a.version="1.0.0",a.vnode=t,e.exports=a}}),Z=[{props:["cursor"],values:["grab","grabbing","zoom-in","zoom-out"]},{props:["display"],values:["box","inline-box","flexbox","inline-flexbox","flex","inline-flex","grid","inline-grid"]},{props:["position"],values:["sticky"]},{props:["width","column-width","height","max-height","max-width","min-height","min-width"],values:["contain-floats","fill-available","fit-content","max-content","min-content"]}],B={"align-items":"box-align",flex:"box-flex","box-direction":"box-direction","box-orient":"box-orient","flex-wrap":"box-lines","justify-content":"box-pack",order:"box-ordinal-group"},J={"flex-end":"end","flex-start":"start",nowrap:"single","space-around":"justify","space-between":"justify",wrap:"multiple","wrap-reverse":"multiple"},K={"align-content":"-ms-flex-line-pack","align-items":"-ms-flex-align","align-self":"-ms-flex-item-align","flex-basis":"-ms-preferred-size","flex-grow":"-ms-flex-positive","flex-shrink":"-ms-flex-negative","justify-content":"-ms-flex-pack",order:"-ms-flex-order"},Y={"flex-end":"end","flex-start":"start","space-around":"distribute","space-between":"justify"},G={},Q=/[(),]|\/\*[\s\S]*?\*\//g;b();var ee=[],te={},ne=te.toString,ie=ne.call(ee),re=ne.call(te),oe=ne.call(""),ae=ne.call(ne),le=te.hasOwnProperty,se=Object.freeze||function(e){return e},ue=/[(),]|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g,ce=/&|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g,fe=R,de=new fe(w),pe=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];ge(e);var r=document.createElement("style");e&&r.setAttribute("id",e),n.forEach(function(e){Object.keys(e).length&&e.forEach(function(e){var t={"@global":e},n=de.sheet(t);r.appendChild(document.createTextNode(n))})}),document.head.appendChild(r)},ge=function(e){if(e){var t=document.getElementById(e);t&&t.parentNode.removeChild(t)}},he={size:320,size_px:"320px",text_color:"#263238"},me={imageUrl:"http://arthurclemens.github.io/assets/mithril-infinite-scroll/thumbs/"},ve=16,xe="1.0.0",ye=[{".footer":{width:he.size-2*ve+"px",margin:"32px auto 0 auto",textAlign:"left",padding:"24px "+ve+"px",fontSize:"14px",lineHeight:1.3,color:"#90A4AE",opacity:".85"," hr":{height:"1px",border:"none",margin:"1em -"+ve+"px",backgroundColor:"#CFD8DC",opacity:".85"}}}];pe("footer",ye);var be,we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return W(".footer",[e.home?null:W("a",{href:"/",oncreate:W.route.link},"All examples"),W("hr"),W.trust("mithril-infinite, Infinite Scroll for Mithril on mobile and desktop. This site runs on version "+xe+'. Project page on <a href="https://github.com/ArthurClemens/mithril-infinite">Github</a>.')])},Se=e(function(e){!function(t,n,i){e.exports?e.exports=i():t[n]=i()}(F,"verge",function(){function e(){return{width:c(),height:f()}}function t(e,t){var n={};return t=+t||0,n.width=(n.right=e.right+t)-(n.left=e.left-t),n.height=(n.bottom=e.bottom+t)-(n.top=e.top-t),n}function n(e,n){return e=e&&!e.nodeType?e[0]:e,!(!e||1!==e.nodeType)&&t(e.getBoundingClientRect(),n)}function i(t){t=null==t?e():1===t.nodeType?n(t):t;var i=t.height,r=t.width;return i="function"==typeof i?i.call(t):i,r="function"==typeof r?r.call(t):r,r/i}var r={},o="undefined"!=typeof window&&window,a="undefined"!=typeof document&&document,l=a&&a.documentElement,s=o.matchMedia||o.msMatchMedia,u=s?function(e){return!!s.call(o,e).matches}:function(){return!1},c=r.viewportW=function(){var e=l.clientWidth,t=o.innerWidth;return e<t?t:e},f=r.viewportH=function(){var e=l.clientHeight,t=o.innerHeight;return e<t?t:e};return r.mq=u,r.matchMedia=s?function(){return s.apply(o,arguments)}:function(){return{}},r.viewport=e,r.scrollX=function(){return o.pageXOffset||l.scrollLeft},r.scrollY=function(){return o.pageYOffset||l.scrollTop},r.rectangle=n,r.aspect=i,r.inX=function(e,t){var i=n(e,t);return!!i&&i.right>=0&&i.left<=c()},r.inY=function(e,t){var i=n(e,t);return!!i&&i.bottom>=0&&i.top<=f()},r.inViewport=function(e,t){var i=n(e,t);return!!i&&i.bottom>=0&&i.right>=0&&i.top<=f()&&i.left<=c()},r})}),_e={scrollView:"mithril-infinite__scroll-view",scrollViewX:"mithril-infinite__scroll-view--x",scrollViewY:"mithril-infinite__scroll-view--y",scrollContent:"mithril-infinite__scroll-content",content:"mithril-infinite__content",pages:"mithril-infinite__pages",page:"mithril-infinite__page",pageEven:"mithril-infinite__page--even",pageOdd:"mithril-infinite__page--odd",placeholder:"mithril-infinite__page--placeholder",before:"mithril-infinite__before",after:"mithril-infinite__after"},ke=300,ze=function(e,t){var n=window.getComputedStyle(e);if("x"===t){var i=parseFloat(n.marginLeft)+parseFloat(n.marginRight);return e.scrollWidth+i}var r=parseFloat(n.marginTop)+parseFloat(n.marginBottom);return e.scrollHeight+r},Ce=function(e){var t=e.el,n=e.axis,i=void 0===n?"y":n,r=e.leeway,o=void 0===r?ke:r;return"y"===i?Se.inY(t,o)||Se.inY(t,-o):"x"===i?Se.inX(t,o)||Se.inX(t,-o):Se.inViewport(t,o)||Se.inViewport(t,-o)},Pe=function(e){return[_e.page,e%2===0?_e.pageEven:_e.pageOdd].join(" ")},Ae=D(function(e){function t(){function e(){return arguments.length>0&&arguments[0]!==w&&i(e,arguments[0]),e._state.value}return n(e),arguments.length>0&&arguments[0]!==w&&i(e,arguments[0]),e}function n(e){e.constructor=t,e._state={id:b++,value:void 0,state:0,derive:void 0,recover:void 0,deps:{},parents:[],endStream:void 0},e.map=e["fantasy-land/map"]=f,e["fantasy-land/ap"]=d,e["fantasy-land/of"]=t,e.valueOf=p,e.toJSON=g,e.toString=p,Object.defineProperties(e,{end:{get:function(){if(!e._state.endStream){var n=t();n.map(function(t){return t===!0&&(c(e),c(n)),t}),e._state.endStream=n}return e._state.endStream}}})}function i(e,t){r(e,t);for(var n in e._state.deps)o(e._state.deps[n],!1);a(e)}function r(e,t){e._state.value=t,e._state.changed=!0,2!==e._state.state&&(e._state.state=1)}function o(e,t){var n=e._state,i=n.parents;if(i.length>0&&i.every(m)&&(t||i.some(v))){var o=e._state.derive();if(o===w)return!1;r(e,o)}}function a(e){e._state.changed=!1;for(var t in e._state.deps)e._state.deps[t]._state.changed=!1}function l(e,n){if(!n.every(h))throw new Error("Ensure that each item passed to m.prop.combine/m.prop.merge is a stream");return s(t(),n,function(){return e.apply(this,n.concat([n.filter(v)]))})}function s(e,t,n){var i=e._state;return i.derive=n,i.parents=t.filter(x),u(e,i.parents),o(e,!0),e}function u(e,t){for(var n=0;n<t.length;n++)t[n]._state.deps[e._state.id]=e,u(e,t[n]._state.parents)}function c(e){for(var t=0;t<e._state.parents.length;t++){var n=e._state.parents[t];delete n._state.deps[e._state.id]}for(var i in e._state.deps){var r=e._state.deps[i],o=r._state.parents.indexOf(e);o>-1&&r._state.parents.splice(o,1)}e._state.state=2,e._state.deps={}}function f(e){return l(function(t){return e(t())},[this])}function d(e){return l(function(e,t){return e()(t())},[e,this])}function p(){return this._state.value}function g(){return null!=this._state.value&&"function"==typeof this._state.value.toJSON?this._state.value.toJSON():this._state.value}function h(e){return e._state}function m(e){return 1===e._state.state}function v(e){return e._state.changed}function x(e){return 2!==e._state.state}function y(e){return l(function(){return e.map(function(e){return e()})},e)}var b=0,w={};t["fantasy-land/of"]=t,t.merge=y,t.combine=l,t.HALT=w,e.exports=t}),Ee=Ae,Ne=function(e){return W.request({method:"GET",url:e})},je=function(e){var t=e.state,n=e.attrs,i=n.pageNum,r=Ee([]);if(n.pageData){var o=n.pageData(i);o.then?o.then(r):r=o}else if(n.pageUrl){var a=n.pageUrl(i);Ne(a).then(r)}var l=n.processPageData||function(e,t){return e&&e.length?e.map(function(e,i){return n.item(e,t,i)}):null};t.content=r,t.className=Pe(i),t.pageTag=n.pageTag||"div",t.processPageData=l},Te=function(e){var t=e.state,n=e.attrs,i=n.pageId,r=n.pageSizes[i]||0,o=0;n.pageSize&&(o=n.pageSize(t.content()),n.updatePageSize(i,o));var a=o?o+"px":!n.autoSize||n.isScrolling&&r?r+"px":"auto",l=function(e){if(!o){var t=ze(e,n.axis);t&&n.updatePageSize(i,t),r||setTimeout(W.redraw,0)}};return W(t.pageTag,{"data-page":i,class:t.className,style:r?"x"===n.axis?{width:a}:{height:a}:null,oncreate:function(e){var t=e.dom;return l(t)},onupdate:function(e){var t=e.dom;return l(t)}},t.processPageData(t.content(),{isScrolling:n.isScrolling,pageId:n.pageId,pageNum:n.pageNum}))},Oe={oninit:je,view:Te},Ie=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},De={oninit:function(e){return e.state.className=Pe(e.attrs.pageNum)},view:function(e){var t=e.state,n=e.attrs,i=n.pageId,r=n.pageSizes[i]||0;return W("div",{"data-page":i,class:[_e.placeholder,t.className].join(" "),style:Re({},"x"===n.axis?{width:r+"px"}:{height:r+"px"})})}},Me=new fe,Ve=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];$e(e);var r=document.createElement("style");e&&r.setAttribute("id",e),n.forEach(function(e){Object.keys(e).length&&e.forEach(function(e){var t={"@global":e},n=Me.sheet(t);r.appendChild(document.createTextNode(n))})}),document.head.appendChild(r)},$e=function(e){if(e){var t=document.getElementById(e);t&&t.parentNode.removeChild(t)}},He=[Ie({},"."+_e.scrollView,(be={"-webkit-overflow-scrolling":"touch",height:"100%"},Ie(be,"&."+_e.scrollViewY,Ie({overflowX:"hidden",overflowY:"auto",height:"100%"}," ."+_e.scrollContent,{height:"100%"})),Ie(be,"&."+_e.scrollViewX,Ie({overflowX:"auto",overflowY:"hidden",width:"100%"}," ."+_e.scrollContent,{width:"100%"})),be))];Ve("mithril-infinite",He);var Ue=200,Le="000000",Fe=function(e){return Le.substring(0,Le.length-(""+e).length)+e},qe=function(e,t){var n=t.sortedKeys;if(0===n.length)return 1;for(var i=t.beforeSize||0,r=1,o=0;o<n.length;o+=1){var a=n[o];e>i&&(r=parseInt(a,10)),i+=t.pageSizes[a]}return r},Xe=function(e,t,n){var i=Math.max(0,e-1);if(t<i)return 0;var r=t,o=n.sortedKeys.slice(i,r),a=n.beforeSize||0;return a=o.reduce(function(e,t){return e+=n.pageSizes[t]||0},a),a+=n.afterSize||0},We=function(e,t,n,i){if(!i)return!1;var r=Fe(e),o=i.querySelector('[data-page="'+r+'"]');return Ce({el:o,axis:t})},Ze=function(e){return function(t,n){return e.pageSizes[t]=n,e.sortedKeys=Object.keys(e.pageSizes).sort()}},Be=function(e,t,n){var i=function(){e.isScrolling=!0,clearTimeout(e.scrollWatchScrollingStateId),e.scrollWatchScrollingStateId=setTimeout(function(){e.isScrolling=!1,W.redraw()},e.scrollThrottle),e.scrollWatchUpdateStateId||(e.scrollWatchUpdateStateId=setTimeout(function(){W.redraw(),e.scrollWatchUpdateStateId=null},e.scrollThrottle))};"add"===n?t.addEventListener("scroll",i):t.removeEventListener("scroll",i)},Je=function(e,t,n,i){var r=ze(e,i);r&&(n[t]=r)},Ke=function(e,t,n,i,r,o){for(var a=t?parseInt(t,10):i?i:1,l=n?parseInt(n,10):i?i:o,s=[],u=[],c=-r;c<=r;c+=1){var f=e+c;f>=a&&f<=l&&s.push(f)}for(var d=1;d<s[0];d+=1)u.push(d);return{pages:s,prePages:u,maxPageNum:l}},Ye=function(e){var t=e.attrs,n=t.axis||"y",i="x"===n?"scrollLeft":"scrollTop",r=void 0===t.autoSize||t.autoSize!==!1,o=t.pageSize,a=void 0!==t.throttle?1e3*t.throttle:Ue,l=t.contentTag||"div",s=[_e.scrollView,"x"===n?_e.scrollViewX:_e.scrollViewY,t.class].join(" ");e.state=Re({},{pageSizes:{},sortedKeys:[],beforeSize:null,afterSize:null,scrollView:null,isScrolling:!1,scrollWatchScrollingStateId:null,scrollWatchUpdateStateId:null,preloadSlots:t.preloadPages||1,boundingClientRect:{},currentPageNum:0,scrollAmount:0,classList:s,axis:n,whichScroll:i,autoSize:r,pageSize:o,scrollThrottle:a,contentTag:l})},Ge=function(e){var t=e.state,n=e.attrs;t.scrollAmount=t.scrollView?t.scrollView[t.whichScroll]:0;var i=t.axis,r=void 0!==n.maxPages?n.maxPages:Number.MAX_VALUE,o=n.currentPage?parseInt(n.currentPage,10):qe(t.scrollAmount,t);n.pageChange&&o!==t.currentPageNum&&n.pageChange(o),t.currentPageNum=o,t.scrollView&&n.getDimensions&&n.getDimensions({scrolled:t.scrollAmount,size:t.contentSize});var a=Ke(o,n.from,n.to,n.currentPage,t.preloadSlots,r),l=a.pages,s=a.prePages,u=a.maxPageNum;t.contentSize=Xe(1,u,t);var c=!u||We(u,i,t,t.scrollView);if(t.scrollView){var f=t.scrollView.getBoundingClientRect();t.boundingClientRect=t.boundingClientRect||f,f.width===t.boundingClientRect.width&&f.height===t.boundingClientRect.height||(t.preloadSlots=n.preloadPages||1),t.boundingClientRect=f;var d=n.maxPreloadPages||Number.MAX_VALUE;t.contentSize&&t.preloadSlots<l.length&&t.preloadSlots<=d&&t.contentSize<f.height&&(t.preloadSlots++,setTimeout(W.redraw,0))}return W("div",{oncreate:function(e){var r=e.dom;if(t.scrollView=n.scrollView?document.querySelector(n.scrollView):r,t.scrollView.className+=" "+t.classList,n.setDimensions){var o=n.setDimensions();if(o.size>0){var a="x"===i?"width":"height";r.style[a]=o.size+"px"}t.scrollView[t.whichScroll]=o.scrolled}Be(t,t.scrollView,"add")},onremove:function(){return Be(t,t.scrollView,"remove")}},W("div",{class:_e.scrollContent,style:t.autoSize?Re({},"x"===i?{width:t.contentSize+"px"}:{height:t.contentSize+"px"},n.contentSize?"x"===i?{"min-width":n.contentSize+"px"}:{"min-height":n.contentSize+"px"}:{}):null},[W(t.contentTag,{class:_e.content},[n.before?W("div",{class:_e.before,oncreate:function(e){var n=e.dom;return Je(n,"before",t,i)},onupdate:function(e){var n=e.dom;return Je(n,"before",t,i)}},n.before):null,W("div",{class:_e.pages},[s.map(function(e){return W(De,Re({},{axis:i,key:Fe(e),pageId:Fe(e),pageNum:e,pageSizes:t.pageSizes}))}),l.map(function(e){return W(Oe,Re({},{autoSize:t.autoSize,axis:i,isScrolling:t.isScrolling,item:n.item,key:Fe(e),pageData:n.pageData,pageId:Fe(e),pageNum:e,pageSize:t.pageSize,pageSizes:t.pageSizes,pageTag:n.pageTag,pageUrl:n.pageUrl,updatePageSize:Ze(t)}))})]),n.after&&t.contentSize?W("div",{class:_e.after,style:{visibility:c?"visible":"hidden"},oncreate:function(e){var n=e.dom;return Je(n,"after",t,i)},onupdate:function(e){var n=e.dom;return Je(n,"after",t,i)}},n.after):null])]))},Qe={oninit:Ye,view:Ge,isElementInViewport:Ce},et="56px",tt="40px",nt=[{".mithril-infinite__scroll-view.images":{margin:"0 auto",background:"#fff"," .mithril-infinite__scroll-content":{" .mithril-infinite__before, .mithril-infinite__after":{" .list-item":{padding:"20px 70px 20px "+et,fontSize:"16px",minHeight:"60px"}}," .mithril-infinite__page":{minHeight:"400px"}," .mithril-infinite__page + .mithril-infinite__page":{borderTop:"1px solid #ddd"}," .mithril-infinite__page--odd":{backgroundColor:"#f0f0f0"," .list-item + .list-item":{borderTop:"1px solid #ddd"}}," .mithril-infinite__page--even":{"background-color":"#e0e0e0"," .list-item + .list-item":{borderTop:"1px solid #ccc"}}," .list-item":{position:"relative",display:"block",cursor:"pointer",".open":{height:"160px"},".closed":{height:"auto"}," .image":{display:"block",height:"100%",position:"absolute",left:et,top:0,backgroundSize:"contain",backgroundRepeat:"no-repeat"}," .pageNum, .toggle":{position:"absolute",top:"8px",display:"block",color:"#222",width:tt,height:tt,textAlign:"center",lineHeight:tt}," .pageNum":{left:"4px",fontSize:"13px",color:"#999"}," .toggle":{right:"10px",backgroundColor:"#fff"}}}}}];pe("images",nt);var it=function(e){return"data/images/page-"+e+".json"},rt={expanded:{},dirty:{},toggle:function(e){rt.expanded[e]?delete rt.expanded[e]:rt.expanded[e]=1,rt.dirty[e]=1},isExpanded:function(e){return rt.expanded[e]},isDirty:function(e){return rt.dirty[e]},clearDirty:function(e){return delete rt.dirty[e]}},ot=function(e,t,n){if(rt.isDirty(t)&&Qe.isElementInViewport({el:e})){var i=me.imageUrl+n;e.style.backgroundImage=e.style.backgroundImage="url("+i+")",rt.clearDirty(t)}},at=function(e,t){var n=t.pageNum+e.width+e.src,i=rt.isExpanded(n),r=i?.5:.25,o=parseFloat(e.width)*r,a=parseFloat(e.height)*r;return W("a.list-item",{style:{height:a+"px"},onclick:function(){return rt.toggle(n)}},[W("span.pageNum",t.pageNum),W(".image",{style:{height:a+"px",width:o+"px"},oncreate:function(t){var i=t.dom;return rt.dirty[n]=!0,ot(i,n,e.src)},onupdate:function(t){var i=t.dom;return ot(i,n,e.src)}}),W(".toggle",i?W.trust("&#150;"):W.trust("&#43;"))])},lt={view:function(){return W(Qe,{maxPages:20,item:at,pageUrl:it,preloadPages:3,class:"images",before:W("a",{class:["list-item",rt.isExpanded("before")?"open":"closed"].join(" "),onclick:function(){return rt.toggle("before")}},[W("div",W.trust('A list of pugs. Courtesy the <a href="http: //airbnb.io/infinity/demo-off.html">AirBnb Infinity demo</a>.')),W(".toggle",rt.isExpanded("before")?W.trust("&#150;"):W.trust("&#43;"))]),after:we()})}},st=8,ut=210,ct=ut+"px",ft=10,dt=ft+"px",pt=function(e,t){return X({},"@media ("+e+"-width: "+((t+1)*ut+t*st)+"px)",{".mithril-infinite__scroll-view.grid":{" .mithril-infinite__scroll-content":{" .mithril-infinite__content":{width:t*ut+(t-1)*st+"px"}}}})},gt=[pt("min",4),pt("max",4),pt("max",3),pt("max",2),pt("max",1),{".mithril-infinite__scroll-view.grid":{margin:"0 auto"," .mithril-infinite__scroll-content":{padding:2*st+"px 0"," .mithril-infinite__content":{margin:"0 auto",fontSize:0,lineHeight:0," .mithril-infinite__page":{margin:"0 "+-st/2+"px"}," .grid-item":{display:"inline-block",height:ct,width:ct,backgroundColor:"#f0f0f0",margin:[0,st/2,st,st/2].map(function(e){return e+"px"}).join(" ")," .image-holder":{height:ut-2*ft+"px",width:ut-2*ft+"px",overflow:"hidden",position:"relative",margin:dt," .image":{position:"absolute",left:"auto",top:0,right:"auto",bottom:0,width:"100%",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPositionX:"50%",opacity:0,transition:"opacity .7s"}}}}}}}];pe("grid",gt);var ht=12,mt=190,vt=function(e,t){var n=t.replace(/\/150\//,"/"+mt+"/"),i=function(){e.style.backgroundImage="url("+n+")",e.style.opacity=1},r=new Image;r.onload=i,r.src=t},xt=function(e,t){e.state.inited||Qe.isElementInViewport({el:e.dom})&&(vt(e.dom,t.thumbnailUrl),e.state.inited=!0)},yt=function(e){return W("a.grid-item",W(".image-holder",W(".image",{oncreate:function(t){return xt(t,e)},onupdate:function(t){return xt(t,e)}})))},bt=function(e){return"http://jsonplaceholder.typicode.com/photos?_start="+(e-1)*ht+"&_end="+e*ht},wt=function(e){return W.request({method:"GET",dataType:"jsonp",url:bt(e)})},St={view:function(){return W(Qe,{preloadPages:3,item:yt,pageData:wt,class:"grid",after:we()})}},_t=[{".mithril-infinite__scroll-view.table":{minWidth:"320px",margin:"0 auto",background:"#eee"," .mithril-infinite__scroll-content":{" .mithril-infinite__page":{display:"table",width:"100%"}," .mithril-infinite__page--odd":{backgroundColor:"#e4e4e4"," .list-item":{" > div":{color:"rgba(0,0,0,.87)",borderBottom:"1px solid rgba(0, 0, 0, .07)",":first-child":{color:"rgba(0,0,0,.54)"}}}}," .mithril-infinite__page--even":{"background-color":"#f0f0f0"}," .list-item":{width:"100%",display:"table-row"," > div":{borderBottom:"1px solid rgba(0, 0, 0, .07)",display:"table-cell",verticalAlign:"top",padding:"8px 16px",minHeight:"1em",width:"90%",":first-child":{color:"#aaa",width:"10%",textAlign:"right"}}}}}}];pe("table",_t);var kt=function(e,t){return W(".list-item",[W("div",t.pageNum),W("div",e||W.trust("&nbsp;"))])},zt={view:function(){return W(Qe,{maxPages:10,item:kt,pageUrl:function(e){return"data/table/page-"+e+".json"},class:"table",after:we()})}},Ct=[{".mithril-infinite__scroll-view.short":{minWidth:"320px",margin:"0 auto",background:"#eee"," .mithril-infinite__scroll-content":{" .list-item":{height:"8px",".has-title":{fontSize:"18px",padding:"0 16px",height:"32px",lineHeight:"32px",color:"#222"}}}}}];pe("short",Ct);var Pt=function(e){var t=e[1]||"transparent",n=e[1]?"":W(".title",e[0]);return W(".list-item",{class:n?"has-title":"",style:{"background-color":t}},n)},At={view:function(){return W(Qe,{item:Pt,maxPages:21,preloadSlots:10,pageUrl:function(e){return"data/short/page-"+e+".json"},class:"short",pageChange:function(e){console&&console.log("page",e)},after:we()})}},Et=8,Nt=210,jt=Nt+"px",Tt=10,Ot=Tt+"px",It=[{".mithril-infinite__scroll-view.horizontal":{margin:0,height:Nt+20+"px",background:"#fff"," .mithril-infinite__scroll-content":{padding:0,margin:0,fontSize:0," .mithril-infinite__content, .mithril-infinite__padding-before, .mithril-infinite__padding-after":{display:"inline-block"}," .mithril-infinite__content":{margin:0,fontSize:0," .mithril-infinite__page":{display:"inline-block",height:jt}," .grid-item":{display:"inline-block",height:jt,width:jt,backgroundColor:"#f0f0f0",margin:"0 "+Et/2+"px"," .image-holder":{height:Nt-2*Tt+"px",width:Nt-2*Tt+"px",overflow:"hidden",position:"relative",margin:Ot," .image":{position:"absolute",left:"auto",top:0,right:"auto",bottom:0,width:"100%",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPositionX:"50%",opacity:0,transition:"opacity .7s"}}}}}}}];pe("horizontal",It);var Rt=function(e,t){var n=me.imageUrl+t,i=function(){e.style.backgroundImage="url("+n+")",e.style.opacity=1},r=new Image;r.onload=i,r.src=n},Dt=function(e,t){e.state.inited||Qe.isElementInViewport({el:e.dom})&&(Rt(e.dom,t.src),e.state.inited=!0)},Mt=function(e){return W("a.grid-item",W(".image-holder",W(".image",{oncreate:function(t){return Dt(t,e)},onupdate:function(t){return Dt(t,e)}})))},Vt={view:function(){return[W(Qe,{maxPages:16,item:Mt,pageUrl:function(e){return"data/horizontal/page-"+e+".json"},class:"horizontal",axis:"x",pageSize:function(e){return 218*(e.length||12)},pageChange:function(e){console&&console.log("page",e)}}),we()]}},$t=[{".mithril-infinite__scroll-view.table.fixed":{" .mithril-infinite__scroll-content":{" .mithril-infinite__page":{" .list-item":{maxHeight:"36px",overflowY:"hidden"}}," .footer":{height:"133px"}}}}];pe("fixed",$t);var Ht=10,Ut=37,Lt=133,Ft=function(e){return"http://jsonplaceholder.typicode.com/posts?_start="+(e-1)*Ht+"&_end="+e*Ht},qt=function(e){return W(".list-item",[W("div",e.id),W("div",e.title)])},Xt={oninit:function(e){var t=e.state;t.pageCount=1,t.pageData=function(e){return W.request({method:"GET",dataType:"jsonp",url:Ft(e),extract:function(e){return t.pageCount=Math.ceil(parseInt(e.getResponseHeader("X-Total-Count"),10)/Ht),JSON.parse(e.responseText)}})}},view:function(e){var t=e.state;return W(Qe,{pageData:t.pageData,maxPages:t.pageCount,preloadPages:3,item:qt,class:"table fixed",pageSize:function(){return Ht*Ut},contentSize:t.pageCount*Ht*Ut+Lt,after:we()})}},Wt=8,Zt=320,Bt=(320-2*Wt)/3,Jt=10,Kt=Jt+"px",Yt=[{".paging":{width:Zt+"px",margin:"0 auto"," .mithril-infinite__scroll-view.mithril-infinite__scroll-view--y":{height:4*Bt+3*Wt+2*Wt+"px"}," .mithril-infinite__page--placeholder":{height:"0 !important"}," .mithril-infinite__scroll-content":{margin:"0 auto",width:Zt+"px",padding:Wt+"px 0 0"," .mithril-infinite__content":{margin:"0 auto",fontSize:0,lineHeight:0," .mithril-infinite__page":{margin:"0 "+-Wt/2+"px"}," .grid-item":{display:"inline-block",height:Bt+"px",width:Bt+"px",backgroundColor:"#f0f0f0",margin:[0,Wt/2,Wt,Wt/2].map(function(e){return e+"px"}).join(" ")," .image-holder":{height:Bt-2*Jt+"px",width:Bt-2*Jt+"px",overflow:"hidden",position:"relative",margin:Kt," .image":{position:"absolute",left:"auto",top:0,right:"auto",bottom:0,width:"100%",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPositionX:"50%"}}}}}," .count":{fontSize:"14px",lineHeight:1,padding:"20px 0 10px 0",borderBottom:"1px solid #ddd"}," .pager":{borderTop:"1px solid #ddd",padding:"8px 0",width:Zt+"px"," a":{display:"inline-block",background:"#e0e0e0",color:"#333",padding:"10px 15px",textAlign:"center",fontSize:"15px",lineHeight:1,margin:"0 5px 0 0","&.disabled":{color:"#aaa",background:"#f4f4f4",pointerEvents:"none"}}}}}];pe("paging",Yt);var Gt=function(e){return W("a.grid-item",W(".image-holder",W(".image",{oncreate:function(t){var n=t.dom;n.style.backgroundImage="url("+me.imageUrl+e.src+")"}})))},Qt=function(e){return W.request({method:"GET",url:"data/paging/page-"+e+".json"})},en={oninit:function(e){var t=0,n=W.route.param("p")?parseInt(W.route.param("p"),10):1,i=function(e){return Qt(e).then(function(e){return t=e.length,e})};e.state={getPageData:i,pageNum:n,hasPrev:function(e){return e>1},hasNext:function(e){return e<t}}},view:function(e){var t=e.state,n=W.route.param("p")?parseInt(W.route.param("p"),10):t.pageNum;return W("div",[W(".paging",[W(".count","Page "+n),W(Qe,{item:Gt,pageData:t.getPageData,pageChange:function(e){return t.pageNum=e},currentPage:n,autoSize:!1}),W(".pager",[W("a",{class:t.hasPrev(n)?"":"disabled",href:"/paging/"+(n-1),oncreate:W.route.link},"Prev"),W("a",{class:t.hasNext(n)?"":"disabled",href:"/paging/"+(n+1),oncreate:W.route.link},"Next")])]),we()])}},tn=[{" *":{"box-sizing":"border-box"}," html, body, #app":{minHeight:"100%",height:"100%"}," body":{margin:0,padding:0,fontFamily:"arial, sans-serif",minWidth:he.size_px}," h1":{display:"block",margin:"40px auto 0 auto",width:"320px",textAlign:"center",fontSize:"28px",fontWeight:"normal",color:he.text_color}," a":{"&:link, &:visited":{color:"#1E88E5",textDecoration:"none"}}}],nn="#90A4AE",rn="#CFD8DC",on="rgba(0,0,0,.85)",an="rgba(0,0,0,.4)",ln=he.size_px,sn=[{".index":{" h1":{display:"block",margin:"40px auto 0 auto",width:he.size+"px",textAlign:"center",fontSize:"28px",fontWeight:"normal",color:he.text_color}," .menu":{width:ln,margin:"20px auto",padding:"0 0 20px 0",listStyle:"none"," li":{margin:"0 0 1px 0",padding:0,"&.header":{fontSize:"18px",color:nn},"&.header, a":{padding:"20px"}," a":{display:"block",textDecoration:"none",backgroundColor:rn," .title":{display:"block",color:on,fontSize:"18px",lineHeight:"25.2px"}," .subtitle":{display:"block",color:an,fontSize:"14px"}}}}}}];pe("common",tn),pe("index",sn);var un=500,cn=[{href:"/images",title:"Images",subtitle:"200 images of various heights"},{href:"/horizontal",title:"Horizontal",subtitle:"Horizontal scroller"},{href:"/grid",title:"Image grid",subtitle:"Responsive grid with 1, 2, 3 and 4 columns"},{href:"/table",title:"Data table",subtitle:"Table rows of various heights"},{href:"/short",title:"Short content",subtitle:"Automatically finds loadable space"},{href:"/fixed",title:"Fixed height",subtitle:'Preset the scroll height, don"t update scroll height'},{href:"/paging",title:"Paging",subtitle:"Previous / Next buttons instead of infinite scroll"}],fn=W("ul.menu",[W("li.header","Examples"),cn.map(function(e){return W("li",W("a",{href:e.href,oncreate:W.route.link},[W("span.title",e.title),W("span.subtitle",e.subtitle)]))})]),dn={view:function(){return W(".index",[W("h1","Infinite Scroll for Mithril"),fn,we({home:!0})])}},pn=document.querySelector("#app");W.route(pn,"/",{"/":dn,"/images":lt,"/grid":St,"/table":zt,"/short":At,"/horizontal":Vt,"/fixed":Xt,"/paging":en,"/paging/:p":en});var gn=0;window.onresize=function(){clearTimeout(gn),gn=setTimeout(W.redraw,un)}});
//# sourceMappingURL=examples.js.map
